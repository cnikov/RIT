{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = this && this.__param || function (paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nimport { $, addDisposableListener, append, asCSSUrl, EventType, ModifierKeyEmitter, prepend, reset } from '../../../base/browser/dom.js';\nimport { StandardKeyboardEvent } from '../../../base/browser/keyboardEvent.js';\nimport { ActionViewItem, BaseActionViewItem, SelectActionViewItem } from '../../../base/browser/ui/actionbar/actionViewItems.js';\nimport { DropdownMenuActionViewItem } from '../../../base/browser/ui/dropdown/dropdownActionViewItem.js';\nimport { ActionRunner, Separator, SubmenuAction } from '../../../base/common/actions.js';\nimport { UILabelProvider } from '../../../base/common/keybindingLabels.js';\nimport { combinedDisposable, MutableDisposable, toDisposable } from '../../../base/common/lifecycle.js';\nimport { isLinux, isWindows, OS } from '../../../base/common/platform.js';\nimport './menuEntryActionViewItem.css';\nimport { localize } from '../../../nls.js';\nimport { IMenuService, MenuItemAction, SubmenuItemAction } from '../common/actions.js';\nimport { isICommandActionToggleInfo } from '../../action/common/action.js';\nimport { IContextKeyService } from '../../contextkey/common/contextkey.js';\nimport { IContextMenuService, IContextViewService } from '../../contextview/browser/contextView.js';\nimport { IInstantiationService } from '../../instantiation/common/instantiation.js';\nimport { IKeybindingService } from '../../keybinding/common/keybinding.js';\nimport { INotificationService } from '../../notification/common/notification.js';\nimport { IStorageService } from '../../storage/common/storage.js';\nimport { IThemeService } from '../../theme/common/themeService.js';\nimport { ThemeIcon } from '../../../base/common/themables.js';\nimport { isDark } from '../../theme/common/theme.js';\nimport { assertType } from '../../../base/common/types.js';\nimport { asCssVariable, selectBorder } from '../../theme/common/colorRegistry.js';\nimport { defaultSelectBoxStyles } from '../../theme/browser/defaultStyles.js';\nimport { IAccessibilityService } from '../../accessibility/common/accessibility.js';\nexport function createAndFillInContextMenuActions(menu, options, target, primaryGroup) {\n  const groups = menu.getActions(options);\n  const modifierKeyEmitter = ModifierKeyEmitter.getInstance();\n  const useAlternativeActions = modifierKeyEmitter.keyStatus.altKey || (isWindows || isLinux) && modifierKeyEmitter.keyStatus.shiftKey;\n  fillInActions(groups, target, useAlternativeActions, primaryGroup ? actionGroup => actionGroup === primaryGroup : actionGroup => actionGroup === 'navigation');\n}\nexport function createAndFillInActionBarActions(menu, options, target, primaryGroup, shouldInlineSubmenu, useSeparatorsInPrimaryActions) {\n  const groups = menu.getActions(options);\n  const isPrimaryAction = typeof primaryGroup === 'string' ? actionGroup => actionGroup === primaryGroup : primaryGroup;\n  // Action bars handle alternative actions on their own so the alternative actions should be ignored\n  fillInActions(groups, target, false, isPrimaryAction, shouldInlineSubmenu, useSeparatorsInPrimaryActions);\n}\nfunction fillInActions(groups, target, useAlternativeActions, isPrimaryAction = actionGroup => actionGroup === 'navigation', shouldInlineSubmenu = () => false, useSeparatorsInPrimaryActions = false) {\n  let primaryBucket;\n  let secondaryBucket;\n  if (Array.isArray(target)) {\n    primaryBucket = target;\n    secondaryBucket = target;\n  } else {\n    primaryBucket = target.primary;\n    secondaryBucket = target.secondary;\n  }\n  const submenuInfo = new Set();\n  for (const [group, actions] of groups) {\n    let target;\n    if (isPrimaryAction(group)) {\n      target = primaryBucket;\n      if (target.length > 0 && useSeparatorsInPrimaryActions) {\n        target.push(new Separator());\n      }\n    } else {\n      target = secondaryBucket;\n      if (target.length > 0) {\n        target.push(new Separator());\n      }\n    }\n    for (let action of actions) {\n      if (useAlternativeActions) {\n        action = action instanceof MenuItemAction && action.alt ? action.alt : action;\n      }\n      const newLen = target.push(action);\n      // keep submenu info for later inlining\n      if (action instanceof SubmenuAction) {\n        submenuInfo.add({\n          group,\n          action,\n          index: newLen - 1\n        });\n      }\n    }\n  }\n  // ask the outside if submenu should be inlined or not. only ask when\n  // there would be enough space\n  for (const {\n    group,\n    action,\n    index\n  } of submenuInfo) {\n    const target = isPrimaryAction(group) ? primaryBucket : secondaryBucket;\n    // inlining submenus with length 0 or 1 is easy,\n    // larger submenus need to be checked with the overall limit\n    const submenuActions = action.actions;\n    if (shouldInlineSubmenu(action, group, target.length)) {\n      target.splice(index, 1, ...submenuActions);\n    }\n  }\n}\nlet MenuEntryActionViewItem = class MenuEntryActionViewItem extends ActionViewItem {\n  constructor(action, options, _keybindingService, _notificationService, _contextKeyService, _themeService, _contextMenuService, _accessibilityService) {\n    super(undefined, action, {\n      icon: !!(action.class || action.item.icon),\n      label: !action.class && !action.item.icon,\n      draggable: options === null || options === void 0 ? void 0 : options.draggable,\n      keybinding: options === null || options === void 0 ? void 0 : options.keybinding,\n      hoverDelegate: options === null || options === void 0 ? void 0 : options.hoverDelegate\n    });\n    this._keybindingService = _keybindingService;\n    this._notificationService = _notificationService;\n    this._contextKeyService = _contextKeyService;\n    this._themeService = _themeService;\n    this._contextMenuService = _contextMenuService;\n    this._accessibilityService = _accessibilityService;\n    this._wantsAltCommand = false;\n    this._itemClassDispose = this._register(new MutableDisposable());\n    this._altKey = ModifierKeyEmitter.getInstance();\n  }\n  get _menuItemAction() {\n    return this._action;\n  }\n  get _commandAction() {\n    return this._wantsAltCommand && this._menuItemAction.alt || this._menuItemAction;\n  }\n  onClick(event) {\n    return __awaiter(this, void 0, void 0, function* () {\n      event.preventDefault();\n      event.stopPropagation();\n      try {\n        yield this.actionRunner.run(this._commandAction, this._context);\n      } catch (err) {\n        this._notificationService.error(err);\n      }\n    });\n  }\n  render(container) {\n    super.render(container);\n    container.classList.add('menu-entry');\n    if (this.options.icon) {\n      this._updateItemClass(this._menuItemAction.item);\n    }\n    if (this._menuItemAction.alt) {\n      let isMouseOver = false;\n      const updateAltState = () => {\n        var _a;\n        const wantsAltCommand = !!((_a = this._menuItemAction.alt) === null || _a === void 0 ? void 0 : _a.enabled) && (!this._accessibilityService.isMotionReduced() || isMouseOver) && (this._altKey.keyStatus.altKey || this._altKey.keyStatus.shiftKey && isMouseOver);\n        if (wantsAltCommand !== this._wantsAltCommand) {\n          this._wantsAltCommand = wantsAltCommand;\n          this.updateLabel();\n          this.updateTooltip();\n          this.updateClass();\n        }\n      };\n      this._register(this._altKey.event(updateAltState));\n      this._register(addDisposableListener(container, 'mouseleave', _ => {\n        isMouseOver = false;\n        updateAltState();\n      }));\n      this._register(addDisposableListener(container, 'mouseenter', _ => {\n        isMouseOver = true;\n        updateAltState();\n      }));\n      updateAltState();\n    }\n  }\n  updateLabel() {\n    if (this.options.label && this.label) {\n      this.label.textContent = this._commandAction.label;\n    }\n  }\n  getTooltip() {\n    var _a;\n    const keybinding = this._keybindingService.lookupKeybinding(this._commandAction.id, this._contextKeyService);\n    const keybindingLabel = keybinding && keybinding.getLabel();\n    const tooltip = this._commandAction.tooltip || this._commandAction.label;\n    let title = keybindingLabel ? localize('titleAndKb', \"{0} ({1})\", tooltip, keybindingLabel) : tooltip;\n    if (!this._wantsAltCommand && ((_a = this._menuItemAction.alt) === null || _a === void 0 ? void 0 : _a.enabled)) {\n      const altTooltip = this._menuItemAction.alt.tooltip || this._menuItemAction.alt.label;\n      const altKeybinding = this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id, this._contextKeyService);\n      const altKeybindingLabel = altKeybinding && altKeybinding.getLabel();\n      const altTitleSection = altKeybindingLabel ? localize('titleAndKb', \"{0} ({1})\", altTooltip, altKeybindingLabel) : altTooltip;\n      title = localize('titleAndKbAndAlt', \"{0}\\n[{1}] {2}\", title, UILabelProvider.modifierLabels[OS].altKey, altTitleSection);\n    }\n    return title;\n  }\n  updateClass() {\n    if (this.options.icon) {\n      if (this._commandAction !== this._menuItemAction) {\n        if (this._menuItemAction.alt) {\n          this._updateItemClass(this._menuItemAction.alt.item);\n        }\n      } else {\n        this._updateItemClass(this._menuItemAction.item);\n      }\n    }\n  }\n  _updateItemClass(item) {\n    this._itemClassDispose.value = undefined;\n    const {\n      element,\n      label\n    } = this;\n    if (!element || !label) {\n      return;\n    }\n    const icon = this._commandAction.checked && isICommandActionToggleInfo(item.toggled) && item.toggled.icon ? item.toggled.icon : item.icon;\n    if (!icon) {\n      return;\n    }\n    if (ThemeIcon.isThemeIcon(icon)) {\n      // theme icons\n      const iconClasses = ThemeIcon.asClassNameArray(icon);\n      label.classList.add(...iconClasses);\n      this._itemClassDispose.value = toDisposable(() => {\n        label.classList.remove(...iconClasses);\n      });\n    } else {\n      // icon path/url - add special element with SVG-mask and icon color background\n      const svgUrl = isDark(this._themeService.getColorTheme().type) ? asCSSUrl(icon.dark) : asCSSUrl(icon.light);\n      const svgIcon = $('span');\n      svgIcon.style.webkitMask = svgIcon.style.mask = `${svgUrl} no-repeat 50% 50%`;\n      svgIcon.style.background = 'var(--vscode-icon-foreground)';\n      svgIcon.style.display = 'inline-block';\n      svgIcon.style.width = '100%';\n      svgIcon.style.height = '100%';\n      label.appendChild(svgIcon);\n      label.classList.add('icon');\n      this._itemClassDispose.value = combinedDisposable(toDisposable(() => {\n        label.classList.remove('icon');\n        reset(label);\n      }), this._themeService.onDidColorThemeChange(() => {\n        // refresh when the theme changes in case we go between dark <-> light\n        this.updateClass();\n      }));\n    }\n  }\n};\nMenuEntryActionViewItem = __decorate([__param(2, IKeybindingService), __param(3, INotificationService), __param(4, IContextKeyService), __param(5, IThemeService), __param(6, IContextMenuService), __param(7, IAccessibilityService)], MenuEntryActionViewItem);\nexport { MenuEntryActionViewItem };\nlet SubmenuEntryActionViewItem = class SubmenuEntryActionViewItem extends DropdownMenuActionViewItem {\n  constructor(action, options, _keybindingService, _contextMenuService, _themeService) {\n    var _a, _b, _c;\n    const dropdownOptions = Object.assign(Object.assign({}, options), {\n      menuAsChild: (_a = options === null || options === void 0 ? void 0 : options.menuAsChild) !== null && _a !== void 0 ? _a : false,\n      classNames: (_b = options === null || options === void 0 ? void 0 : options.classNames) !== null && _b !== void 0 ? _b : ThemeIcon.isThemeIcon(action.item.icon) ? ThemeIcon.asClassName(action.item.icon) : undefined,\n      keybindingProvider: (_c = options === null || options === void 0 ? void 0 : options.keybindingProvider) !== null && _c !== void 0 ? _c : action => _keybindingService.lookupKeybinding(action.id)\n    });\n    super(action, {\n      getActions: () => action.actions\n    }, _contextMenuService, dropdownOptions);\n    this._keybindingService = _keybindingService;\n    this._contextMenuService = _contextMenuService;\n    this._themeService = _themeService;\n  }\n  render(container) {\n    super.render(container);\n    assertType(this.element);\n    container.classList.add('menu-entry');\n    const action = this._action;\n    const {\n      icon\n    } = action.item;\n    if (icon && !ThemeIcon.isThemeIcon(icon)) {\n      this.element.classList.add('icon');\n      const setBackgroundImage = () => {\n        if (this.element) {\n          this.element.style.backgroundImage = isDark(this._themeService.getColorTheme().type) ? asCSSUrl(icon.dark) : asCSSUrl(icon.light);\n        }\n      };\n      setBackgroundImage();\n      this._register(this._themeService.onDidColorThemeChange(() => {\n        // refresh when the theme changes in case we go between dark <-> light\n        setBackgroundImage();\n      }));\n    }\n  }\n};\nSubmenuEntryActionViewItem = __decorate([__param(2, IKeybindingService), __param(3, IContextMenuService), __param(4, IThemeService)], SubmenuEntryActionViewItem);\nexport { SubmenuEntryActionViewItem };\nlet DropdownWithDefaultActionViewItem = class DropdownWithDefaultActionViewItem extends BaseActionViewItem {\n  constructor(submenuAction, options, _keybindingService, _notificationService, _contextMenuService, _menuService, _instaService, _storageService) {\n    var _a, _b, _c;\n    super(null, submenuAction);\n    this._keybindingService = _keybindingService;\n    this._notificationService = _notificationService;\n    this._contextMenuService = _contextMenuService;\n    this._menuService = _menuService;\n    this._instaService = _instaService;\n    this._storageService = _storageService;\n    this._container = null;\n    this._options = options;\n    this._storageKey = `${submenuAction.item.submenu.id}_lastActionId`;\n    // determine default action\n    let defaultAction;\n    const defaultActionId = (options === null || options === void 0 ? void 0 : options.persistLastActionId) ? _storageService.get(this._storageKey, 1 /* StorageScope.WORKSPACE */) : undefined;\n    if (defaultActionId) {\n      defaultAction = submenuAction.actions.find(a => defaultActionId === a.id);\n    }\n    if (!defaultAction) {\n      defaultAction = submenuAction.actions[0];\n    }\n    this._defaultAction = this._instaService.createInstance(MenuEntryActionViewItem, defaultAction, {\n      keybinding: this._getDefaultActionKeybindingLabel(defaultAction)\n    });\n    const dropdownOptions = Object.assign(Object.assign({\n      keybindingProvider: action => this._keybindingService.lookupKeybinding(action.id)\n    }, options), {\n      menuAsChild: (_a = options === null || options === void 0 ? void 0 : options.menuAsChild) !== null && _a !== void 0 ? _a : true,\n      classNames: (_b = options === null || options === void 0 ? void 0 : options.classNames) !== null && _b !== void 0 ? _b : ['codicon', 'codicon-chevron-down'],\n      actionRunner: (_c = options === null || options === void 0 ? void 0 : options.actionRunner) !== null && _c !== void 0 ? _c : new ActionRunner()\n    });\n    this._dropdown = new DropdownMenuActionViewItem(submenuAction, submenuAction.actions, this._contextMenuService, dropdownOptions);\n    this._dropdown.actionRunner.onDidRun(e => {\n      if (e.action instanceof MenuItemAction) {\n        this.update(e.action);\n      }\n    });\n  }\n  update(lastAction) {\n    var _a;\n    if ((_a = this._options) === null || _a === void 0 ? void 0 : _a.persistLastActionId) {\n      this._storageService.store(this._storageKey, lastAction.id, 1 /* StorageScope.WORKSPACE */, 1 /* StorageTarget.MACHINE */);\n    }\n\n    this._defaultAction.dispose();\n    this._defaultAction = this._instaService.createInstance(MenuEntryActionViewItem, lastAction, {\n      keybinding: this._getDefaultActionKeybindingLabel(lastAction)\n    });\n    this._defaultAction.actionRunner = new class extends ActionRunner {\n      runAction(action, context) {\n        return __awaiter(this, void 0, void 0, function* () {\n          yield action.run(undefined);\n        });\n      }\n    }();\n    if (this._container) {\n      this._defaultAction.render(prepend(this._container, $('.action-container')));\n    }\n  }\n  _getDefaultActionKeybindingLabel(defaultAction) {\n    var _a;\n    let defaultActionKeybinding;\n    if ((_a = this._options) === null || _a === void 0 ? void 0 : _a.renderKeybindingWithDefaultActionLabel) {\n      const kb = this._keybindingService.lookupKeybinding(defaultAction.id);\n      if (kb) {\n        defaultActionKeybinding = `(${kb.getLabel()})`;\n      }\n    }\n    return defaultActionKeybinding;\n  }\n  setActionContext(newContext) {\n    super.setActionContext(newContext);\n    this._defaultAction.setActionContext(newContext);\n    this._dropdown.setActionContext(newContext);\n  }\n  render(container) {\n    this._container = container;\n    super.render(this._container);\n    this._container.classList.add('monaco-dropdown-with-default');\n    const primaryContainer = $('.action-container');\n    this._defaultAction.render(append(this._container, primaryContainer));\n    this._register(addDisposableListener(primaryContainer, EventType.KEY_DOWN, e => {\n      const event = new StandardKeyboardEvent(e);\n      if (event.equals(17 /* KeyCode.RightArrow */)) {\n        this._defaultAction.element.tabIndex = -1;\n        this._dropdown.focus();\n        event.stopPropagation();\n      }\n    }));\n    const dropdownContainer = $('.dropdown-action-container');\n    this._dropdown.render(append(this._container, dropdownContainer));\n    this._register(addDisposableListener(dropdownContainer, EventType.KEY_DOWN, e => {\n      var _a;\n      const event = new StandardKeyboardEvent(e);\n      if (event.equals(15 /* KeyCode.LeftArrow */)) {\n        this._defaultAction.element.tabIndex = 0;\n        this._dropdown.setFocusable(false);\n        (_a = this._defaultAction.element) === null || _a === void 0 ? void 0 : _a.focus();\n        event.stopPropagation();\n      }\n    }));\n  }\n  focus(fromRight) {\n    if (fromRight) {\n      this._dropdown.focus();\n    } else {\n      this._defaultAction.element.tabIndex = 0;\n      this._defaultAction.element.focus();\n    }\n  }\n  blur() {\n    this._defaultAction.element.tabIndex = -1;\n    this._dropdown.blur();\n    this._container.blur();\n  }\n  setFocusable(focusable) {\n    if (focusable) {\n      this._defaultAction.element.tabIndex = 0;\n    } else {\n      this._defaultAction.element.tabIndex = -1;\n      this._dropdown.setFocusable(false);\n    }\n  }\n  dispose() {\n    this._defaultAction.dispose();\n    this._dropdown.dispose();\n    super.dispose();\n  }\n};\nDropdownWithDefaultActionViewItem = __decorate([__param(2, IKeybindingService), __param(3, INotificationService), __param(4, IContextMenuService), __param(5, IMenuService), __param(6, IInstantiationService), __param(7, IStorageService)], DropdownWithDefaultActionViewItem);\nexport { DropdownWithDefaultActionViewItem };\nlet SubmenuEntrySelectActionViewItem = class SubmenuEntrySelectActionViewItem extends SelectActionViewItem {\n  constructor(action, contextViewService) {\n    super(null, action, action.actions.map(a => ({\n      text: a.id === Separator.ID ? '\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500' : a.label,\n      isDisabled: !a.enabled\n    })), 0, contextViewService, defaultSelectBoxStyles, {\n      ariaLabel: action.tooltip,\n      optionsAsChildren: true\n    });\n    this.select(Math.max(0, action.actions.findIndex(a => a.checked)));\n  }\n  render(container) {\n    super.render(container);\n    container.style.borderColor = asCssVariable(selectBorder);\n  }\n  runAction(option, index) {\n    const action = this.action.actions[index];\n    if (action) {\n      this.actionRunner.run(action);\n    }\n  }\n};\nSubmenuEntrySelectActionViewItem = __decorate([__param(1, IContextViewService)], SubmenuEntrySelectActionViewItem);\n/**\n * Creates action view items for menu actions or submenu actions.\n */\nexport function createActionViewItem(instaService, action, options) {\n  if (action instanceof MenuItemAction) {\n    return instaService.createInstance(MenuEntryActionViewItem, action, options);\n  } else if (action instanceof SubmenuItemAction) {\n    if (action.item.isSelection) {\n      return instaService.createInstance(SubmenuEntrySelectActionViewItem, action);\n    } else {\n      if (action.item.rememberDefaultAction) {\n        return instaService.createInstance(DropdownWithDefaultActionViewItem, action, Object.assign(Object.assign({}, options), {\n          persistLastActionId: true\n        }));\n      } else {\n        return instaService.createInstance(SubmenuEntryActionViewItem, action, options);\n      }\n    }\n  } else {\n    return undefined;\n  }\n}","map":{"version":3,"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","$","addDisposableListener","append","asCSSUrl","EventType","ModifierKeyEmitter","prepend","reset","StandardKeyboardEvent","ActionViewItem","BaseActionViewItem","SelectActionViewItem","DropdownMenuActionViewItem","ActionRunner","Separator","SubmenuAction","UILabelProvider","combinedDisposable","MutableDisposable","toDisposable","isLinux","isWindows","OS","localize","IMenuService","MenuItemAction","SubmenuItemAction","isICommandActionToggleInfo","IContextKeyService","IContextMenuService","IContextViewService","IInstantiationService","IKeybindingService","INotificationService","IStorageService","IThemeService","ThemeIcon","isDark","assertType","asCssVariable","selectBorder","defaultSelectBoxStyles","IAccessibilityService","createAndFillInContextMenuActions","menu","options","primaryGroup","groups","getActions","modifierKeyEmitter","getInstance","useAlternativeActions","keyStatus","altKey","shiftKey","fillInActions","actionGroup","createAndFillInActionBarActions","shouldInlineSubmenu","useSeparatorsInPrimaryActions","isPrimaryAction","primaryBucket","secondaryBucket","Array","isArray","primary","secondary","submenuInfo","Set","group","actions","push","action","alt","newLen","add","index","submenuActions","splice","MenuEntryActionViewItem","constructor","_keybindingService","_notificationService","_contextKeyService","_themeService","_contextMenuService","_accessibilityService","undefined","icon","class","item","label","draggable","keybinding","hoverDelegate","_wantsAltCommand","_itemClassDispose","_register","_altKey","_menuItemAction","_action","_commandAction","onClick","event","preventDefault","stopPropagation","actionRunner","run","_context","err","error","render","container","classList","_updateItemClass","isMouseOver","updateAltState","_a","wantsAltCommand","enabled","isMotionReduced","updateLabel","updateTooltip","updateClass","_","textContent","getTooltip","lookupKeybinding","id","keybindingLabel","getLabel","tooltip","title","altTooltip","altKeybinding","altKeybindingLabel","altTitleSection","modifierLabels","element","checked","toggled","isThemeIcon","iconClasses","asClassNameArray","remove","svgUrl","getColorTheme","type","dark","light","svgIcon","style","webkitMask","mask","background","display","width","height","appendChild","onDidColorThemeChange","SubmenuEntryActionViewItem","_b","_c","dropdownOptions","assign","menuAsChild","classNames","asClassName","keybindingProvider","setBackgroundImage","backgroundImage","DropdownWithDefaultActionViewItem","submenuAction","_menuService","_instaService","_storageService","_container","_options","_storageKey","submenu","defaultAction","defaultActionId","persistLastActionId","get","find","a","_defaultAction","createInstance","_getDefaultActionKeybindingLabel","_dropdown","onDidRun","update","lastAction","store","dispose","runAction","context","defaultActionKeybinding","renderKeybindingWithDefaultActionLabel","kb","setActionContext","newContext","primaryContainer","KEY_DOWN","equals","tabIndex","focus","dropdownContainer","setFocusable","fromRight","blur","focusable","SubmenuEntrySelectActionViewItem","contextViewService","map","text","ID","isDisabled","ariaLabel","optionsAsChildren","select","Math","max","findIndex","borderColor","option","createActionViewItem","instaService","isSelection","rememberDefaultAction"],"sources":["/home/chlohest/work/website/my_web/node_modules/monaco-editor/esm/vs/platform/actions/browser/menuEntryActionViewItem.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { $, addDisposableListener, append, asCSSUrl, EventType, ModifierKeyEmitter, prepend, reset } from '../../../base/browser/dom.js';\nimport { StandardKeyboardEvent } from '../../../base/browser/keyboardEvent.js';\nimport { ActionViewItem, BaseActionViewItem, SelectActionViewItem } from '../../../base/browser/ui/actionbar/actionViewItems.js';\nimport { DropdownMenuActionViewItem } from '../../../base/browser/ui/dropdown/dropdownActionViewItem.js';\nimport { ActionRunner, Separator, SubmenuAction } from '../../../base/common/actions.js';\nimport { UILabelProvider } from '../../../base/common/keybindingLabels.js';\nimport { combinedDisposable, MutableDisposable, toDisposable } from '../../../base/common/lifecycle.js';\nimport { isLinux, isWindows, OS } from '../../../base/common/platform.js';\nimport './menuEntryActionViewItem.css';\nimport { localize } from '../../../nls.js';\nimport { IMenuService, MenuItemAction, SubmenuItemAction } from '../common/actions.js';\nimport { isICommandActionToggleInfo } from '../../action/common/action.js';\nimport { IContextKeyService } from '../../contextkey/common/contextkey.js';\nimport { IContextMenuService, IContextViewService } from '../../contextview/browser/contextView.js';\nimport { IInstantiationService } from '../../instantiation/common/instantiation.js';\nimport { IKeybindingService } from '../../keybinding/common/keybinding.js';\nimport { INotificationService } from '../../notification/common/notification.js';\nimport { IStorageService } from '../../storage/common/storage.js';\nimport { IThemeService } from '../../theme/common/themeService.js';\nimport { ThemeIcon } from '../../../base/common/themables.js';\nimport { isDark } from '../../theme/common/theme.js';\nimport { assertType } from '../../../base/common/types.js';\nimport { asCssVariable, selectBorder } from '../../theme/common/colorRegistry.js';\nimport { defaultSelectBoxStyles } from '../../theme/browser/defaultStyles.js';\nimport { IAccessibilityService } from '../../accessibility/common/accessibility.js';\nexport function createAndFillInContextMenuActions(menu, options, target, primaryGroup) {\n    const groups = menu.getActions(options);\n    const modifierKeyEmitter = ModifierKeyEmitter.getInstance();\n    const useAlternativeActions = modifierKeyEmitter.keyStatus.altKey || ((isWindows || isLinux) && modifierKeyEmitter.keyStatus.shiftKey);\n    fillInActions(groups, target, useAlternativeActions, primaryGroup ? actionGroup => actionGroup === primaryGroup : actionGroup => actionGroup === 'navigation');\n}\nexport function createAndFillInActionBarActions(menu, options, target, primaryGroup, shouldInlineSubmenu, useSeparatorsInPrimaryActions) {\n    const groups = menu.getActions(options);\n    const isPrimaryAction = typeof primaryGroup === 'string' ? (actionGroup) => actionGroup === primaryGroup : primaryGroup;\n    // Action bars handle alternative actions on their own so the alternative actions should be ignored\n    fillInActions(groups, target, false, isPrimaryAction, shouldInlineSubmenu, useSeparatorsInPrimaryActions);\n}\nfunction fillInActions(groups, target, useAlternativeActions, isPrimaryAction = actionGroup => actionGroup === 'navigation', shouldInlineSubmenu = () => false, useSeparatorsInPrimaryActions = false) {\n    let primaryBucket;\n    let secondaryBucket;\n    if (Array.isArray(target)) {\n        primaryBucket = target;\n        secondaryBucket = target;\n    }\n    else {\n        primaryBucket = target.primary;\n        secondaryBucket = target.secondary;\n    }\n    const submenuInfo = new Set();\n    for (const [group, actions] of groups) {\n        let target;\n        if (isPrimaryAction(group)) {\n            target = primaryBucket;\n            if (target.length > 0 && useSeparatorsInPrimaryActions) {\n                target.push(new Separator());\n            }\n        }\n        else {\n            target = secondaryBucket;\n            if (target.length > 0) {\n                target.push(new Separator());\n            }\n        }\n        for (let action of actions) {\n            if (useAlternativeActions) {\n                action = action instanceof MenuItemAction && action.alt ? action.alt : action;\n            }\n            const newLen = target.push(action);\n            // keep submenu info for later inlining\n            if (action instanceof SubmenuAction) {\n                submenuInfo.add({ group, action, index: newLen - 1 });\n            }\n        }\n    }\n    // ask the outside if submenu should be inlined or not. only ask when\n    // there would be enough space\n    for (const { group, action, index } of submenuInfo) {\n        const target = isPrimaryAction(group) ? primaryBucket : secondaryBucket;\n        // inlining submenus with length 0 or 1 is easy,\n        // larger submenus need to be checked with the overall limit\n        const submenuActions = action.actions;\n        if (shouldInlineSubmenu(action, group, target.length)) {\n            target.splice(index, 1, ...submenuActions);\n        }\n    }\n}\nlet MenuEntryActionViewItem = class MenuEntryActionViewItem extends ActionViewItem {\n    constructor(action, options, _keybindingService, _notificationService, _contextKeyService, _themeService, _contextMenuService, _accessibilityService) {\n        super(undefined, action, { icon: !!(action.class || action.item.icon), label: !action.class && !action.item.icon, draggable: options === null || options === void 0 ? void 0 : options.draggable, keybinding: options === null || options === void 0 ? void 0 : options.keybinding, hoverDelegate: options === null || options === void 0 ? void 0 : options.hoverDelegate });\n        this._keybindingService = _keybindingService;\n        this._notificationService = _notificationService;\n        this._contextKeyService = _contextKeyService;\n        this._themeService = _themeService;\n        this._contextMenuService = _contextMenuService;\n        this._accessibilityService = _accessibilityService;\n        this._wantsAltCommand = false;\n        this._itemClassDispose = this._register(new MutableDisposable());\n        this._altKey = ModifierKeyEmitter.getInstance();\n    }\n    get _menuItemAction() {\n        return this._action;\n    }\n    get _commandAction() {\n        return this._wantsAltCommand && this._menuItemAction.alt || this._menuItemAction;\n    }\n    onClick(event) {\n        return __awaiter(this, void 0, void 0, function* () {\n            event.preventDefault();\n            event.stopPropagation();\n            try {\n                yield this.actionRunner.run(this._commandAction, this._context);\n            }\n            catch (err) {\n                this._notificationService.error(err);\n            }\n        });\n    }\n    render(container) {\n        super.render(container);\n        container.classList.add('menu-entry');\n        if (this.options.icon) {\n            this._updateItemClass(this._menuItemAction.item);\n        }\n        if (this._menuItemAction.alt) {\n            let isMouseOver = false;\n            const updateAltState = () => {\n                var _a;\n                const wantsAltCommand = !!((_a = this._menuItemAction.alt) === null || _a === void 0 ? void 0 : _a.enabled) &&\n                    (!this._accessibilityService.isMotionReduced() || isMouseOver) && (this._altKey.keyStatus.altKey ||\n                    (this._altKey.keyStatus.shiftKey && isMouseOver));\n                if (wantsAltCommand !== this._wantsAltCommand) {\n                    this._wantsAltCommand = wantsAltCommand;\n                    this.updateLabel();\n                    this.updateTooltip();\n                    this.updateClass();\n                }\n            };\n            this._register(this._altKey.event(updateAltState));\n            this._register(addDisposableListener(container, 'mouseleave', _ => {\n                isMouseOver = false;\n                updateAltState();\n            }));\n            this._register(addDisposableListener(container, 'mouseenter', _ => {\n                isMouseOver = true;\n                updateAltState();\n            }));\n            updateAltState();\n        }\n    }\n    updateLabel() {\n        if (this.options.label && this.label) {\n            this.label.textContent = this._commandAction.label;\n        }\n    }\n    getTooltip() {\n        var _a;\n        const keybinding = this._keybindingService.lookupKeybinding(this._commandAction.id, this._contextKeyService);\n        const keybindingLabel = keybinding && keybinding.getLabel();\n        const tooltip = this._commandAction.tooltip || this._commandAction.label;\n        let title = keybindingLabel\n            ? localize('titleAndKb', \"{0} ({1})\", tooltip, keybindingLabel)\n            : tooltip;\n        if (!this._wantsAltCommand && ((_a = this._menuItemAction.alt) === null || _a === void 0 ? void 0 : _a.enabled)) {\n            const altTooltip = this._menuItemAction.alt.tooltip || this._menuItemAction.alt.label;\n            const altKeybinding = this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id, this._contextKeyService);\n            const altKeybindingLabel = altKeybinding && altKeybinding.getLabel();\n            const altTitleSection = altKeybindingLabel\n                ? localize('titleAndKb', \"{0} ({1})\", altTooltip, altKeybindingLabel)\n                : altTooltip;\n            title = localize('titleAndKbAndAlt', \"{0}\\n[{1}] {2}\", title, UILabelProvider.modifierLabels[OS].altKey, altTitleSection);\n        }\n        return title;\n    }\n    updateClass() {\n        if (this.options.icon) {\n            if (this._commandAction !== this._menuItemAction) {\n                if (this._menuItemAction.alt) {\n                    this._updateItemClass(this._menuItemAction.alt.item);\n                }\n            }\n            else {\n                this._updateItemClass(this._menuItemAction.item);\n            }\n        }\n    }\n    _updateItemClass(item) {\n        this._itemClassDispose.value = undefined;\n        const { element, label } = this;\n        if (!element || !label) {\n            return;\n        }\n        const icon = this._commandAction.checked && isICommandActionToggleInfo(item.toggled) && item.toggled.icon ? item.toggled.icon : item.icon;\n        if (!icon) {\n            return;\n        }\n        if (ThemeIcon.isThemeIcon(icon)) {\n            // theme icons\n            const iconClasses = ThemeIcon.asClassNameArray(icon);\n            label.classList.add(...iconClasses);\n            this._itemClassDispose.value = toDisposable(() => {\n                label.classList.remove(...iconClasses);\n            });\n        }\n        else {\n            // icon path/url - add special element with SVG-mask and icon color background\n            const svgUrl = isDark(this._themeService.getColorTheme().type)\n                ? asCSSUrl(icon.dark)\n                : asCSSUrl(icon.light);\n            const svgIcon = $('span');\n            svgIcon.style.webkitMask = svgIcon.style.mask = `${svgUrl} no-repeat 50% 50%`;\n            svgIcon.style.background = 'var(--vscode-icon-foreground)';\n            svgIcon.style.display = 'inline-block';\n            svgIcon.style.width = '100%';\n            svgIcon.style.height = '100%';\n            label.appendChild(svgIcon);\n            label.classList.add('icon');\n            this._itemClassDispose.value = combinedDisposable(toDisposable(() => {\n                label.classList.remove('icon');\n                reset(label);\n            }), this._themeService.onDidColorThemeChange(() => {\n                // refresh when the theme changes in case we go between dark <-> light\n                this.updateClass();\n            }));\n        }\n    }\n};\nMenuEntryActionViewItem = __decorate([\n    __param(2, IKeybindingService),\n    __param(3, INotificationService),\n    __param(4, IContextKeyService),\n    __param(5, IThemeService),\n    __param(6, IContextMenuService),\n    __param(7, IAccessibilityService)\n], MenuEntryActionViewItem);\nexport { MenuEntryActionViewItem };\nlet SubmenuEntryActionViewItem = class SubmenuEntryActionViewItem extends DropdownMenuActionViewItem {\n    constructor(action, options, _keybindingService, _contextMenuService, _themeService) {\n        var _a, _b, _c;\n        const dropdownOptions = Object.assign(Object.assign({}, options), { menuAsChild: (_a = options === null || options === void 0 ? void 0 : options.menuAsChild) !== null && _a !== void 0 ? _a : false, classNames: (_b = options === null || options === void 0 ? void 0 : options.classNames) !== null && _b !== void 0 ? _b : (ThemeIcon.isThemeIcon(action.item.icon) ? ThemeIcon.asClassName(action.item.icon) : undefined), keybindingProvider: (_c = options === null || options === void 0 ? void 0 : options.keybindingProvider) !== null && _c !== void 0 ? _c : (action => _keybindingService.lookupKeybinding(action.id)) });\n        super(action, { getActions: () => action.actions }, _contextMenuService, dropdownOptions);\n        this._keybindingService = _keybindingService;\n        this._contextMenuService = _contextMenuService;\n        this._themeService = _themeService;\n    }\n    render(container) {\n        super.render(container);\n        assertType(this.element);\n        container.classList.add('menu-entry');\n        const action = this._action;\n        const { icon } = action.item;\n        if (icon && !ThemeIcon.isThemeIcon(icon)) {\n            this.element.classList.add('icon');\n            const setBackgroundImage = () => {\n                if (this.element) {\n                    this.element.style.backgroundImage = (isDark(this._themeService.getColorTheme().type)\n                        ? asCSSUrl(icon.dark)\n                        : asCSSUrl(icon.light));\n                }\n            };\n            setBackgroundImage();\n            this._register(this._themeService.onDidColorThemeChange(() => {\n                // refresh when the theme changes in case we go between dark <-> light\n                setBackgroundImage();\n            }));\n        }\n    }\n};\nSubmenuEntryActionViewItem = __decorate([\n    __param(2, IKeybindingService),\n    __param(3, IContextMenuService),\n    __param(4, IThemeService)\n], SubmenuEntryActionViewItem);\nexport { SubmenuEntryActionViewItem };\nlet DropdownWithDefaultActionViewItem = class DropdownWithDefaultActionViewItem extends BaseActionViewItem {\n    constructor(submenuAction, options, _keybindingService, _notificationService, _contextMenuService, _menuService, _instaService, _storageService) {\n        var _a, _b, _c;\n        super(null, submenuAction);\n        this._keybindingService = _keybindingService;\n        this._notificationService = _notificationService;\n        this._contextMenuService = _contextMenuService;\n        this._menuService = _menuService;\n        this._instaService = _instaService;\n        this._storageService = _storageService;\n        this._container = null;\n        this._options = options;\n        this._storageKey = `${submenuAction.item.submenu.id}_lastActionId`;\n        // determine default action\n        let defaultAction;\n        const defaultActionId = (options === null || options === void 0 ? void 0 : options.persistLastActionId) ? _storageService.get(this._storageKey, 1 /* StorageScope.WORKSPACE */) : undefined;\n        if (defaultActionId) {\n            defaultAction = submenuAction.actions.find(a => defaultActionId === a.id);\n        }\n        if (!defaultAction) {\n            defaultAction = submenuAction.actions[0];\n        }\n        this._defaultAction = this._instaService.createInstance(MenuEntryActionViewItem, defaultAction, { keybinding: this._getDefaultActionKeybindingLabel(defaultAction) });\n        const dropdownOptions = Object.assign(Object.assign({ keybindingProvider: action => this._keybindingService.lookupKeybinding(action.id) }, options), { menuAsChild: (_a = options === null || options === void 0 ? void 0 : options.menuAsChild) !== null && _a !== void 0 ? _a : true, classNames: (_b = options === null || options === void 0 ? void 0 : options.classNames) !== null && _b !== void 0 ? _b : ['codicon', 'codicon-chevron-down'], actionRunner: (_c = options === null || options === void 0 ? void 0 : options.actionRunner) !== null && _c !== void 0 ? _c : new ActionRunner() });\n        this._dropdown = new DropdownMenuActionViewItem(submenuAction, submenuAction.actions, this._contextMenuService, dropdownOptions);\n        this._dropdown.actionRunner.onDidRun((e) => {\n            if (e.action instanceof MenuItemAction) {\n                this.update(e.action);\n            }\n        });\n    }\n    update(lastAction) {\n        var _a;\n        if ((_a = this._options) === null || _a === void 0 ? void 0 : _a.persistLastActionId) {\n            this._storageService.store(this._storageKey, lastAction.id, 1 /* StorageScope.WORKSPACE */, 1 /* StorageTarget.MACHINE */);\n        }\n        this._defaultAction.dispose();\n        this._defaultAction = this._instaService.createInstance(MenuEntryActionViewItem, lastAction, { keybinding: this._getDefaultActionKeybindingLabel(lastAction) });\n        this._defaultAction.actionRunner = new class extends ActionRunner {\n            runAction(action, context) {\n                return __awaiter(this, void 0, void 0, function* () {\n                    yield action.run(undefined);\n                });\n            }\n        }();\n        if (this._container) {\n            this._defaultAction.render(prepend(this._container, $('.action-container')));\n        }\n    }\n    _getDefaultActionKeybindingLabel(defaultAction) {\n        var _a;\n        let defaultActionKeybinding;\n        if ((_a = this._options) === null || _a === void 0 ? void 0 : _a.renderKeybindingWithDefaultActionLabel) {\n            const kb = this._keybindingService.lookupKeybinding(defaultAction.id);\n            if (kb) {\n                defaultActionKeybinding = `(${kb.getLabel()})`;\n            }\n        }\n        return defaultActionKeybinding;\n    }\n    setActionContext(newContext) {\n        super.setActionContext(newContext);\n        this._defaultAction.setActionContext(newContext);\n        this._dropdown.setActionContext(newContext);\n    }\n    render(container) {\n        this._container = container;\n        super.render(this._container);\n        this._container.classList.add('monaco-dropdown-with-default');\n        const primaryContainer = $('.action-container');\n        this._defaultAction.render(append(this._container, primaryContainer));\n        this._register(addDisposableListener(primaryContainer, EventType.KEY_DOWN, (e) => {\n            const event = new StandardKeyboardEvent(e);\n            if (event.equals(17 /* KeyCode.RightArrow */)) {\n                this._defaultAction.element.tabIndex = -1;\n                this._dropdown.focus();\n                event.stopPropagation();\n            }\n        }));\n        const dropdownContainer = $('.dropdown-action-container');\n        this._dropdown.render(append(this._container, dropdownContainer));\n        this._register(addDisposableListener(dropdownContainer, EventType.KEY_DOWN, (e) => {\n            var _a;\n            const event = new StandardKeyboardEvent(e);\n            if (event.equals(15 /* KeyCode.LeftArrow */)) {\n                this._defaultAction.element.tabIndex = 0;\n                this._dropdown.setFocusable(false);\n                (_a = this._defaultAction.element) === null || _a === void 0 ? void 0 : _a.focus();\n                event.stopPropagation();\n            }\n        }));\n    }\n    focus(fromRight) {\n        if (fromRight) {\n            this._dropdown.focus();\n        }\n        else {\n            this._defaultAction.element.tabIndex = 0;\n            this._defaultAction.element.focus();\n        }\n    }\n    blur() {\n        this._defaultAction.element.tabIndex = -1;\n        this._dropdown.blur();\n        this._container.blur();\n    }\n    setFocusable(focusable) {\n        if (focusable) {\n            this._defaultAction.element.tabIndex = 0;\n        }\n        else {\n            this._defaultAction.element.tabIndex = -1;\n            this._dropdown.setFocusable(false);\n        }\n    }\n    dispose() {\n        this._defaultAction.dispose();\n        this._dropdown.dispose();\n        super.dispose();\n    }\n};\nDropdownWithDefaultActionViewItem = __decorate([\n    __param(2, IKeybindingService),\n    __param(3, INotificationService),\n    __param(4, IContextMenuService),\n    __param(5, IMenuService),\n    __param(6, IInstantiationService),\n    __param(7, IStorageService)\n], DropdownWithDefaultActionViewItem);\nexport { DropdownWithDefaultActionViewItem };\nlet SubmenuEntrySelectActionViewItem = class SubmenuEntrySelectActionViewItem extends SelectActionViewItem {\n    constructor(action, contextViewService) {\n        super(null, action, action.actions.map(a => ({\n            text: a.id === Separator.ID ? '\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500\\u2500' : a.label,\n            isDisabled: !a.enabled,\n        })), 0, contextViewService, defaultSelectBoxStyles, { ariaLabel: action.tooltip, optionsAsChildren: true });\n        this.select(Math.max(0, action.actions.findIndex(a => a.checked)));\n    }\n    render(container) {\n        super.render(container);\n        container.style.borderColor = asCssVariable(selectBorder);\n    }\n    runAction(option, index) {\n        const action = this.action.actions[index];\n        if (action) {\n            this.actionRunner.run(action);\n        }\n    }\n};\nSubmenuEntrySelectActionViewItem = __decorate([\n    __param(1, IContextViewService)\n], SubmenuEntrySelectActionViewItem);\n/**\n * Creates action view items for menu actions or submenu actions.\n */\nexport function createActionViewItem(instaService, action, options) {\n    if (action instanceof MenuItemAction) {\n        return instaService.createInstance(MenuEntryActionViewItem, action, options);\n    }\n    else if (action instanceof SubmenuItemAction) {\n        if (action.item.isSelection) {\n            return instaService.createInstance(SubmenuEntrySelectActionViewItem, action);\n        }\n        else {\n            if (action.item.rememberDefaultAction) {\n                return instaService.createInstance(DropdownWithDefaultActionViewItem, action, Object.assign(Object.assign({}, options), { persistLastActionId: true }));\n            }\n            else {\n                return instaService.createInstance(SubmenuEntryActionViewItem, action, options);\n            }\n        }\n    }\n    else {\n        return undefined;\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}