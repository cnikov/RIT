{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { CancellationTokenSource } from '../../../../base/common/cancellation.js';\nimport { isHotReloadEnabled, registerHotReloadHandler } from '../../../../base/common/hotReload.js';\nimport { Disposable, DisposableStore, toDisposable } from '../../../../base/common/lifecycle.js';\nimport { autorun, autorunHandleChanges, autorunOpts, observableSignalFromEvent, observableValue, transaction } from '../../../../base/common/observable.js';\nimport { ElementSizeObserver } from '../../config/elementSizeObserver.js';\nexport function joinCombine(arr1, arr2, keySelector, combine) {\n  if (arr1.length === 0) {\n    return arr2;\n  }\n  if (arr2.length === 0) {\n    return arr1;\n  }\n  const result = [];\n  let i = 0;\n  let j = 0;\n  while (i < arr1.length && j < arr2.length) {\n    const val1 = arr1[i];\n    const val2 = arr2[j];\n    const key1 = keySelector(val1);\n    const key2 = keySelector(val2);\n    if (key1 < key2) {\n      result.push(val1);\n      i++;\n    } else if (key1 > key2) {\n      result.push(val2);\n      j++;\n    } else {\n      result.push(combine(val1, val2));\n      i++;\n      j++;\n    }\n  }\n  while (i < arr1.length) {\n    result.push(arr1[i]);\n    i++;\n  }\n  while (j < arr2.length) {\n    result.push(arr2[j]);\n    j++;\n  }\n  return result;\n}\n// TODO make utility\nexport function applyObservableDecorations(editor, decorations) {\n  const d = new DisposableStore();\n  const decorationsCollection = editor.createDecorationsCollection();\n  d.add(autorunOpts({\n    debugName: () => `Apply decorations from ${decorations.debugName}`\n  }, reader => {\n    const d = decorations.read(reader);\n    decorationsCollection.set(d);\n  }));\n  d.add({\n    dispose: () => {\n      decorationsCollection.clear();\n    }\n  });\n  return d;\n}\nexport function appendRemoveOnDispose(parent, child) {\n  parent.appendChild(child);\n  return toDisposable(() => {\n    parent.removeChild(child);\n  });\n}\nexport class ObservableElementSizeObserver extends Disposable {\n  get width() {\n    return this._width;\n  }\n  get height() {\n    return this._height;\n  }\n  constructor(element, dimension) {\n    super();\n    this.elementSizeObserver = this._register(new ElementSizeObserver(element, dimension));\n    this._width = observableValue(this, this.elementSizeObserver.getWidth());\n    this._height = observableValue(this, this.elementSizeObserver.getHeight());\n    this._register(this.elementSizeObserver.onDidChange(e => transaction(tx => {\n      /** @description Set width/height from elementSizeObserver */\n      this._width.set(this.elementSizeObserver.getWidth(), tx);\n      this._height.set(this.elementSizeObserver.getHeight(), tx);\n    })));\n  }\n  observe(dimension) {\n    this.elementSizeObserver.observe(dimension);\n  }\n  setAutomaticLayout(automaticLayout) {\n    if (automaticLayout) {\n      this.elementSizeObserver.startObserving();\n    } else {\n      this.elementSizeObserver.stopObserving();\n    }\n  }\n}\nexport function animatedObservable(base, store) {\n  let targetVal = base.get();\n  let startVal = targetVal;\n  let curVal = targetVal;\n  const result = observableValue('animatedValue', targetVal);\n  let animationStartMs = -1;\n  const durationMs = 300;\n  let animationFrame = undefined;\n  store.add(autorunHandleChanges({\n    createEmptyChangeSummary: () => ({\n      animate: false\n    }),\n    handleChange: (ctx, s) => {\n      if (ctx.didChange(base)) {\n        s.animate = s.animate || ctx.change;\n      }\n      return true;\n    }\n  }, (reader, s) => {\n    /** @description update value */\n    if (animationFrame !== undefined) {\n      cancelAnimationFrame(animationFrame);\n      animationFrame = undefined;\n    }\n    startVal = curVal;\n    targetVal = base.read(reader);\n    animationStartMs = Date.now() - (s.animate ? 0 : durationMs);\n    update();\n  }));\n  function update() {\n    const passedMs = Date.now() - animationStartMs;\n    curVal = Math.floor(easeOutExpo(passedMs, startVal, targetVal - startVal, durationMs));\n    if (passedMs < durationMs) {\n      animationFrame = requestAnimationFrame(update);\n    } else {\n      curVal = targetVal;\n    }\n    result.set(curVal, undefined);\n  }\n  return result;\n}\nfunction easeOutExpo(t, b, c, d) {\n  return t === d ? b + c : c * (-Math.pow(2, -10 * t / d) + 1) + b;\n}\nexport class ViewZoneOverlayWidget extends Disposable {\n  constructor(editor, viewZone, htmlElement) {\n    super();\n    this._register(new ManagedOverlayWidget(editor, htmlElement));\n    this._register(applyStyle(htmlElement, {\n      height: viewZone.actualHeight,\n      top: viewZone.actualTop\n    }));\n  }\n}\nexport class PlaceholderViewZone {\n  get afterLineNumber() {\n    return this._afterLineNumber.get();\n  }\n  constructor(_afterLineNumber, heightInPx) {\n    this._afterLineNumber = _afterLineNumber;\n    this.heightInPx = heightInPx;\n    this.domNode = document.createElement('div');\n    this._actualTop = observableValue(this, undefined);\n    this._actualHeight = observableValue(this, undefined);\n    this.actualTop = this._actualTop;\n    this.actualHeight = this._actualHeight;\n    this.showInHiddenAreas = true;\n    this.onChange = this._afterLineNumber;\n    this.onDomNodeTop = top => {\n      this._actualTop.set(top, undefined);\n    };\n    this.onComputedHeight = height => {\n      this._actualHeight.set(height, undefined);\n    };\n  }\n}\nexport class ManagedOverlayWidget {\n  constructor(_editor, _domElement) {\n    this._editor = _editor;\n    this._domElement = _domElement;\n    this._overlayWidgetId = `managedOverlayWidget-${ManagedOverlayWidget._counter++}`;\n    this._overlayWidget = {\n      getId: () => this._overlayWidgetId,\n      getDomNode: () => this._domElement,\n      getPosition: () => null\n    };\n    this._editor.addOverlayWidget(this._overlayWidget);\n  }\n  dispose() {\n    this._editor.removeOverlayWidget(this._overlayWidget);\n  }\n}\nManagedOverlayWidget._counter = 0;\nexport function applyStyle(domNode, style) {\n  return autorun(reader => {\n    /** @description applyStyle */\n    for (let [key, val] of Object.entries(style)) {\n      if (val && typeof val === 'object' && 'read' in val) {\n        val = val.read(reader);\n      }\n      if (typeof val === 'number') {\n        val = `${val}px`;\n      }\n      key = key.replace(/[A-Z]/g, m => '-' + m.toLowerCase());\n      domNode.style[key] = val;\n    }\n  });\n}\nexport function readHotReloadableExport(value, reader) {\n  observeHotReloadableExports([value], reader);\n  return value;\n}\nexport function observeHotReloadableExports(values, reader) {\n  if (isHotReloadEnabled()) {\n    const o = observableSignalFromEvent('reload', event => registerHotReloadHandler(oldExports => {\n      if (![...Object.values(oldExports)].some(v => values.includes(v))) {\n        return undefined;\n      }\n      return _newExports => {\n        event(undefined);\n        return true;\n      };\n    }));\n    o.read(reader);\n  }\n}\nexport function applyViewZones(editor, viewZones, setIsUpdating) {\n  const store = new DisposableStore();\n  const lastViewZoneIds = [];\n  store.add(autorun(reader => {\n    /** @description applyViewZones */\n    const curViewZones = viewZones.read(reader);\n    const viewZonIdsPerViewZone = new Map();\n    const viewZoneIdPerOnChangeObservable = new Map();\n    if (setIsUpdating) {\n      setIsUpdating(true);\n    }\n    editor.changeViewZones(a => {\n      for (const id of lastViewZoneIds) {\n        a.removeZone(id);\n      }\n      lastViewZoneIds.length = 0;\n      for (const z of curViewZones) {\n        const id = a.addZone(z);\n        lastViewZoneIds.push(id);\n        viewZonIdsPerViewZone.set(z, id);\n      }\n    });\n    if (setIsUpdating) {\n      setIsUpdating(false);\n    }\n    store.add(autorunHandleChanges({\n      createEmptyChangeSummary() {\n        return [];\n      },\n      handleChange(context, changeSummary) {\n        const id = viewZoneIdPerOnChangeObservable.get(context.changedObservable);\n        if (id !== undefined) {\n          changeSummary.push(id);\n        }\n        return true;\n      }\n    }, (reader, changeSummary) => {\n      /** @description layoutZone on change */\n      for (const vz of curViewZones) {\n        if (vz.onChange) {\n          viewZoneIdPerOnChangeObservable.set(vz.onChange, viewZonIdsPerViewZone.get(vz));\n          vz.onChange.read(reader);\n        }\n      }\n      if (setIsUpdating) {\n        setIsUpdating(true);\n      }\n      editor.changeViewZones(a => {\n        for (const id of changeSummary) {\n          a.layoutZone(id);\n        }\n      });\n      if (setIsUpdating) {\n        setIsUpdating(false);\n      }\n    }));\n  }));\n  store.add({\n    dispose() {\n      if (setIsUpdating) {\n        setIsUpdating(true);\n      }\n      editor.changeViewZones(a => {\n        for (const id of lastViewZoneIds) {\n          a.removeZone(id);\n        }\n      });\n      if (setIsUpdating) {\n        setIsUpdating(false);\n      }\n    }\n  });\n  return store;\n}\nexport class DisposableCancellationTokenSource extends CancellationTokenSource {\n  dispose() {\n    super.dispose(true);\n  }\n}","map":{"version":3,"names":["CancellationTokenSource","isHotReloadEnabled","registerHotReloadHandler","Disposable","DisposableStore","toDisposable","autorun","autorunHandleChanges","autorunOpts","observableSignalFromEvent","observableValue","transaction","ElementSizeObserver","joinCombine","arr1","arr2","keySelector","combine","length","result","i","j","val1","val2","key1","key2","push","applyObservableDecorations","editor","decorations","d","decorationsCollection","createDecorationsCollection","add","debugName","reader","read","set","dispose","clear","appendRemoveOnDispose","parent","child","appendChild","removeChild","ObservableElementSizeObserver","width","_width","height","_height","constructor","element","dimension","elementSizeObserver","_register","getWidth","getHeight","onDidChange","e","tx","observe","setAutomaticLayout","automaticLayout","startObserving","stopObserving","animatedObservable","base","store","targetVal","get","startVal","curVal","animationStartMs","durationMs","animationFrame","undefined","createEmptyChangeSummary","animate","handleChange","ctx","s","didChange","change","cancelAnimationFrame","Date","now","update","passedMs","Math","floor","easeOutExpo","requestAnimationFrame","t","b","c","pow","ViewZoneOverlayWidget","viewZone","htmlElement","ManagedOverlayWidget","applyStyle","actualHeight","top","actualTop","PlaceholderViewZone","afterLineNumber","_afterLineNumber","heightInPx","domNode","document","createElement","_actualTop","_actualHeight","showInHiddenAreas","onChange","onDomNodeTop","onComputedHeight","_editor","_domElement","_overlayWidgetId","_counter","_overlayWidget","getId","getDomNode","getPosition","addOverlayWidget","removeOverlayWidget","style","key","val","Object","entries","replace","m","toLowerCase","readHotReloadableExport","value","observeHotReloadableExports","values","o","event","oldExports","some","v","includes","_newExports","applyViewZones","viewZones","setIsUpdating","lastViewZoneIds","curViewZones","viewZonIdsPerViewZone","Map","viewZoneIdPerOnChangeObservable","changeViewZones","a","id","removeZone","z","addZone","context","changeSummary","changedObservable","vz","layoutZone","DisposableCancellationTokenSource"],"sources":["/home/chlohest/work/website/my_web/node_modules/monaco-editor/esm/vs/editor/browser/widget/diffEditor/utils.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { CancellationTokenSource } from '../../../../base/common/cancellation.js';\nimport { isHotReloadEnabled, registerHotReloadHandler } from '../../../../base/common/hotReload.js';\nimport { Disposable, DisposableStore, toDisposable } from '../../../../base/common/lifecycle.js';\nimport { autorun, autorunHandleChanges, autorunOpts, observableSignalFromEvent, observableValue, transaction } from '../../../../base/common/observable.js';\nimport { ElementSizeObserver } from '../../config/elementSizeObserver.js';\nexport function joinCombine(arr1, arr2, keySelector, combine) {\n    if (arr1.length === 0) {\n        return arr2;\n    }\n    if (arr2.length === 0) {\n        return arr1;\n    }\n    const result = [];\n    let i = 0;\n    let j = 0;\n    while (i < arr1.length && j < arr2.length) {\n        const val1 = arr1[i];\n        const val2 = arr2[j];\n        const key1 = keySelector(val1);\n        const key2 = keySelector(val2);\n        if (key1 < key2) {\n            result.push(val1);\n            i++;\n        }\n        else if (key1 > key2) {\n            result.push(val2);\n            j++;\n        }\n        else {\n            result.push(combine(val1, val2));\n            i++;\n            j++;\n        }\n    }\n    while (i < arr1.length) {\n        result.push(arr1[i]);\n        i++;\n    }\n    while (j < arr2.length) {\n        result.push(arr2[j]);\n        j++;\n    }\n    return result;\n}\n// TODO make utility\nexport function applyObservableDecorations(editor, decorations) {\n    const d = new DisposableStore();\n    const decorationsCollection = editor.createDecorationsCollection();\n    d.add(autorunOpts({ debugName: () => `Apply decorations from ${decorations.debugName}` }, reader => {\n        const d = decorations.read(reader);\n        decorationsCollection.set(d);\n    }));\n    d.add({\n        dispose: () => {\n            decorationsCollection.clear();\n        }\n    });\n    return d;\n}\nexport function appendRemoveOnDispose(parent, child) {\n    parent.appendChild(child);\n    return toDisposable(() => {\n        parent.removeChild(child);\n    });\n}\nexport class ObservableElementSizeObserver extends Disposable {\n    get width() { return this._width; }\n    get height() { return this._height; }\n    constructor(element, dimension) {\n        super();\n        this.elementSizeObserver = this._register(new ElementSizeObserver(element, dimension));\n        this._width = observableValue(this, this.elementSizeObserver.getWidth());\n        this._height = observableValue(this, this.elementSizeObserver.getHeight());\n        this._register(this.elementSizeObserver.onDidChange(e => transaction(tx => {\n            /** @description Set width/height from elementSizeObserver */\n            this._width.set(this.elementSizeObserver.getWidth(), tx);\n            this._height.set(this.elementSizeObserver.getHeight(), tx);\n        })));\n    }\n    observe(dimension) {\n        this.elementSizeObserver.observe(dimension);\n    }\n    setAutomaticLayout(automaticLayout) {\n        if (automaticLayout) {\n            this.elementSizeObserver.startObserving();\n        }\n        else {\n            this.elementSizeObserver.stopObserving();\n        }\n    }\n}\nexport function animatedObservable(base, store) {\n    let targetVal = base.get();\n    let startVal = targetVal;\n    let curVal = targetVal;\n    const result = observableValue('animatedValue', targetVal);\n    let animationStartMs = -1;\n    const durationMs = 300;\n    let animationFrame = undefined;\n    store.add(autorunHandleChanges({\n        createEmptyChangeSummary: () => ({ animate: false }),\n        handleChange: (ctx, s) => {\n            if (ctx.didChange(base)) {\n                s.animate = s.animate || ctx.change;\n            }\n            return true;\n        }\n    }, (reader, s) => {\n        /** @description update value */\n        if (animationFrame !== undefined) {\n            cancelAnimationFrame(animationFrame);\n            animationFrame = undefined;\n        }\n        startVal = curVal;\n        targetVal = base.read(reader);\n        animationStartMs = Date.now() - (s.animate ? 0 : durationMs);\n        update();\n    }));\n    function update() {\n        const passedMs = Date.now() - animationStartMs;\n        curVal = Math.floor(easeOutExpo(passedMs, startVal, targetVal - startVal, durationMs));\n        if (passedMs < durationMs) {\n            animationFrame = requestAnimationFrame(update);\n        }\n        else {\n            curVal = targetVal;\n        }\n        result.set(curVal, undefined);\n    }\n    return result;\n}\nfunction easeOutExpo(t, b, c, d) {\n    return t === d ? b + c : c * (-Math.pow(2, -10 * t / d) + 1) + b;\n}\nexport class ViewZoneOverlayWidget extends Disposable {\n    constructor(editor, viewZone, htmlElement) {\n        super();\n        this._register(new ManagedOverlayWidget(editor, htmlElement));\n        this._register(applyStyle(htmlElement, {\n            height: viewZone.actualHeight,\n            top: viewZone.actualTop,\n        }));\n    }\n}\nexport class PlaceholderViewZone {\n    get afterLineNumber() { return this._afterLineNumber.get(); }\n    constructor(_afterLineNumber, heightInPx) {\n        this._afterLineNumber = _afterLineNumber;\n        this.heightInPx = heightInPx;\n        this.domNode = document.createElement('div');\n        this._actualTop = observableValue(this, undefined);\n        this._actualHeight = observableValue(this, undefined);\n        this.actualTop = this._actualTop;\n        this.actualHeight = this._actualHeight;\n        this.showInHiddenAreas = true;\n        this.onChange = this._afterLineNumber;\n        this.onDomNodeTop = (top) => {\n            this._actualTop.set(top, undefined);\n        };\n        this.onComputedHeight = (height) => {\n            this._actualHeight.set(height, undefined);\n        };\n    }\n}\nexport class ManagedOverlayWidget {\n    constructor(_editor, _domElement) {\n        this._editor = _editor;\n        this._domElement = _domElement;\n        this._overlayWidgetId = `managedOverlayWidget-${ManagedOverlayWidget._counter++}`;\n        this._overlayWidget = {\n            getId: () => this._overlayWidgetId,\n            getDomNode: () => this._domElement,\n            getPosition: () => null\n        };\n        this._editor.addOverlayWidget(this._overlayWidget);\n    }\n    dispose() {\n        this._editor.removeOverlayWidget(this._overlayWidget);\n    }\n}\nManagedOverlayWidget._counter = 0;\nexport function applyStyle(domNode, style) {\n    return autorun(reader => {\n        /** @description applyStyle */\n        for (let [key, val] of Object.entries(style)) {\n            if (val && typeof val === 'object' && 'read' in val) {\n                val = val.read(reader);\n            }\n            if (typeof val === 'number') {\n                val = `${val}px`;\n            }\n            key = key.replace(/[A-Z]/g, m => '-' + m.toLowerCase());\n            domNode.style[key] = val;\n        }\n    });\n}\nexport function readHotReloadableExport(value, reader) {\n    observeHotReloadableExports([value], reader);\n    return value;\n}\nexport function observeHotReloadableExports(values, reader) {\n    if (isHotReloadEnabled()) {\n        const o = observableSignalFromEvent('reload', event => registerHotReloadHandler(oldExports => {\n            if (![...Object.values(oldExports)].some(v => values.includes(v))) {\n                return undefined;\n            }\n            return (_newExports) => {\n                event(undefined);\n                return true;\n            };\n        }));\n        o.read(reader);\n    }\n}\nexport function applyViewZones(editor, viewZones, setIsUpdating) {\n    const store = new DisposableStore();\n    const lastViewZoneIds = [];\n    store.add(autorun(reader => {\n        /** @description applyViewZones */\n        const curViewZones = viewZones.read(reader);\n        const viewZonIdsPerViewZone = new Map();\n        const viewZoneIdPerOnChangeObservable = new Map();\n        if (setIsUpdating) {\n            setIsUpdating(true);\n        }\n        editor.changeViewZones(a => {\n            for (const id of lastViewZoneIds) {\n                a.removeZone(id);\n            }\n            lastViewZoneIds.length = 0;\n            for (const z of curViewZones) {\n                const id = a.addZone(z);\n                lastViewZoneIds.push(id);\n                viewZonIdsPerViewZone.set(z, id);\n            }\n        });\n        if (setIsUpdating) {\n            setIsUpdating(false);\n        }\n        store.add(autorunHandleChanges({\n            createEmptyChangeSummary() {\n                return [];\n            },\n            handleChange(context, changeSummary) {\n                const id = viewZoneIdPerOnChangeObservable.get(context.changedObservable);\n                if (id !== undefined) {\n                    changeSummary.push(id);\n                }\n                return true;\n            },\n        }, (reader, changeSummary) => {\n            /** @description layoutZone on change */\n            for (const vz of curViewZones) {\n                if (vz.onChange) {\n                    viewZoneIdPerOnChangeObservable.set(vz.onChange, viewZonIdsPerViewZone.get(vz));\n                    vz.onChange.read(reader);\n                }\n            }\n            if (setIsUpdating) {\n                setIsUpdating(true);\n            }\n            editor.changeViewZones(a => { for (const id of changeSummary) {\n                a.layoutZone(id);\n            } });\n            if (setIsUpdating) {\n                setIsUpdating(false);\n            }\n        }));\n    }));\n    store.add({\n        dispose() {\n            if (setIsUpdating) {\n                setIsUpdating(true);\n            }\n            editor.changeViewZones(a => { for (const id of lastViewZoneIds) {\n                a.removeZone(id);\n            } });\n            if (setIsUpdating) {\n                setIsUpdating(false);\n            }\n        }\n    });\n    return store;\n}\nexport class DisposableCancellationTokenSource extends CancellationTokenSource {\n    dispose() {\n        super.dispose(true);\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}