{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar _a, _b, _c, _d, _e, _f, _g, _h;\nimport { alert } from '../../../../base/browser/ui/aria/aria.js';\nimport { createCancelablePromise, raceCancellation } from '../../../../base/common/async.js';\nimport { KeyChord } from '../../../../base/common/keyCodes.js';\nimport { assertType } from '../../../../base/common/types.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { EditorStateCancellationTokenSource } from '../../editorState/browser/editorState.js';\nimport { isCodeEditor } from '../../../browser/editorBrowser.js';\nimport { EditorAction2 } from '../../../browser/editorExtensions.js';\nimport { ICodeEditorService } from '../../../browser/services/codeEditorService.js';\nimport { EmbeddedCodeEditorWidget } from '../../../browser/widget/embeddedCodeEditorWidget.js';\nimport * as corePosition from '../../../common/core/position.js';\nimport { Range } from '../../../common/core/range.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { isLocationLink } from '../../../common/languages.js';\nimport { ReferencesController } from './peek/referencesController.js';\nimport { ReferencesModel } from './referencesModel.js';\nimport { ISymbolNavigationService } from './symbolNavigation.js';\nimport { MessageController } from '../../message/browser/messageController.js';\nimport { PeekContext } from '../../peekView/browser/peekView.js';\nimport * as nls from '../../../../nls.js';\nimport { MenuId, MenuRegistry, registerAction2 } from '../../../../platform/actions/common/actions.js';\nimport { CommandsRegistry, ICommandService } from '../../../../platform/commands/common/commands.js';\nimport { ContextKeyExpr } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { INotificationService } from '../../../../platform/notification/common/notification.js';\nimport { IEditorProgressService } from '../../../../platform/progress/common/progress.js';\nimport { getDeclarationsAtPosition, getDefinitionsAtPosition, getImplementationsAtPosition, getReferencesAtPosition, getTypeDefinitionsAtPosition } from './goToSymbol.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { Iterable } from '../../../../base/common/iterator.js';\nimport { IsWebContext } from '../../../../platform/contextkey/common/contextkeys.js';\nMenuRegistry.appendMenuItem(MenuId.EditorContext, {\n  submenu: MenuId.EditorContextPeek,\n  title: nls.localize('peek.submenu', \"Peek\"),\n  group: 'navigation',\n  order: 100\n});\nexport class SymbolNavigationAnchor {\n  static is(thing) {\n    if (!thing || typeof thing !== 'object') {\n      return false;\n    }\n    if (thing instanceof SymbolNavigationAnchor) {\n      return true;\n    }\n    if (corePosition.Position.isIPosition(thing.position) && thing.model) {\n      return true;\n    }\n    return false;\n  }\n  constructor(model, position) {\n    this.model = model;\n    this.position = position;\n  }\n}\nexport class SymbolNavigationAction extends EditorAction2 {\n  static all() {\n    return SymbolNavigationAction._allSymbolNavigationCommands.values();\n  }\n  static _patchConfig(opts) {\n    const result = Object.assign(Object.assign({}, opts), {\n      f1: true\n    });\n    // patch context menu when clause\n    if (result.menu) {\n      for (const item of Iterable.wrap(result.menu)) {\n        if (item.id === MenuId.EditorContext || item.id === MenuId.EditorContextPeek) {\n          item.when = ContextKeyExpr.and(opts.precondition, item.when);\n        }\n      }\n    }\n    return result;\n  }\n  constructor(configuration, opts) {\n    super(SymbolNavigationAction._patchConfig(opts));\n    this.configuration = configuration;\n    SymbolNavigationAction._allSymbolNavigationCommands.set(opts.id, this);\n  }\n  runEditorCommand(accessor, editor, arg, range) {\n    if (!editor.hasModel()) {\n      return Promise.resolve(undefined);\n    }\n    const notificationService = accessor.get(INotificationService);\n    const editorService = accessor.get(ICodeEditorService);\n    const progressService = accessor.get(IEditorProgressService);\n    const symbolNavService = accessor.get(ISymbolNavigationService);\n    const languageFeaturesService = accessor.get(ILanguageFeaturesService);\n    const instaService = accessor.get(IInstantiationService);\n    const model = editor.getModel();\n    const position = editor.getPosition();\n    const anchor = SymbolNavigationAnchor.is(arg) ? arg : new SymbolNavigationAnchor(model, position);\n    const cts = new EditorStateCancellationTokenSource(editor, 1 /* CodeEditorStateFlag.Value */ | 4 /* CodeEditorStateFlag.Position */);\n    const promise = raceCancellation(this._getLocationModel(languageFeaturesService, anchor.model, anchor.position, cts.token), cts.token).then(references => __awaiter(this, void 0, void 0, function* () {\n      var _j;\n      if (!references || cts.token.isCancellationRequested) {\n        return;\n      }\n      alert(references.ariaMessage);\n      let altAction;\n      if (references.referenceAt(model.uri, position)) {\n        const altActionId = this._getAlternativeCommand(editor);\n        if (!SymbolNavigationAction._activeAlternativeCommands.has(altActionId) && SymbolNavigationAction._allSymbolNavigationCommands.has(altActionId)) {\n          altAction = SymbolNavigationAction._allSymbolNavigationCommands.get(altActionId);\n        }\n      }\n      const referenceCount = references.references.length;\n      if (referenceCount === 0) {\n        // no result -> show message\n        if (!this.configuration.muteMessage) {\n          const info = model.getWordAtPosition(position);\n          (_j = MessageController.get(editor)) === null || _j === void 0 ? void 0 : _j.showMessage(this._getNoResultFoundMessage(info), position);\n        }\n      } else if (referenceCount === 1 && altAction) {\n        // already at the only result, run alternative\n        SymbolNavigationAction._activeAlternativeCommands.add(this.desc.id);\n        instaService.invokeFunction(accessor => altAction.runEditorCommand(accessor, editor, arg, range).finally(() => {\n          SymbolNavigationAction._activeAlternativeCommands.delete(this.desc.id);\n        }));\n      } else {\n        // normal results handling\n        return this._onResult(editorService, symbolNavService, editor, references, range);\n      }\n    }), err => {\n      // report an error\n      notificationService.error(err);\n    }).finally(() => {\n      cts.dispose();\n    });\n    progressService.showWhile(promise, 250);\n    return promise;\n  }\n  _onResult(editorService, symbolNavService, editor, model, range) {\n    return __awaiter(this, void 0, void 0, function* () {\n      const gotoLocation = this._getGoToPreference(editor);\n      if (!(editor instanceof EmbeddedCodeEditorWidget) && (this.configuration.openInPeek || gotoLocation === 'peek' && model.references.length > 1)) {\n        this._openInPeek(editor, model, range);\n      } else {\n        const next = model.firstReference();\n        const peek = model.references.length > 1 && gotoLocation === 'gotoAndPeek';\n        const targetEditor = yield this._openReference(editor, editorService, next, this.configuration.openToSide, !peek);\n        if (peek && targetEditor) {\n          this._openInPeek(targetEditor, model, range);\n        } else {\n          model.dispose();\n        }\n        // keep remaining locations around when using\n        // 'goto'-mode\n        if (gotoLocation === 'goto') {\n          symbolNavService.put(next);\n        }\n      }\n    });\n  }\n  _openReference(editor, editorService, reference, sideBySide, highlight) {\n    return __awaiter(this, void 0, void 0, function* () {\n      // range is the target-selection-range when we have one\n      // and the fallback is the 'full' range\n      let range = undefined;\n      if (isLocationLink(reference)) {\n        range = reference.targetSelectionRange;\n      }\n      if (!range) {\n        range = reference.range;\n      }\n      if (!range) {\n        return undefined;\n      }\n      const targetEditor = yield editorService.openCodeEditor({\n        resource: reference.uri,\n        options: {\n          selection: Range.collapseToStart(range),\n          selectionRevealType: 3 /* TextEditorSelectionRevealType.NearTopIfOutsideViewport */,\n          selectionSource: \"code.jump\" /* TextEditorSelectionSource.JUMP */\n        }\n      }, editor, sideBySide);\n      if (!targetEditor) {\n        return undefined;\n      }\n      if (highlight) {\n        const modelNow = targetEditor.getModel();\n        const decorations = targetEditor.createDecorationsCollection([{\n          range,\n          options: {\n            description: 'symbol-navigate-action-highlight',\n            className: 'symbolHighlight'\n          }\n        }]);\n        setTimeout(() => {\n          if (targetEditor.getModel() === modelNow) {\n            decorations.clear();\n          }\n        }, 350);\n      }\n      return targetEditor;\n    });\n  }\n  _openInPeek(target, model, range) {\n    const controller = ReferencesController.get(target);\n    if (controller && target.hasModel()) {\n      controller.toggleWidget(range !== null && range !== void 0 ? range : target.getSelection(), createCancelablePromise(_ => Promise.resolve(model)), this.configuration.openInPeek);\n    } else {\n      model.dispose();\n    }\n  }\n}\nSymbolNavigationAction._allSymbolNavigationCommands = new Map();\nSymbolNavigationAction._activeAlternativeCommands = new Set();\n//#region --- DEFINITION\nexport class DefinitionAction extends SymbolNavigationAction {\n  _getLocationModel(languageFeaturesService, model, position, token) {\n    return __awaiter(this, void 0, void 0, function* () {\n      return new ReferencesModel(yield getDefinitionsAtPosition(languageFeaturesService.definitionProvider, model, position, token), nls.localize('def.title', 'Definitions'));\n    });\n  }\n  _getNoResultFoundMessage(info) {\n    return info && info.word ? nls.localize('noResultWord', \"No definition found for '{0}'\", info.word) : nls.localize('generic.noResults', \"No definition found\");\n  }\n  _getAlternativeCommand(editor) {\n    return editor.getOption(58 /* EditorOption.gotoLocation */).alternativeDefinitionCommand;\n  }\n  _getGoToPreference(editor) {\n    return editor.getOption(58 /* EditorOption.gotoLocation */).multipleDefinitions;\n  }\n}\nregisterAction2((_a = class GoToDefinitionAction extends DefinitionAction {\n  constructor() {\n    super({\n      openToSide: false,\n      openInPeek: false,\n      muteMessage: false\n    }, {\n      id: _a.id,\n      title: {\n        value: nls.localize('actions.goToDecl.label', \"Go to Definition\"),\n        original: 'Go to Definition',\n        mnemonicTitle: nls.localize({\n          key: 'miGotoDefinition',\n          comment: ['&& denotes a mnemonic']\n        }, \"Go to &&Definition\")\n      },\n      precondition: ContextKeyExpr.and(EditorContextKeys.hasDefinitionProvider, EditorContextKeys.isInWalkThroughSnippet.toNegated()),\n      keybinding: [{\n        when: EditorContextKeys.editorTextFocus,\n        primary: 70 /* KeyCode.F12 */,\n        weight: 100 /* KeybindingWeight.EditorContrib */\n      }, {\n        when: ContextKeyExpr.and(EditorContextKeys.editorTextFocus, IsWebContext),\n        primary: 2048 /* KeyMod.CtrlCmd */ | 70 /* KeyCode.F12 */,\n        weight: 100 /* KeybindingWeight.EditorContrib */\n      }],\n\n      menu: [{\n        id: MenuId.EditorContext,\n        group: 'navigation',\n        order: 1.1\n      }, {\n        id: MenuId.MenubarGoMenu,\n        precondition: null,\n        group: '4_symbol_nav',\n        order: 2\n      }]\n    });\n    CommandsRegistry.registerCommandAlias('editor.action.goToDeclaration', _a.id);\n  }\n}, _a.id = 'editor.action.revealDefinition', _a));\nregisterAction2((_b = class OpenDefinitionToSideAction extends DefinitionAction {\n  constructor() {\n    super({\n      openToSide: true,\n      openInPeek: false,\n      muteMessage: false\n    }, {\n      id: _b.id,\n      title: {\n        value: nls.localize('actions.goToDeclToSide.label', \"Open Definition to the Side\"),\n        original: 'Open Definition to the Side'\n      },\n      precondition: ContextKeyExpr.and(EditorContextKeys.hasDefinitionProvider, EditorContextKeys.isInWalkThroughSnippet.toNegated()),\n      keybinding: [{\n        when: EditorContextKeys.editorTextFocus,\n        primary: KeyChord(2048 /* KeyMod.CtrlCmd */ | 41 /* KeyCode.KeyK */, 70 /* KeyCode.F12 */),\n        weight: 100 /* KeybindingWeight.EditorContrib */\n      }, {\n        when: ContextKeyExpr.and(EditorContextKeys.editorTextFocus, IsWebContext),\n        primary: KeyChord(2048 /* KeyMod.CtrlCmd */ | 41 /* KeyCode.KeyK */, 2048 /* KeyMod.CtrlCmd */ | 70 /* KeyCode.F12 */),\n        weight: 100 /* KeybindingWeight.EditorContrib */\n      }]\n    });\n\n    CommandsRegistry.registerCommandAlias('editor.action.openDeclarationToTheSide', _b.id);\n  }\n}, _b.id = 'editor.action.revealDefinitionAside', _b));\nregisterAction2((_c = class PeekDefinitionAction extends DefinitionAction {\n  constructor() {\n    super({\n      openToSide: false,\n      openInPeek: true,\n      muteMessage: false\n    }, {\n      id: _c.id,\n      title: {\n        value: nls.localize('actions.previewDecl.label', \"Peek Definition\"),\n        original: 'Peek Definition'\n      },\n      precondition: ContextKeyExpr.and(EditorContextKeys.hasDefinitionProvider, PeekContext.notInPeekEditor, EditorContextKeys.isInWalkThroughSnippet.toNegated()),\n      keybinding: {\n        when: EditorContextKeys.editorTextFocus,\n        primary: 512 /* KeyMod.Alt */ | 70 /* KeyCode.F12 */,\n        linux: {\n          primary: 2048 /* KeyMod.CtrlCmd */ | 1024 /* KeyMod.Shift */ | 68 /* KeyCode.F10 */\n        },\n        weight: 100 /* KeybindingWeight.EditorContrib */\n      },\n\n      menu: {\n        id: MenuId.EditorContextPeek,\n        group: 'peek',\n        order: 2\n      }\n    });\n    CommandsRegistry.registerCommandAlias('editor.action.previewDeclaration', _c.id);\n  }\n}, _c.id = 'editor.action.peekDefinition', _c));\n//#endregion\n//#region --- DECLARATION\nclass DeclarationAction extends SymbolNavigationAction {\n  _getLocationModel(languageFeaturesService, model, position, token) {\n    return __awaiter(this, void 0, void 0, function* () {\n      return new ReferencesModel(yield getDeclarationsAtPosition(languageFeaturesService.declarationProvider, model, position, token), nls.localize('decl.title', 'Declarations'));\n    });\n  }\n  _getNoResultFoundMessage(info) {\n    return info && info.word ? nls.localize('decl.noResultWord', \"No declaration found for '{0}'\", info.word) : nls.localize('decl.generic.noResults', \"No declaration found\");\n  }\n  _getAlternativeCommand(editor) {\n    return editor.getOption(58 /* EditorOption.gotoLocation */).alternativeDeclarationCommand;\n  }\n  _getGoToPreference(editor) {\n    return editor.getOption(58 /* EditorOption.gotoLocation */).multipleDeclarations;\n  }\n}\nregisterAction2((_d = class GoToDeclarationAction extends DeclarationAction {\n  constructor() {\n    super({\n      openToSide: false,\n      openInPeek: false,\n      muteMessage: false\n    }, {\n      id: _d.id,\n      title: {\n        value: nls.localize('actions.goToDeclaration.label', \"Go to Declaration\"),\n        original: 'Go to Declaration',\n        mnemonicTitle: nls.localize({\n          key: 'miGotoDeclaration',\n          comment: ['&& denotes a mnemonic']\n        }, \"Go to &&Declaration\")\n      },\n      precondition: ContextKeyExpr.and(EditorContextKeys.hasDeclarationProvider, EditorContextKeys.isInWalkThroughSnippet.toNegated()),\n      menu: [{\n        id: MenuId.EditorContext,\n        group: 'navigation',\n        order: 1.3\n      }, {\n        id: MenuId.MenubarGoMenu,\n        precondition: null,\n        group: '4_symbol_nav',\n        order: 3\n      }]\n    });\n  }\n  _getNoResultFoundMessage(info) {\n    return info && info.word ? nls.localize('decl.noResultWord', \"No declaration found for '{0}'\", info.word) : nls.localize('decl.generic.noResults', \"No declaration found\");\n  }\n}, _d.id = 'editor.action.revealDeclaration', _d));\nregisterAction2(class PeekDeclarationAction extends DeclarationAction {\n  constructor() {\n    super({\n      openToSide: false,\n      openInPeek: true,\n      muteMessage: false\n    }, {\n      id: 'editor.action.peekDeclaration',\n      title: {\n        value: nls.localize('actions.peekDecl.label', \"Peek Declaration\"),\n        original: 'Peek Declaration'\n      },\n      precondition: ContextKeyExpr.and(EditorContextKeys.hasDeclarationProvider, PeekContext.notInPeekEditor, EditorContextKeys.isInWalkThroughSnippet.toNegated()),\n      menu: {\n        id: MenuId.EditorContextPeek,\n        group: 'peek',\n        order: 3\n      }\n    });\n  }\n});\n//#endregion\n//#region --- TYPE DEFINITION\nclass TypeDefinitionAction extends SymbolNavigationAction {\n  _getLocationModel(languageFeaturesService, model, position, token) {\n    return __awaiter(this, void 0, void 0, function* () {\n      return new ReferencesModel(yield getTypeDefinitionsAtPosition(languageFeaturesService.typeDefinitionProvider, model, position, token), nls.localize('typedef.title', 'Type Definitions'));\n    });\n  }\n  _getNoResultFoundMessage(info) {\n    return info && info.word ? nls.localize('goToTypeDefinition.noResultWord', \"No type definition found for '{0}'\", info.word) : nls.localize('goToTypeDefinition.generic.noResults', \"No type definition found\");\n  }\n  _getAlternativeCommand(editor) {\n    return editor.getOption(58 /* EditorOption.gotoLocation */).alternativeTypeDefinitionCommand;\n  }\n  _getGoToPreference(editor) {\n    return editor.getOption(58 /* EditorOption.gotoLocation */).multipleTypeDefinitions;\n  }\n}\nregisterAction2((_e = class GoToTypeDefinitionAction extends TypeDefinitionAction {\n  constructor() {\n    super({\n      openToSide: false,\n      openInPeek: false,\n      muteMessage: false\n    }, {\n      id: _e.ID,\n      title: {\n        value: nls.localize('actions.goToTypeDefinition.label', \"Go to Type Definition\"),\n        original: 'Go to Type Definition',\n        mnemonicTitle: nls.localize({\n          key: 'miGotoTypeDefinition',\n          comment: ['&& denotes a mnemonic']\n        }, \"Go to &&Type Definition\")\n      },\n      precondition: ContextKeyExpr.and(EditorContextKeys.hasTypeDefinitionProvider, EditorContextKeys.isInWalkThroughSnippet.toNegated()),\n      keybinding: {\n        when: EditorContextKeys.editorTextFocus,\n        primary: 0,\n        weight: 100 /* KeybindingWeight.EditorContrib */\n      },\n\n      menu: [{\n        id: MenuId.EditorContext,\n        group: 'navigation',\n        order: 1.4\n      }, {\n        id: MenuId.MenubarGoMenu,\n        precondition: null,\n        group: '4_symbol_nav',\n        order: 3\n      }]\n    });\n  }\n}, _e.ID = 'editor.action.goToTypeDefinition', _e));\nregisterAction2((_f = class PeekTypeDefinitionAction extends TypeDefinitionAction {\n  constructor() {\n    super({\n      openToSide: false,\n      openInPeek: true,\n      muteMessage: false\n    }, {\n      id: _f.ID,\n      title: {\n        value: nls.localize('actions.peekTypeDefinition.label', \"Peek Type Definition\"),\n        original: 'Peek Type Definition'\n      },\n      precondition: ContextKeyExpr.and(EditorContextKeys.hasTypeDefinitionProvider, PeekContext.notInPeekEditor, EditorContextKeys.isInWalkThroughSnippet.toNegated()),\n      menu: {\n        id: MenuId.EditorContextPeek,\n        group: 'peek',\n        order: 4\n      }\n    });\n  }\n}, _f.ID = 'editor.action.peekTypeDefinition', _f));\n//#endregion\n//#region --- IMPLEMENTATION\nclass ImplementationAction extends SymbolNavigationAction {\n  _getLocationModel(languageFeaturesService, model, position, token) {\n    return __awaiter(this, void 0, void 0, function* () {\n      return new ReferencesModel(yield getImplementationsAtPosition(languageFeaturesService.implementationProvider, model, position, token), nls.localize('impl.title', 'Implementations'));\n    });\n  }\n  _getNoResultFoundMessage(info) {\n    return info && info.word ? nls.localize('goToImplementation.noResultWord', \"No implementation found for '{0}'\", info.word) : nls.localize('goToImplementation.generic.noResults', \"No implementation found\");\n  }\n  _getAlternativeCommand(editor) {\n    return editor.getOption(58 /* EditorOption.gotoLocation */).alternativeImplementationCommand;\n  }\n  _getGoToPreference(editor) {\n    return editor.getOption(58 /* EditorOption.gotoLocation */).multipleImplementations;\n  }\n}\nregisterAction2((_g = class GoToImplementationAction extends ImplementationAction {\n  constructor() {\n    super({\n      openToSide: false,\n      openInPeek: false,\n      muteMessage: false\n    }, {\n      id: _g.ID,\n      title: {\n        value: nls.localize('actions.goToImplementation.label', \"Go to Implementations\"),\n        original: 'Go to Implementations',\n        mnemonicTitle: nls.localize({\n          key: 'miGotoImplementation',\n          comment: ['&& denotes a mnemonic']\n        }, \"Go to &&Implementations\")\n      },\n      precondition: ContextKeyExpr.and(EditorContextKeys.hasImplementationProvider, EditorContextKeys.isInWalkThroughSnippet.toNegated()),\n      keybinding: {\n        when: EditorContextKeys.editorTextFocus,\n        primary: 2048 /* KeyMod.CtrlCmd */ | 70 /* KeyCode.F12 */,\n        weight: 100 /* KeybindingWeight.EditorContrib */\n      },\n\n      menu: [{\n        id: MenuId.EditorContext,\n        group: 'navigation',\n        order: 1.45\n      }, {\n        id: MenuId.MenubarGoMenu,\n        precondition: null,\n        group: '4_symbol_nav',\n        order: 4\n      }]\n    });\n  }\n}, _g.ID = 'editor.action.goToImplementation', _g));\nregisterAction2((_h = class PeekImplementationAction extends ImplementationAction {\n  constructor() {\n    super({\n      openToSide: false,\n      openInPeek: true,\n      muteMessage: false\n    }, {\n      id: _h.ID,\n      title: {\n        value: nls.localize('actions.peekImplementation.label', \"Peek Implementations\"),\n        original: 'Peek Implementations'\n      },\n      precondition: ContextKeyExpr.and(EditorContextKeys.hasImplementationProvider, PeekContext.notInPeekEditor, EditorContextKeys.isInWalkThroughSnippet.toNegated()),\n      keybinding: {\n        when: EditorContextKeys.editorTextFocus,\n        primary: 2048 /* KeyMod.CtrlCmd */ | 1024 /* KeyMod.Shift */ | 70 /* KeyCode.F12 */,\n        weight: 100 /* KeybindingWeight.EditorContrib */\n      },\n\n      menu: {\n        id: MenuId.EditorContextPeek,\n        group: 'peek',\n        order: 5\n      }\n    });\n  }\n}, _h.ID = 'editor.action.peekImplementation', _h));\n//#endregion\n//#region --- REFERENCES\nclass ReferencesAction extends SymbolNavigationAction {\n  _getNoResultFoundMessage(info) {\n    return info ? nls.localize('references.no', \"No references found for '{0}'\", info.word) : nls.localize('references.noGeneric', \"No references found\");\n  }\n  _getAlternativeCommand(editor) {\n    return editor.getOption(58 /* EditorOption.gotoLocation */).alternativeReferenceCommand;\n  }\n  _getGoToPreference(editor) {\n    return editor.getOption(58 /* EditorOption.gotoLocation */).multipleReferences;\n  }\n}\nregisterAction2(class GoToReferencesAction extends ReferencesAction {\n  constructor() {\n    super({\n      openToSide: false,\n      openInPeek: false,\n      muteMessage: false\n    }, {\n      id: 'editor.action.goToReferences',\n      title: {\n        value: nls.localize('goToReferences.label', \"Go to References\"),\n        original: 'Go to References',\n        mnemonicTitle: nls.localize({\n          key: 'miGotoReference',\n          comment: ['&& denotes a mnemonic']\n        }, \"Go to &&References\")\n      },\n      precondition: ContextKeyExpr.and(EditorContextKeys.hasReferenceProvider, PeekContext.notInPeekEditor, EditorContextKeys.isInWalkThroughSnippet.toNegated()),\n      keybinding: {\n        when: EditorContextKeys.editorTextFocus,\n        primary: 1024 /* KeyMod.Shift */ | 70 /* KeyCode.F12 */,\n        weight: 100 /* KeybindingWeight.EditorContrib */\n      },\n\n      menu: [{\n        id: MenuId.EditorContext,\n        group: 'navigation',\n        order: 1.45\n      }, {\n        id: MenuId.MenubarGoMenu,\n        precondition: null,\n        group: '4_symbol_nav',\n        order: 5\n      }]\n    });\n  }\n  _getLocationModel(languageFeaturesService, model, position, token) {\n    return __awaiter(this, void 0, void 0, function* () {\n      return new ReferencesModel(yield getReferencesAtPosition(languageFeaturesService.referenceProvider, model, position, true, token), nls.localize('ref.title', 'References'));\n    });\n  }\n});\nregisterAction2(class PeekReferencesAction extends ReferencesAction {\n  constructor() {\n    super({\n      openToSide: false,\n      openInPeek: true,\n      muteMessage: false\n    }, {\n      id: 'editor.action.referenceSearch.trigger',\n      title: {\n        value: nls.localize('references.action.label', \"Peek References\"),\n        original: 'Peek References'\n      },\n      precondition: ContextKeyExpr.and(EditorContextKeys.hasReferenceProvider, PeekContext.notInPeekEditor, EditorContextKeys.isInWalkThroughSnippet.toNegated()),\n      menu: {\n        id: MenuId.EditorContextPeek,\n        group: 'peek',\n        order: 6\n      }\n    });\n  }\n  _getLocationModel(languageFeaturesService, model, position, token) {\n    return __awaiter(this, void 0, void 0, function* () {\n      return new ReferencesModel(yield getReferencesAtPosition(languageFeaturesService.referenceProvider, model, position, false, token), nls.localize('ref.title', 'References'));\n    });\n  }\n});\n//#endregion\n//#region --- GENERIC goto symbols command\nclass GenericGoToLocationAction extends SymbolNavigationAction {\n  constructor(config, _references, _gotoMultipleBehaviour) {\n    super(config, {\n      id: 'editor.action.goToLocation',\n      title: {\n        value: nls.localize('label.generic', \"Go to Any Symbol\"),\n        original: 'Go to Any Symbol'\n      },\n      precondition: ContextKeyExpr.and(PeekContext.notInPeekEditor, EditorContextKeys.isInWalkThroughSnippet.toNegated())\n    });\n    this._references = _references;\n    this._gotoMultipleBehaviour = _gotoMultipleBehaviour;\n  }\n  _getLocationModel(languageFeaturesService, _model, _position, _token) {\n    return __awaiter(this, void 0, void 0, function* () {\n      return new ReferencesModel(this._references, nls.localize('generic.title', 'Locations'));\n    });\n  }\n  _getNoResultFoundMessage(info) {\n    return info && nls.localize('generic.noResult', \"No results for '{0}'\", info.word) || '';\n  }\n  _getGoToPreference(editor) {\n    var _j;\n    return (_j = this._gotoMultipleBehaviour) !== null && _j !== void 0 ? _j : editor.getOption(58 /* EditorOption.gotoLocation */).multipleReferences;\n  }\n  _getAlternativeCommand() {\n    return '';\n  }\n}\nCommandsRegistry.registerCommand({\n  id: 'editor.action.goToLocations',\n  description: {\n    description: 'Go to locations from a position in a file',\n    args: [{\n      name: 'uri',\n      description: 'The text document in which to start',\n      constraint: URI\n    }, {\n      name: 'position',\n      description: 'The position at which to start',\n      constraint: corePosition.Position.isIPosition\n    }, {\n      name: 'locations',\n      description: 'An array of locations.',\n      constraint: Array\n    }, {\n      name: 'multiple',\n      description: 'Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto'\n    }, {\n      name: 'noResultsMessage',\n      description: 'Human readable message that shows when locations is empty.'\n    }]\n  },\n  handler: (accessor, resource, position, references, multiple, noResultsMessage, openInPeek) => __awaiter(void 0, void 0, void 0, function* () {\n    assertType(URI.isUri(resource));\n    assertType(corePosition.Position.isIPosition(position));\n    assertType(Array.isArray(references));\n    assertType(typeof multiple === 'undefined' || typeof multiple === 'string');\n    assertType(typeof openInPeek === 'undefined' || typeof openInPeek === 'boolean');\n    const editorService = accessor.get(ICodeEditorService);\n    const editor = yield editorService.openCodeEditor({\n      resource\n    }, editorService.getFocusedCodeEditor());\n    if (isCodeEditor(editor)) {\n      editor.setPosition(position);\n      editor.revealPositionInCenterIfOutsideViewport(position, 0 /* ScrollType.Smooth */);\n      return editor.invokeWithinContext(accessor => {\n        const command = new class extends GenericGoToLocationAction {\n          _getNoResultFoundMessage(info) {\n            return noResultsMessage || super._getNoResultFoundMessage(info);\n          }\n        }({\n          muteMessage: !Boolean(noResultsMessage),\n          openInPeek: Boolean(openInPeek),\n          openToSide: false\n        }, references, multiple);\n        accessor.get(IInstantiationService).invokeFunction(command.run.bind(command), editor);\n      });\n    }\n  })\n});\nCommandsRegistry.registerCommand({\n  id: 'editor.action.peekLocations',\n  description: {\n    description: 'Peek locations from a position in a file',\n    args: [{\n      name: 'uri',\n      description: 'The text document in which to start',\n      constraint: URI\n    }, {\n      name: 'position',\n      description: 'The position at which to start',\n      constraint: corePosition.Position.isIPosition\n    }, {\n      name: 'locations',\n      description: 'An array of locations.',\n      constraint: Array\n    }, {\n      name: 'multiple',\n      description: 'Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto'\n    }]\n  },\n  handler: (accessor, resource, position, references, multiple) => __awaiter(void 0, void 0, void 0, function* () {\n    accessor.get(ICommandService).executeCommand('editor.action.goToLocations', resource, position, references, multiple, undefined, true);\n  })\n});\n//#endregion\n//#region --- REFERENCE search special commands\nCommandsRegistry.registerCommand({\n  id: 'editor.action.findReferences',\n  handler: (accessor, resource, position) => {\n    assertType(URI.isUri(resource));\n    assertType(corePosition.Position.isIPosition(position));\n    const languageFeaturesService = accessor.get(ILanguageFeaturesService);\n    const codeEditorService = accessor.get(ICodeEditorService);\n    return codeEditorService.openCodeEditor({\n      resource\n    }, codeEditorService.getFocusedCodeEditor()).then(control => {\n      if (!isCodeEditor(control) || !control.hasModel()) {\n        return undefined;\n      }\n      const controller = ReferencesController.get(control);\n      if (!controller) {\n        return undefined;\n      }\n      const references = createCancelablePromise(token => getReferencesAtPosition(languageFeaturesService.referenceProvider, control.getModel(), corePosition.Position.lift(position), false, token).then(references => new ReferencesModel(references, nls.localize('ref.title', 'References'))));\n      const range = new Range(position.lineNumber, position.column, position.lineNumber, position.column);\n      return Promise.resolve(controller.toggleWidget(range, references, false));\n    });\n  }\n});\n// use NEW command\nCommandsRegistry.registerCommandAlias('editor.action.showReferences', 'editor.action.peekLocations');\n//#endregion","map":{"version":3,"names":["__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","_a","_b","_c","_d","_e","_f","_g","_h","alert","createCancelablePromise","raceCancellation","KeyChord","assertType","URI","EditorStateCancellationTokenSource","isCodeEditor","EditorAction2","ICodeEditorService","EmbeddedCodeEditorWidget","corePosition","Range","EditorContextKeys","isLocationLink","ReferencesController","ReferencesModel","ISymbolNavigationService","MessageController","PeekContext","nls","MenuId","MenuRegistry","registerAction2","CommandsRegistry","ICommandService","ContextKeyExpr","IInstantiationService","INotificationService","IEditorProgressService","getDeclarationsAtPosition","getDefinitionsAtPosition","getImplementationsAtPosition","getReferencesAtPosition","getTypeDefinitionsAtPosition","ILanguageFeaturesService","Iterable","IsWebContext","appendMenuItem","EditorContext","submenu","EditorContextPeek","title","localize","group","order","SymbolNavigationAnchor","is","thing","Position","isIPosition","position","model","constructor","SymbolNavigationAction","all","_allSymbolNavigationCommands","values","_patchConfig","opts","Object","assign","f1","menu","item","wrap","id","when","and","precondition","configuration","set","runEditorCommand","accessor","editor","arg","range","hasModel","undefined","notificationService","get","editorService","progressService","symbolNavService","languageFeaturesService","instaService","getModel","getPosition","anchor","cts","promise","_getLocationModel","token","references","_j","isCancellationRequested","ariaMessage","altAction","referenceAt","uri","altActionId","_getAlternativeCommand","_activeAlternativeCommands","has","referenceCount","length","muteMessage","info","getWordAtPosition","showMessage","_getNoResultFoundMessage","add","desc","invokeFunction","finally","delete","_onResult","err","error","dispose","showWhile","gotoLocation","_getGoToPreference","openInPeek","_openInPeek","firstReference","peek","targetEditor","_openReference","openToSide","put","reference","sideBySide","highlight","targetSelectionRange","openCodeEditor","resource","options","selection","collapseToStart","selectionRevealType","selectionSource","modelNow","decorations","createDecorationsCollection","description","className","setTimeout","clear","target","controller","toggleWidget","getSelection","_","Map","Set","DefinitionAction","definitionProvider","word","getOption","alternativeDefinitionCommand","multipleDefinitions","GoToDefinitionAction","original","mnemonicTitle","key","comment","hasDefinitionProvider","isInWalkThroughSnippet","toNegated","keybinding","editorTextFocus","primary","weight","MenubarGoMenu","registerCommandAlias","OpenDefinitionToSideAction","PeekDefinitionAction","notInPeekEditor","linux","DeclarationAction","declarationProvider","alternativeDeclarationCommand","multipleDeclarations","GoToDeclarationAction","hasDeclarationProvider","PeekDeclarationAction","TypeDefinitionAction","typeDefinitionProvider","alternativeTypeDefinitionCommand","multipleTypeDefinitions","GoToTypeDefinitionAction","ID","hasTypeDefinitionProvider","PeekTypeDefinitionAction","ImplementationAction","implementationProvider","alternativeImplementationCommand","multipleImplementations","GoToImplementationAction","hasImplementationProvider","PeekImplementationAction","ReferencesAction","alternativeReferenceCommand","multipleReferences","GoToReferencesAction","hasReferenceProvider","referenceProvider","PeekReferencesAction","GenericGoToLocationAction","config","_references","_gotoMultipleBehaviour","_model","_position","_token","registerCommand","args","name","constraint","Array","handler","multiple","noResultsMessage","isUri","isArray","getFocusedCodeEditor","setPosition","revealPositionInCenterIfOutsideViewport","invokeWithinContext","command","Boolean","run","bind","executeCommand","codeEditorService","control","lift","lineNumber","column"],"sources":["/home/chlohest/work/website/my_web/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/browser/goToCommands.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar _a, _b, _c, _d, _e, _f, _g, _h;\nimport { alert } from '../../../../base/browser/ui/aria/aria.js';\nimport { createCancelablePromise, raceCancellation } from '../../../../base/common/async.js';\nimport { KeyChord } from '../../../../base/common/keyCodes.js';\nimport { assertType } from '../../../../base/common/types.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { EditorStateCancellationTokenSource } from '../../editorState/browser/editorState.js';\nimport { isCodeEditor } from '../../../browser/editorBrowser.js';\nimport { EditorAction2 } from '../../../browser/editorExtensions.js';\nimport { ICodeEditorService } from '../../../browser/services/codeEditorService.js';\nimport { EmbeddedCodeEditorWidget } from '../../../browser/widget/embeddedCodeEditorWidget.js';\nimport * as corePosition from '../../../common/core/position.js';\nimport { Range } from '../../../common/core/range.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { isLocationLink } from '../../../common/languages.js';\nimport { ReferencesController } from './peek/referencesController.js';\nimport { ReferencesModel } from './referencesModel.js';\nimport { ISymbolNavigationService } from './symbolNavigation.js';\nimport { MessageController } from '../../message/browser/messageController.js';\nimport { PeekContext } from '../../peekView/browser/peekView.js';\nimport * as nls from '../../../../nls.js';\nimport { MenuId, MenuRegistry, registerAction2 } from '../../../../platform/actions/common/actions.js';\nimport { CommandsRegistry, ICommandService } from '../../../../platform/commands/common/commands.js';\nimport { ContextKeyExpr } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { INotificationService } from '../../../../platform/notification/common/notification.js';\nimport { IEditorProgressService } from '../../../../platform/progress/common/progress.js';\nimport { getDeclarationsAtPosition, getDefinitionsAtPosition, getImplementationsAtPosition, getReferencesAtPosition, getTypeDefinitionsAtPosition } from './goToSymbol.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { Iterable } from '../../../../base/common/iterator.js';\nimport { IsWebContext } from '../../../../platform/contextkey/common/contextkeys.js';\nMenuRegistry.appendMenuItem(MenuId.EditorContext, {\n    submenu: MenuId.EditorContextPeek,\n    title: nls.localize('peek.submenu', \"Peek\"),\n    group: 'navigation',\n    order: 100\n});\nexport class SymbolNavigationAnchor {\n    static is(thing) {\n        if (!thing || typeof thing !== 'object') {\n            return false;\n        }\n        if (thing instanceof SymbolNavigationAnchor) {\n            return true;\n        }\n        if (corePosition.Position.isIPosition(thing.position) && thing.model) {\n            return true;\n        }\n        return false;\n    }\n    constructor(model, position) {\n        this.model = model;\n        this.position = position;\n    }\n}\nexport class SymbolNavigationAction extends EditorAction2 {\n    static all() {\n        return SymbolNavigationAction._allSymbolNavigationCommands.values();\n    }\n    static _patchConfig(opts) {\n        const result = Object.assign(Object.assign({}, opts), { f1: true });\n        // patch context menu when clause\n        if (result.menu) {\n            for (const item of Iterable.wrap(result.menu)) {\n                if (item.id === MenuId.EditorContext || item.id === MenuId.EditorContextPeek) {\n                    item.when = ContextKeyExpr.and(opts.precondition, item.when);\n                }\n            }\n        }\n        return result;\n    }\n    constructor(configuration, opts) {\n        super(SymbolNavigationAction._patchConfig(opts));\n        this.configuration = configuration;\n        SymbolNavigationAction._allSymbolNavigationCommands.set(opts.id, this);\n    }\n    runEditorCommand(accessor, editor, arg, range) {\n        if (!editor.hasModel()) {\n            return Promise.resolve(undefined);\n        }\n        const notificationService = accessor.get(INotificationService);\n        const editorService = accessor.get(ICodeEditorService);\n        const progressService = accessor.get(IEditorProgressService);\n        const symbolNavService = accessor.get(ISymbolNavigationService);\n        const languageFeaturesService = accessor.get(ILanguageFeaturesService);\n        const instaService = accessor.get(IInstantiationService);\n        const model = editor.getModel();\n        const position = editor.getPosition();\n        const anchor = SymbolNavigationAnchor.is(arg) ? arg : new SymbolNavigationAnchor(model, position);\n        const cts = new EditorStateCancellationTokenSource(editor, 1 /* CodeEditorStateFlag.Value */ | 4 /* CodeEditorStateFlag.Position */);\n        const promise = raceCancellation(this._getLocationModel(languageFeaturesService, anchor.model, anchor.position, cts.token), cts.token).then((references) => __awaiter(this, void 0, void 0, function* () {\n            var _j;\n            if (!references || cts.token.isCancellationRequested) {\n                return;\n            }\n            alert(references.ariaMessage);\n            let altAction;\n            if (references.referenceAt(model.uri, position)) {\n                const altActionId = this._getAlternativeCommand(editor);\n                if (!SymbolNavigationAction._activeAlternativeCommands.has(altActionId) && SymbolNavigationAction._allSymbolNavigationCommands.has(altActionId)) {\n                    altAction = SymbolNavigationAction._allSymbolNavigationCommands.get(altActionId);\n                }\n            }\n            const referenceCount = references.references.length;\n            if (referenceCount === 0) {\n                // no result -> show message\n                if (!this.configuration.muteMessage) {\n                    const info = model.getWordAtPosition(position);\n                    (_j = MessageController.get(editor)) === null || _j === void 0 ? void 0 : _j.showMessage(this._getNoResultFoundMessage(info), position);\n                }\n            }\n            else if (referenceCount === 1 && altAction) {\n                // already at the only result, run alternative\n                SymbolNavigationAction._activeAlternativeCommands.add(this.desc.id);\n                instaService.invokeFunction((accessor) => altAction.runEditorCommand(accessor, editor, arg, range).finally(() => {\n                    SymbolNavigationAction._activeAlternativeCommands.delete(this.desc.id);\n                }));\n            }\n            else {\n                // normal results handling\n                return this._onResult(editorService, symbolNavService, editor, references, range);\n            }\n        }), (err) => {\n            // report an error\n            notificationService.error(err);\n        }).finally(() => {\n            cts.dispose();\n        });\n        progressService.showWhile(promise, 250);\n        return promise;\n    }\n    _onResult(editorService, symbolNavService, editor, model, range) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const gotoLocation = this._getGoToPreference(editor);\n            if (!(editor instanceof EmbeddedCodeEditorWidget) && (this.configuration.openInPeek || (gotoLocation === 'peek' && model.references.length > 1))) {\n                this._openInPeek(editor, model, range);\n            }\n            else {\n                const next = model.firstReference();\n                const peek = model.references.length > 1 && gotoLocation === 'gotoAndPeek';\n                const targetEditor = yield this._openReference(editor, editorService, next, this.configuration.openToSide, !peek);\n                if (peek && targetEditor) {\n                    this._openInPeek(targetEditor, model, range);\n                }\n                else {\n                    model.dispose();\n                }\n                // keep remaining locations around when using\n                // 'goto'-mode\n                if (gotoLocation === 'goto') {\n                    symbolNavService.put(next);\n                }\n            }\n        });\n    }\n    _openReference(editor, editorService, reference, sideBySide, highlight) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // range is the target-selection-range when we have one\n            // and the fallback is the 'full' range\n            let range = undefined;\n            if (isLocationLink(reference)) {\n                range = reference.targetSelectionRange;\n            }\n            if (!range) {\n                range = reference.range;\n            }\n            if (!range) {\n                return undefined;\n            }\n            const targetEditor = yield editorService.openCodeEditor({\n                resource: reference.uri,\n                options: {\n                    selection: Range.collapseToStart(range),\n                    selectionRevealType: 3 /* TextEditorSelectionRevealType.NearTopIfOutsideViewport */,\n                    selectionSource: \"code.jump\" /* TextEditorSelectionSource.JUMP */\n                }\n            }, editor, sideBySide);\n            if (!targetEditor) {\n                return undefined;\n            }\n            if (highlight) {\n                const modelNow = targetEditor.getModel();\n                const decorations = targetEditor.createDecorationsCollection([{ range, options: { description: 'symbol-navigate-action-highlight', className: 'symbolHighlight' } }]);\n                setTimeout(() => {\n                    if (targetEditor.getModel() === modelNow) {\n                        decorations.clear();\n                    }\n                }, 350);\n            }\n            return targetEditor;\n        });\n    }\n    _openInPeek(target, model, range) {\n        const controller = ReferencesController.get(target);\n        if (controller && target.hasModel()) {\n            controller.toggleWidget(range !== null && range !== void 0 ? range : target.getSelection(), createCancelablePromise(_ => Promise.resolve(model)), this.configuration.openInPeek);\n        }\n        else {\n            model.dispose();\n        }\n    }\n}\nSymbolNavigationAction._allSymbolNavigationCommands = new Map();\nSymbolNavigationAction._activeAlternativeCommands = new Set();\n//#region --- DEFINITION\nexport class DefinitionAction extends SymbolNavigationAction {\n    _getLocationModel(languageFeaturesService, model, position, token) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new ReferencesModel(yield getDefinitionsAtPosition(languageFeaturesService.definitionProvider, model, position, token), nls.localize('def.title', 'Definitions'));\n        });\n    }\n    _getNoResultFoundMessage(info) {\n        return info && info.word\n            ? nls.localize('noResultWord', \"No definition found for '{0}'\", info.word)\n            : nls.localize('generic.noResults', \"No definition found\");\n    }\n    _getAlternativeCommand(editor) {\n        return editor.getOption(58 /* EditorOption.gotoLocation */).alternativeDefinitionCommand;\n    }\n    _getGoToPreference(editor) {\n        return editor.getOption(58 /* EditorOption.gotoLocation */).multipleDefinitions;\n    }\n}\nregisterAction2((_a = class GoToDefinitionAction extends DefinitionAction {\n        constructor() {\n            super({\n                openToSide: false,\n                openInPeek: false,\n                muteMessage: false\n            }, {\n                id: _a.id,\n                title: {\n                    value: nls.localize('actions.goToDecl.label', \"Go to Definition\"),\n                    original: 'Go to Definition',\n                    mnemonicTitle: nls.localize({ key: 'miGotoDefinition', comment: ['&& denotes a mnemonic'] }, \"Go to &&Definition\")\n                },\n                precondition: ContextKeyExpr.and(EditorContextKeys.hasDefinitionProvider, EditorContextKeys.isInWalkThroughSnippet.toNegated()),\n                keybinding: [{\n                        when: EditorContextKeys.editorTextFocus,\n                        primary: 70 /* KeyCode.F12 */,\n                        weight: 100 /* KeybindingWeight.EditorContrib */\n                    }, {\n                        when: ContextKeyExpr.and(EditorContextKeys.editorTextFocus, IsWebContext),\n                        primary: 2048 /* KeyMod.CtrlCmd */ | 70 /* KeyCode.F12 */,\n                        weight: 100 /* KeybindingWeight.EditorContrib */\n                    }],\n                menu: [{\n                        id: MenuId.EditorContext,\n                        group: 'navigation',\n                        order: 1.1\n                    }, {\n                        id: MenuId.MenubarGoMenu,\n                        precondition: null,\n                        group: '4_symbol_nav',\n                        order: 2,\n                    }]\n            });\n            CommandsRegistry.registerCommandAlias('editor.action.goToDeclaration', _a.id);\n        }\n    },\n    _a.id = 'editor.action.revealDefinition',\n    _a));\nregisterAction2((_b = class OpenDefinitionToSideAction extends DefinitionAction {\n        constructor() {\n            super({\n                openToSide: true,\n                openInPeek: false,\n                muteMessage: false\n            }, {\n                id: _b.id,\n                title: {\n                    value: nls.localize('actions.goToDeclToSide.label', \"Open Definition to the Side\"),\n                    original: 'Open Definition to the Side'\n                },\n                precondition: ContextKeyExpr.and(EditorContextKeys.hasDefinitionProvider, EditorContextKeys.isInWalkThroughSnippet.toNegated()),\n                keybinding: [{\n                        when: EditorContextKeys.editorTextFocus,\n                        primary: KeyChord(2048 /* KeyMod.CtrlCmd */ | 41 /* KeyCode.KeyK */, 70 /* KeyCode.F12 */),\n                        weight: 100 /* KeybindingWeight.EditorContrib */\n                    }, {\n                        when: ContextKeyExpr.and(EditorContextKeys.editorTextFocus, IsWebContext),\n                        primary: KeyChord(2048 /* KeyMod.CtrlCmd */ | 41 /* KeyCode.KeyK */, 2048 /* KeyMod.CtrlCmd */ | 70 /* KeyCode.F12 */),\n                        weight: 100 /* KeybindingWeight.EditorContrib */\n                    }]\n            });\n            CommandsRegistry.registerCommandAlias('editor.action.openDeclarationToTheSide', _b.id);\n        }\n    },\n    _b.id = 'editor.action.revealDefinitionAside',\n    _b));\nregisterAction2((_c = class PeekDefinitionAction extends DefinitionAction {\n        constructor() {\n            super({\n                openToSide: false,\n                openInPeek: true,\n                muteMessage: false\n            }, {\n                id: _c.id,\n                title: {\n                    value: nls.localize('actions.previewDecl.label', \"Peek Definition\"),\n                    original: 'Peek Definition'\n                },\n                precondition: ContextKeyExpr.and(EditorContextKeys.hasDefinitionProvider, PeekContext.notInPeekEditor, EditorContextKeys.isInWalkThroughSnippet.toNegated()),\n                keybinding: {\n                    when: EditorContextKeys.editorTextFocus,\n                    primary: 512 /* KeyMod.Alt */ | 70 /* KeyCode.F12 */,\n                    linux: { primary: 2048 /* KeyMod.CtrlCmd */ | 1024 /* KeyMod.Shift */ | 68 /* KeyCode.F10 */ },\n                    weight: 100 /* KeybindingWeight.EditorContrib */\n                },\n                menu: {\n                    id: MenuId.EditorContextPeek,\n                    group: 'peek',\n                    order: 2\n                }\n            });\n            CommandsRegistry.registerCommandAlias('editor.action.previewDeclaration', _c.id);\n        }\n    },\n    _c.id = 'editor.action.peekDefinition',\n    _c));\n//#endregion\n//#region --- DECLARATION\nclass DeclarationAction extends SymbolNavigationAction {\n    _getLocationModel(languageFeaturesService, model, position, token) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new ReferencesModel(yield getDeclarationsAtPosition(languageFeaturesService.declarationProvider, model, position, token), nls.localize('decl.title', 'Declarations'));\n        });\n    }\n    _getNoResultFoundMessage(info) {\n        return info && info.word\n            ? nls.localize('decl.noResultWord', \"No declaration found for '{0}'\", info.word)\n            : nls.localize('decl.generic.noResults', \"No declaration found\");\n    }\n    _getAlternativeCommand(editor) {\n        return editor.getOption(58 /* EditorOption.gotoLocation */).alternativeDeclarationCommand;\n    }\n    _getGoToPreference(editor) {\n        return editor.getOption(58 /* EditorOption.gotoLocation */).multipleDeclarations;\n    }\n}\nregisterAction2((_d = class GoToDeclarationAction extends DeclarationAction {\n        constructor() {\n            super({\n                openToSide: false,\n                openInPeek: false,\n                muteMessage: false\n            }, {\n                id: _d.id,\n                title: {\n                    value: nls.localize('actions.goToDeclaration.label', \"Go to Declaration\"),\n                    original: 'Go to Declaration',\n                    mnemonicTitle: nls.localize({ key: 'miGotoDeclaration', comment: ['&& denotes a mnemonic'] }, \"Go to &&Declaration\")\n                },\n                precondition: ContextKeyExpr.and(EditorContextKeys.hasDeclarationProvider, EditorContextKeys.isInWalkThroughSnippet.toNegated()),\n                menu: [{\n                        id: MenuId.EditorContext,\n                        group: 'navigation',\n                        order: 1.3\n                    }, {\n                        id: MenuId.MenubarGoMenu,\n                        precondition: null,\n                        group: '4_symbol_nav',\n                        order: 3,\n                    }],\n            });\n        }\n        _getNoResultFoundMessage(info) {\n            return info && info.word\n                ? nls.localize('decl.noResultWord', \"No declaration found for '{0}'\", info.word)\n                : nls.localize('decl.generic.noResults', \"No declaration found\");\n        }\n    },\n    _d.id = 'editor.action.revealDeclaration',\n    _d));\nregisterAction2(class PeekDeclarationAction extends DeclarationAction {\n    constructor() {\n        super({\n            openToSide: false,\n            openInPeek: true,\n            muteMessage: false\n        }, {\n            id: 'editor.action.peekDeclaration',\n            title: {\n                value: nls.localize('actions.peekDecl.label', \"Peek Declaration\"),\n                original: 'Peek Declaration'\n            },\n            precondition: ContextKeyExpr.and(EditorContextKeys.hasDeclarationProvider, PeekContext.notInPeekEditor, EditorContextKeys.isInWalkThroughSnippet.toNegated()),\n            menu: {\n                id: MenuId.EditorContextPeek,\n                group: 'peek',\n                order: 3\n            }\n        });\n    }\n});\n//#endregion\n//#region --- TYPE DEFINITION\nclass TypeDefinitionAction extends SymbolNavigationAction {\n    _getLocationModel(languageFeaturesService, model, position, token) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new ReferencesModel(yield getTypeDefinitionsAtPosition(languageFeaturesService.typeDefinitionProvider, model, position, token), nls.localize('typedef.title', 'Type Definitions'));\n        });\n    }\n    _getNoResultFoundMessage(info) {\n        return info && info.word\n            ? nls.localize('goToTypeDefinition.noResultWord', \"No type definition found for '{0}'\", info.word)\n            : nls.localize('goToTypeDefinition.generic.noResults', \"No type definition found\");\n    }\n    _getAlternativeCommand(editor) {\n        return editor.getOption(58 /* EditorOption.gotoLocation */).alternativeTypeDefinitionCommand;\n    }\n    _getGoToPreference(editor) {\n        return editor.getOption(58 /* EditorOption.gotoLocation */).multipleTypeDefinitions;\n    }\n}\nregisterAction2((_e = class GoToTypeDefinitionAction extends TypeDefinitionAction {\n        constructor() {\n            super({\n                openToSide: false,\n                openInPeek: false,\n                muteMessage: false\n            }, {\n                id: _e.ID,\n                title: {\n                    value: nls.localize('actions.goToTypeDefinition.label', \"Go to Type Definition\"),\n                    original: 'Go to Type Definition',\n                    mnemonicTitle: nls.localize({ key: 'miGotoTypeDefinition', comment: ['&& denotes a mnemonic'] }, \"Go to &&Type Definition\")\n                },\n                precondition: ContextKeyExpr.and(EditorContextKeys.hasTypeDefinitionProvider, EditorContextKeys.isInWalkThroughSnippet.toNegated()),\n                keybinding: {\n                    when: EditorContextKeys.editorTextFocus,\n                    primary: 0,\n                    weight: 100 /* KeybindingWeight.EditorContrib */\n                },\n                menu: [{\n                        id: MenuId.EditorContext,\n                        group: 'navigation',\n                        order: 1.4\n                    }, {\n                        id: MenuId.MenubarGoMenu,\n                        precondition: null,\n                        group: '4_symbol_nav',\n                        order: 3,\n                    }]\n            });\n        }\n    },\n    _e.ID = 'editor.action.goToTypeDefinition',\n    _e));\nregisterAction2((_f = class PeekTypeDefinitionAction extends TypeDefinitionAction {\n        constructor() {\n            super({\n                openToSide: false,\n                openInPeek: true,\n                muteMessage: false\n            }, {\n                id: _f.ID,\n                title: {\n                    value: nls.localize('actions.peekTypeDefinition.label', \"Peek Type Definition\"),\n                    original: 'Peek Type Definition'\n                },\n                precondition: ContextKeyExpr.and(EditorContextKeys.hasTypeDefinitionProvider, PeekContext.notInPeekEditor, EditorContextKeys.isInWalkThroughSnippet.toNegated()),\n                menu: {\n                    id: MenuId.EditorContextPeek,\n                    group: 'peek',\n                    order: 4\n                }\n            });\n        }\n    },\n    _f.ID = 'editor.action.peekTypeDefinition',\n    _f));\n//#endregion\n//#region --- IMPLEMENTATION\nclass ImplementationAction extends SymbolNavigationAction {\n    _getLocationModel(languageFeaturesService, model, position, token) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new ReferencesModel(yield getImplementationsAtPosition(languageFeaturesService.implementationProvider, model, position, token), nls.localize('impl.title', 'Implementations'));\n        });\n    }\n    _getNoResultFoundMessage(info) {\n        return info && info.word\n            ? nls.localize('goToImplementation.noResultWord', \"No implementation found for '{0}'\", info.word)\n            : nls.localize('goToImplementation.generic.noResults', \"No implementation found\");\n    }\n    _getAlternativeCommand(editor) {\n        return editor.getOption(58 /* EditorOption.gotoLocation */).alternativeImplementationCommand;\n    }\n    _getGoToPreference(editor) {\n        return editor.getOption(58 /* EditorOption.gotoLocation */).multipleImplementations;\n    }\n}\nregisterAction2((_g = class GoToImplementationAction extends ImplementationAction {\n        constructor() {\n            super({\n                openToSide: false,\n                openInPeek: false,\n                muteMessage: false\n            }, {\n                id: _g.ID,\n                title: {\n                    value: nls.localize('actions.goToImplementation.label', \"Go to Implementations\"),\n                    original: 'Go to Implementations',\n                    mnemonicTitle: nls.localize({ key: 'miGotoImplementation', comment: ['&& denotes a mnemonic'] }, \"Go to &&Implementations\")\n                },\n                precondition: ContextKeyExpr.and(EditorContextKeys.hasImplementationProvider, EditorContextKeys.isInWalkThroughSnippet.toNegated()),\n                keybinding: {\n                    when: EditorContextKeys.editorTextFocus,\n                    primary: 2048 /* KeyMod.CtrlCmd */ | 70 /* KeyCode.F12 */,\n                    weight: 100 /* KeybindingWeight.EditorContrib */\n                },\n                menu: [{\n                        id: MenuId.EditorContext,\n                        group: 'navigation',\n                        order: 1.45\n                    }, {\n                        id: MenuId.MenubarGoMenu,\n                        precondition: null,\n                        group: '4_symbol_nav',\n                        order: 4,\n                    }]\n            });\n        }\n    },\n    _g.ID = 'editor.action.goToImplementation',\n    _g));\nregisterAction2((_h = class PeekImplementationAction extends ImplementationAction {\n        constructor() {\n            super({\n                openToSide: false,\n                openInPeek: true,\n                muteMessage: false\n            }, {\n                id: _h.ID,\n                title: {\n                    value: nls.localize('actions.peekImplementation.label', \"Peek Implementations\"),\n                    original: 'Peek Implementations'\n                },\n                precondition: ContextKeyExpr.and(EditorContextKeys.hasImplementationProvider, PeekContext.notInPeekEditor, EditorContextKeys.isInWalkThroughSnippet.toNegated()),\n                keybinding: {\n                    when: EditorContextKeys.editorTextFocus,\n                    primary: 2048 /* KeyMod.CtrlCmd */ | 1024 /* KeyMod.Shift */ | 70 /* KeyCode.F12 */,\n                    weight: 100 /* KeybindingWeight.EditorContrib */\n                },\n                menu: {\n                    id: MenuId.EditorContextPeek,\n                    group: 'peek',\n                    order: 5\n                }\n            });\n        }\n    },\n    _h.ID = 'editor.action.peekImplementation',\n    _h));\n//#endregion\n//#region --- REFERENCES\nclass ReferencesAction extends SymbolNavigationAction {\n    _getNoResultFoundMessage(info) {\n        return info\n            ? nls.localize('references.no', \"No references found for '{0}'\", info.word)\n            : nls.localize('references.noGeneric', \"No references found\");\n    }\n    _getAlternativeCommand(editor) {\n        return editor.getOption(58 /* EditorOption.gotoLocation */).alternativeReferenceCommand;\n    }\n    _getGoToPreference(editor) {\n        return editor.getOption(58 /* EditorOption.gotoLocation */).multipleReferences;\n    }\n}\nregisterAction2(class GoToReferencesAction extends ReferencesAction {\n    constructor() {\n        super({\n            openToSide: false,\n            openInPeek: false,\n            muteMessage: false\n        }, {\n            id: 'editor.action.goToReferences',\n            title: {\n                value: nls.localize('goToReferences.label', \"Go to References\"),\n                original: 'Go to References',\n                mnemonicTitle: nls.localize({ key: 'miGotoReference', comment: ['&& denotes a mnemonic'] }, \"Go to &&References\")\n            },\n            precondition: ContextKeyExpr.and(EditorContextKeys.hasReferenceProvider, PeekContext.notInPeekEditor, EditorContextKeys.isInWalkThroughSnippet.toNegated()),\n            keybinding: {\n                when: EditorContextKeys.editorTextFocus,\n                primary: 1024 /* KeyMod.Shift */ | 70 /* KeyCode.F12 */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            },\n            menu: [{\n                    id: MenuId.EditorContext,\n                    group: 'navigation',\n                    order: 1.45\n                }, {\n                    id: MenuId.MenubarGoMenu,\n                    precondition: null,\n                    group: '4_symbol_nav',\n                    order: 5,\n                }]\n        });\n    }\n    _getLocationModel(languageFeaturesService, model, position, token) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new ReferencesModel(yield getReferencesAtPosition(languageFeaturesService.referenceProvider, model, position, true, token), nls.localize('ref.title', 'References'));\n        });\n    }\n});\nregisterAction2(class PeekReferencesAction extends ReferencesAction {\n    constructor() {\n        super({\n            openToSide: false,\n            openInPeek: true,\n            muteMessage: false\n        }, {\n            id: 'editor.action.referenceSearch.trigger',\n            title: {\n                value: nls.localize('references.action.label', \"Peek References\"),\n                original: 'Peek References'\n            },\n            precondition: ContextKeyExpr.and(EditorContextKeys.hasReferenceProvider, PeekContext.notInPeekEditor, EditorContextKeys.isInWalkThroughSnippet.toNegated()),\n            menu: {\n                id: MenuId.EditorContextPeek,\n                group: 'peek',\n                order: 6\n            }\n        });\n    }\n    _getLocationModel(languageFeaturesService, model, position, token) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new ReferencesModel(yield getReferencesAtPosition(languageFeaturesService.referenceProvider, model, position, false, token), nls.localize('ref.title', 'References'));\n        });\n    }\n});\n//#endregion\n//#region --- GENERIC goto symbols command\nclass GenericGoToLocationAction extends SymbolNavigationAction {\n    constructor(config, _references, _gotoMultipleBehaviour) {\n        super(config, {\n            id: 'editor.action.goToLocation',\n            title: {\n                value: nls.localize('label.generic', \"Go to Any Symbol\"),\n                original: 'Go to Any Symbol'\n            },\n            precondition: ContextKeyExpr.and(PeekContext.notInPeekEditor, EditorContextKeys.isInWalkThroughSnippet.toNegated()),\n        });\n        this._references = _references;\n        this._gotoMultipleBehaviour = _gotoMultipleBehaviour;\n    }\n    _getLocationModel(languageFeaturesService, _model, _position, _token) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return new ReferencesModel(this._references, nls.localize('generic.title', 'Locations'));\n        });\n    }\n    _getNoResultFoundMessage(info) {\n        return info && nls.localize('generic.noResult', \"No results for '{0}'\", info.word) || '';\n    }\n    _getGoToPreference(editor) {\n        var _j;\n        return (_j = this._gotoMultipleBehaviour) !== null && _j !== void 0 ? _j : editor.getOption(58 /* EditorOption.gotoLocation */).multipleReferences;\n    }\n    _getAlternativeCommand() { return ''; }\n}\nCommandsRegistry.registerCommand({\n    id: 'editor.action.goToLocations',\n    description: {\n        description: 'Go to locations from a position in a file',\n        args: [\n            { name: 'uri', description: 'The text document in which to start', constraint: URI },\n            { name: 'position', description: 'The position at which to start', constraint: corePosition.Position.isIPosition },\n            { name: 'locations', description: 'An array of locations.', constraint: Array },\n            { name: 'multiple', description: 'Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto' },\n            { name: 'noResultsMessage', description: 'Human readable message that shows when locations is empty.' },\n        ]\n    },\n    handler: (accessor, resource, position, references, multiple, noResultsMessage, openInPeek) => __awaiter(void 0, void 0, void 0, function* () {\n        assertType(URI.isUri(resource));\n        assertType(corePosition.Position.isIPosition(position));\n        assertType(Array.isArray(references));\n        assertType(typeof multiple === 'undefined' || typeof multiple === 'string');\n        assertType(typeof openInPeek === 'undefined' || typeof openInPeek === 'boolean');\n        const editorService = accessor.get(ICodeEditorService);\n        const editor = yield editorService.openCodeEditor({ resource }, editorService.getFocusedCodeEditor());\n        if (isCodeEditor(editor)) {\n            editor.setPosition(position);\n            editor.revealPositionInCenterIfOutsideViewport(position, 0 /* ScrollType.Smooth */);\n            return editor.invokeWithinContext(accessor => {\n                const command = new class extends GenericGoToLocationAction {\n                    _getNoResultFoundMessage(info) {\n                        return noResultsMessage || super._getNoResultFoundMessage(info);\n                    }\n                }({\n                    muteMessage: !Boolean(noResultsMessage),\n                    openInPeek: Boolean(openInPeek),\n                    openToSide: false\n                }, references, multiple);\n                accessor.get(IInstantiationService).invokeFunction(command.run.bind(command), editor);\n            });\n        }\n    })\n});\nCommandsRegistry.registerCommand({\n    id: 'editor.action.peekLocations',\n    description: {\n        description: 'Peek locations from a position in a file',\n        args: [\n            { name: 'uri', description: 'The text document in which to start', constraint: URI },\n            { name: 'position', description: 'The position at which to start', constraint: corePosition.Position.isIPosition },\n            { name: 'locations', description: 'An array of locations.', constraint: Array },\n            { name: 'multiple', description: 'Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto' },\n        ]\n    },\n    handler: (accessor, resource, position, references, multiple) => __awaiter(void 0, void 0, void 0, function* () {\n        accessor.get(ICommandService).executeCommand('editor.action.goToLocations', resource, position, references, multiple, undefined, true);\n    })\n});\n//#endregion\n//#region --- REFERENCE search special commands\nCommandsRegistry.registerCommand({\n    id: 'editor.action.findReferences',\n    handler: (accessor, resource, position) => {\n        assertType(URI.isUri(resource));\n        assertType(corePosition.Position.isIPosition(position));\n        const languageFeaturesService = accessor.get(ILanguageFeaturesService);\n        const codeEditorService = accessor.get(ICodeEditorService);\n        return codeEditorService.openCodeEditor({ resource }, codeEditorService.getFocusedCodeEditor()).then(control => {\n            if (!isCodeEditor(control) || !control.hasModel()) {\n                return undefined;\n            }\n            const controller = ReferencesController.get(control);\n            if (!controller) {\n                return undefined;\n            }\n            const references = createCancelablePromise(token => getReferencesAtPosition(languageFeaturesService.referenceProvider, control.getModel(), corePosition.Position.lift(position), false, token).then(references => new ReferencesModel(references, nls.localize('ref.title', 'References'))));\n            const range = new Range(position.lineNumber, position.column, position.lineNumber, position.column);\n            return Promise.resolve(controller.toggleWidget(range, references, false));\n        });\n    }\n});\n// use NEW command\nCommandsRegistry.registerCommandAlias('editor.action.showReferences', 'editor.action.peekLocations');\n//#endregion\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,IAAIA,SAAS,GAAI,IAAI,IAAI,IAAI,CAACA,SAAS,IAAK,UAAUC,OAAO,EAAEC,UAAU,EAAEC,CAAC,EAAEC,SAAS,EAAE;EACrF,SAASC,KAAKA,CAACC,KAAK,EAAE;IAAE,OAAOA,KAAK,YAAYH,CAAC,GAAGG,KAAK,GAAG,IAAIH,CAAC,CAAC,UAAUI,OAAO,EAAE;MAAEA,OAAO,CAACD,KAAK,CAAC;IAAE,CAAC,CAAC;EAAE;EAC3G,OAAO,KAAKH,CAAC,KAAKA,CAAC,GAAGK,OAAO,CAAC,EAAE,UAAUD,OAAO,EAAEE,MAAM,EAAE;IACvD,SAASC,SAASA,CAACJ,KAAK,EAAE;MAAE,IAAI;QAAEK,IAAI,CAACP,SAAS,CAACQ,IAAI,CAACN,KAAK,CAAC,CAAC;MAAE,CAAC,CAAC,OAAOO,CAAC,EAAE;QAAEJ,MAAM,CAACI,CAAC,CAAC;MAAE;IAAE;IAC1F,SAASC,QAAQA,CAACR,KAAK,EAAE;MAAE,IAAI;QAAEK,IAAI,CAACP,SAAS,CAAC,OAAO,CAAC,CAACE,KAAK,CAAC,CAAC;MAAE,CAAC,CAAC,OAAOO,CAAC,EAAE;QAAEJ,MAAM,CAACI,CAAC,CAAC;MAAE;IAAE;IAC7F,SAASF,IAAIA,CAACI,MAAM,EAAE;MAAEA,MAAM,CAACC,IAAI,GAAGT,OAAO,CAACQ,MAAM,CAACT,KAAK,CAAC,GAAGD,KAAK,CAACU,MAAM,CAACT,KAAK,CAAC,CAACW,IAAI,CAACP,SAAS,EAAEI,QAAQ,CAAC;IAAE;IAC7GH,IAAI,CAAC,CAACP,SAAS,GAAGA,SAAS,CAACc,KAAK,CAACjB,OAAO,EAAEC,UAAU,IAAI,EAAE,CAAC,EAAEU,IAAI,CAAC,CAAC,CAAC;EACzE,CAAC,CAAC;AACN,CAAC;AACD,IAAIO,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE;AAClC,SAASC,KAAK,QAAQ,0CAA0C;AAChE,SAASC,uBAAuB,EAAEC,gBAAgB,QAAQ,kCAAkC;AAC5F,SAASC,QAAQ,QAAQ,qCAAqC;AAC9D,SAASC,UAAU,QAAQ,kCAAkC;AAC7D,SAASC,GAAG,QAAQ,gCAAgC;AACpD,SAASC,kCAAkC,QAAQ,0CAA0C;AAC7F,SAASC,YAAY,QAAQ,mCAAmC;AAChE,SAASC,aAAa,QAAQ,sCAAsC;AACpE,SAASC,kBAAkB,QAAQ,gDAAgD;AACnF,SAASC,wBAAwB,QAAQ,qDAAqD;AAC9F,OAAO,KAAKC,YAAY,MAAM,kCAAkC;AAChE,SAASC,KAAK,QAAQ,+BAA+B;AACrD,SAASC,iBAAiB,QAAQ,sCAAsC;AACxE,SAASC,cAAc,QAAQ,8BAA8B;AAC7D,SAASC,oBAAoB,QAAQ,gCAAgC;AACrE,SAASC,eAAe,QAAQ,sBAAsB;AACtD,SAASC,wBAAwB,QAAQ,uBAAuB;AAChE,SAASC,iBAAiB,QAAQ,4CAA4C;AAC9E,SAASC,WAAW,QAAQ,oCAAoC;AAChE,OAAO,KAAKC,GAAG,MAAM,oBAAoB;AACzC,SAASC,MAAM,EAAEC,YAAY,EAAEC,eAAe,QAAQ,gDAAgD;AACtG,SAASC,gBAAgB,EAAEC,eAAe,QAAQ,kDAAkD;AACpG,SAASC,cAAc,QAAQ,sDAAsD;AACrF,SAASC,qBAAqB,QAAQ,4DAA4D;AAClG,SAASC,oBAAoB,QAAQ,0DAA0D;AAC/F,SAASC,sBAAsB,QAAQ,kDAAkD;AACzF,SAASC,yBAAyB,EAAEC,wBAAwB,EAAEC,4BAA4B,EAAEC,uBAAuB,EAAEC,4BAA4B,QAAQ,iBAAiB;AAC1K,SAASC,wBAAwB,QAAQ,8CAA8C;AACvF,SAASC,QAAQ,QAAQ,qCAAqC;AAC9D,SAASC,YAAY,QAAQ,uDAAuD;AACpFf,YAAY,CAACgB,cAAc,CAACjB,MAAM,CAACkB,aAAa,EAAE;EAC9CC,OAAO,EAAEnB,MAAM,CAACoB,iBAAiB;EACjCC,KAAK,EAAEtB,GAAG,CAACuB,QAAQ,CAAC,cAAc,EAAE,MAAM,CAAC;EAC3CC,KAAK,EAAE,YAAY;EACnBC,KAAK,EAAE;AACX,CAAC,CAAC;AACF,OAAO,MAAMC,sBAAsB,CAAC;EAChC,OAAOC,EAAEA,CAACC,KAAK,EAAE;IACb,IAAI,CAACA,KAAK,IAAI,OAAOA,KAAK,KAAK,QAAQ,EAAE;MACrC,OAAO,KAAK;IAChB;IACA,IAAIA,KAAK,YAAYF,sBAAsB,EAAE;MACzC,OAAO,IAAI;IACf;IACA,IAAInC,YAAY,CAACsC,QAAQ,CAACC,WAAW,CAACF,KAAK,CAACG,QAAQ,CAAC,IAAIH,KAAK,CAACI,KAAK,EAAE;MAClE,OAAO,IAAI;IACf;IACA,OAAO,KAAK;EAChB;EACAC,WAAWA,CAACD,KAAK,EAAED,QAAQ,EAAE;IACzB,IAAI,CAACC,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACD,QAAQ,GAAGA,QAAQ;EAC5B;AACJ;AACA,OAAO,MAAMG,sBAAsB,SAAS9C,aAAa,CAAC;EACtD,OAAO+C,GAAGA,CAAA,EAAG;IACT,OAAOD,sBAAsB,CAACE,4BAA4B,CAACC,MAAM,CAAC,CAAC;EACvE;EACA,OAAOC,YAAYA,CAACC,IAAI,EAAE;IACtB,MAAMvE,MAAM,GAAGwE,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEF,IAAI,CAAC,EAAE;MAAEG,EAAE,EAAE;IAAK,CAAC,CAAC;IACnE;IACA,IAAI1E,MAAM,CAAC2E,IAAI,EAAE;MACb,KAAK,MAAMC,IAAI,IAAI5B,QAAQ,CAAC6B,IAAI,CAAC7E,MAAM,CAAC2E,IAAI,CAAC,EAAE;QAC3C,IAAIC,IAAI,CAACE,EAAE,KAAK7C,MAAM,CAACkB,aAAa,IAAIyB,IAAI,CAACE,EAAE,KAAK7C,MAAM,CAACoB,iBAAiB,EAAE;UAC1EuB,IAAI,CAACG,IAAI,GAAGzC,cAAc,CAAC0C,GAAG,CAACT,IAAI,CAACU,YAAY,EAAEL,IAAI,CAACG,IAAI,CAAC;QAChE;MACJ;IACJ;IACA,OAAO/E,MAAM;EACjB;EACAiE,WAAWA,CAACiB,aAAa,EAAEX,IAAI,EAAE;IAC7B,KAAK,CAACL,sBAAsB,CAACI,YAAY,CAACC,IAAI,CAAC,CAAC;IAChD,IAAI,CAACW,aAAa,GAAGA,aAAa;IAClChB,sBAAsB,CAACE,4BAA4B,CAACe,GAAG,CAACZ,IAAI,CAACO,EAAE,EAAE,IAAI,CAAC;EAC1E;EACAM,gBAAgBA,CAACC,QAAQ,EAAEC,MAAM,EAAEC,GAAG,EAAEC,KAAK,EAAE;IAC3C,IAAI,CAACF,MAAM,CAACG,QAAQ,CAAC,CAAC,EAAE;MACpB,OAAOhG,OAAO,CAACD,OAAO,CAACkG,SAAS,CAAC;IACrC;IACA,MAAMC,mBAAmB,GAAGN,QAAQ,CAACO,GAAG,CAACpD,oBAAoB,CAAC;IAC9D,MAAMqD,aAAa,GAAGR,QAAQ,CAACO,GAAG,CAACvE,kBAAkB,CAAC;IACtD,MAAMyE,eAAe,GAAGT,QAAQ,CAACO,GAAG,CAACnD,sBAAsB,CAAC;IAC5D,MAAMsD,gBAAgB,GAAGV,QAAQ,CAACO,GAAG,CAAC/D,wBAAwB,CAAC;IAC/D,MAAMmE,uBAAuB,GAAGX,QAAQ,CAACO,GAAG,CAAC7C,wBAAwB,CAAC;IACtE,MAAMkD,YAAY,GAAGZ,QAAQ,CAACO,GAAG,CAACrD,qBAAqB,CAAC;IACxD,MAAMyB,KAAK,GAAGsB,MAAM,CAACY,QAAQ,CAAC,CAAC;IAC/B,MAAMnC,QAAQ,GAAGuB,MAAM,CAACa,WAAW,CAAC,CAAC;IACrC,MAAMC,MAAM,GAAG1C,sBAAsB,CAACC,EAAE,CAAC4B,GAAG,CAAC,GAAGA,GAAG,GAAG,IAAI7B,sBAAsB,CAACM,KAAK,EAAED,QAAQ,CAAC;IACjG,MAAMsC,GAAG,GAAG,IAAInF,kCAAkC,CAACoE,MAAM,EAAE,CAAC,CAAC,kCAAkC,CAAC,CAAC,kCAAkC,CAAC;IACpI,MAAMgB,OAAO,GAAGxF,gBAAgB,CAAC,IAAI,CAACyF,iBAAiB,CAACP,uBAAuB,EAAEI,MAAM,CAACpC,KAAK,EAAEoC,MAAM,CAACrC,QAAQ,EAAEsC,GAAG,CAACG,KAAK,CAAC,EAAEH,GAAG,CAACG,KAAK,CAAC,CAACtG,IAAI,CAAEuG,UAAU,IAAKxH,SAAS,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,aAAa;MACrM,IAAIyH,EAAE;MACN,IAAI,CAACD,UAAU,IAAIJ,GAAG,CAACG,KAAK,CAACG,uBAAuB,EAAE;QAClD;MACJ;MACA/F,KAAK,CAAC6F,UAAU,CAACG,WAAW,CAAC;MAC7B,IAAIC,SAAS;MACb,IAAIJ,UAAU,CAACK,WAAW,CAAC9C,KAAK,CAAC+C,GAAG,EAAEhD,QAAQ,CAAC,EAAE;QAC7C,MAAMiD,WAAW,GAAG,IAAI,CAACC,sBAAsB,CAAC3B,MAAM,CAAC;QACvD,IAAI,CAACpB,sBAAsB,CAACgD,0BAA0B,CAACC,GAAG,CAACH,WAAW,CAAC,IAAI9C,sBAAsB,CAACE,4BAA4B,CAAC+C,GAAG,CAACH,WAAW,CAAC,EAAE;UAC7IH,SAAS,GAAG3C,sBAAsB,CAACE,4BAA4B,CAACwB,GAAG,CAACoB,WAAW,CAAC;QACpF;MACJ;MACA,MAAMI,cAAc,GAAGX,UAAU,CAACA,UAAU,CAACY,MAAM;MACnD,IAAID,cAAc,KAAK,CAAC,EAAE;QACtB;QACA,IAAI,CAAC,IAAI,CAAClC,aAAa,CAACoC,WAAW,EAAE;UACjC,MAAMC,IAAI,GAAGvD,KAAK,CAACwD,iBAAiB,CAACzD,QAAQ,CAAC;UAC9C,CAAC2C,EAAE,GAAG5E,iBAAiB,CAAC8D,GAAG,CAACN,MAAM,CAAC,MAAM,IAAI,IAAIoB,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACe,WAAW,CAAC,IAAI,CAACC,wBAAwB,CAACH,IAAI,CAAC,EAAExD,QAAQ,CAAC;QAC3I;MACJ,CAAC,MACI,IAAIqD,cAAc,KAAK,CAAC,IAAIP,SAAS,EAAE;QACxC;QACA3C,sBAAsB,CAACgD,0BAA0B,CAACS,GAAG,CAAC,IAAI,CAACC,IAAI,CAAC9C,EAAE,CAAC;QACnEmB,YAAY,CAAC4B,cAAc,CAAExC,QAAQ,IAAKwB,SAAS,CAACzB,gBAAgB,CAACC,QAAQ,EAAEC,MAAM,EAAEC,GAAG,EAAEC,KAAK,CAAC,CAACsC,OAAO,CAAC,MAAM;UAC7G5D,sBAAsB,CAACgD,0BAA0B,CAACa,MAAM,CAAC,IAAI,CAACH,IAAI,CAAC9C,EAAE,CAAC;QAC1E,CAAC,CAAC,CAAC;MACP,CAAC,MACI;QACD;QACA,OAAO,IAAI,CAACkD,SAAS,CAACnC,aAAa,EAAEE,gBAAgB,EAAET,MAAM,EAAEmB,UAAU,EAAEjB,KAAK,CAAC;MACrF;IACJ,CAAC,CAAC,EAAGyC,GAAG,IAAK;MACT;MACAtC,mBAAmB,CAACuC,KAAK,CAACD,GAAG,CAAC;IAClC,CAAC,CAAC,CAACH,OAAO,CAAC,MAAM;MACbzB,GAAG,CAAC8B,OAAO,CAAC,CAAC;IACjB,CAAC,CAAC;IACFrC,eAAe,CAACsC,SAAS,CAAC9B,OAAO,EAAE,GAAG,CAAC;IACvC,OAAOA,OAAO;EAClB;EACA0B,SAASA,CAACnC,aAAa,EAAEE,gBAAgB,EAAET,MAAM,EAAEtB,KAAK,EAAEwB,KAAK,EAAE;IAC7D,OAAOvG,SAAS,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,aAAa;MAChD,MAAMoJ,YAAY,GAAG,IAAI,CAACC,kBAAkB,CAAChD,MAAM,CAAC;MACpD,IAAI,EAAEA,MAAM,YAAYhE,wBAAwB,CAAC,KAAK,IAAI,CAAC4D,aAAa,CAACqD,UAAU,IAAKF,YAAY,KAAK,MAAM,IAAIrE,KAAK,CAACyC,UAAU,CAACY,MAAM,GAAG,CAAE,CAAC,EAAE;QAC9I,IAAI,CAACmB,WAAW,CAAClD,MAAM,EAAEtB,KAAK,EAAEwB,KAAK,CAAC;MAC1C,CAAC,MACI;QACD,MAAM3F,IAAI,GAAGmE,KAAK,CAACyE,cAAc,CAAC,CAAC;QACnC,MAAMC,IAAI,GAAG1E,KAAK,CAACyC,UAAU,CAACY,MAAM,GAAG,CAAC,IAAIgB,YAAY,KAAK,aAAa;QAC1E,MAAMM,YAAY,GAAG,MAAM,IAAI,CAACC,cAAc,CAACtD,MAAM,EAAEO,aAAa,EAAEhG,IAAI,EAAE,IAAI,CAACqF,aAAa,CAAC2D,UAAU,EAAE,CAACH,IAAI,CAAC;QACjH,IAAIA,IAAI,IAAIC,YAAY,EAAE;UACtB,IAAI,CAACH,WAAW,CAACG,YAAY,EAAE3E,KAAK,EAAEwB,KAAK,CAAC;QAChD,CAAC,MACI;UACDxB,KAAK,CAACmE,OAAO,CAAC,CAAC;QACnB;QACA;QACA;QACA,IAAIE,YAAY,KAAK,MAAM,EAAE;UACzBtC,gBAAgB,CAAC+C,GAAG,CAACjJ,IAAI,CAAC;QAC9B;MACJ;IACJ,CAAC,CAAC;EACN;EACA+I,cAAcA,CAACtD,MAAM,EAAEO,aAAa,EAAEkD,SAAS,EAAEC,UAAU,EAAEC,SAAS,EAAE;IACpE,OAAOhK,SAAS,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,aAAa;MAChD;MACA;MACA,IAAIuG,KAAK,GAAGE,SAAS;MACrB,IAAIhE,cAAc,CAACqH,SAAS,CAAC,EAAE;QAC3BvD,KAAK,GAAGuD,SAAS,CAACG,oBAAoB;MAC1C;MACA,IAAI,CAAC1D,KAAK,EAAE;QACRA,KAAK,GAAGuD,SAAS,CAACvD,KAAK;MAC3B;MACA,IAAI,CAACA,KAAK,EAAE;QACR,OAAOE,SAAS;MACpB;MACA,MAAMiD,YAAY,GAAG,MAAM9C,aAAa,CAACsD,cAAc,CAAC;QACpDC,QAAQ,EAAEL,SAAS,CAAChC,GAAG;QACvBsC,OAAO,EAAE;UACLC,SAAS,EAAE9H,KAAK,CAAC+H,eAAe,CAAC/D,KAAK,CAAC;UACvCgE,mBAAmB,EAAE,CAAC,CAAC;UACvBC,eAAe,EAAE,WAAW,CAAC;QACjC;MACJ,CAAC,EAAEnE,MAAM,EAAE0D,UAAU,CAAC;MACtB,IAAI,CAACL,YAAY,EAAE;QACf,OAAOjD,SAAS;MACpB;MACA,IAAIuD,SAAS,EAAE;QACX,MAAMS,QAAQ,GAAGf,YAAY,CAACzC,QAAQ,CAAC,CAAC;QACxC,MAAMyD,WAAW,GAAGhB,YAAY,CAACiB,2BAA2B,CAAC,CAAC;UAAEpE,KAAK;UAAE6D,OAAO,EAAE;YAAEQ,WAAW,EAAE,kCAAkC;YAAEC,SAAS,EAAE;UAAkB;QAAE,CAAC,CAAC,CAAC;QACrKC,UAAU,CAAC,MAAM;UACb,IAAIpB,YAAY,CAACzC,QAAQ,CAAC,CAAC,KAAKwD,QAAQ,EAAE;YACtCC,WAAW,CAACK,KAAK,CAAC,CAAC;UACvB;QACJ,CAAC,EAAE,GAAG,CAAC;MACX;MACA,OAAOrB,YAAY;IACvB,CAAC,CAAC;EACN;EACAH,WAAWA,CAACyB,MAAM,EAAEjG,KAAK,EAAEwB,KAAK,EAAE;IAC9B,MAAM0E,UAAU,GAAGvI,oBAAoB,CAACiE,GAAG,CAACqE,MAAM,CAAC;IACnD,IAAIC,UAAU,IAAID,MAAM,CAACxE,QAAQ,CAAC,CAAC,EAAE;MACjCyE,UAAU,CAACC,YAAY,CAAC3E,KAAK,KAAK,IAAI,IAAIA,KAAK,KAAK,KAAK,CAAC,GAAGA,KAAK,GAAGyE,MAAM,CAACG,YAAY,CAAC,CAAC,EAAEvJ,uBAAuB,CAACwJ,CAAC,IAAI5K,OAAO,CAACD,OAAO,CAACwE,KAAK,CAAC,CAAC,EAAE,IAAI,CAACkB,aAAa,CAACqD,UAAU,CAAC;IACpL,CAAC,MACI;MACDvE,KAAK,CAACmE,OAAO,CAAC,CAAC;IACnB;EACJ;AACJ;AACAjE,sBAAsB,CAACE,4BAA4B,GAAG,IAAIkG,GAAG,CAAC,CAAC;AAC/DpG,sBAAsB,CAACgD,0BAA0B,GAAG,IAAIqD,GAAG,CAAC,CAAC;AAC7D;AACA,OAAO,MAAMC,gBAAgB,SAAStG,sBAAsB,CAAC;EACzDqC,iBAAiBA,CAACP,uBAAuB,EAAEhC,KAAK,EAAED,QAAQ,EAAEyC,KAAK,EAAE;IAC/D,OAAOvH,SAAS,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,aAAa;MAChD,OAAO,IAAI2C,eAAe,CAAC,MAAMe,wBAAwB,CAACqD,uBAAuB,CAACyE,kBAAkB,EAAEzG,KAAK,EAAED,QAAQ,EAAEyC,KAAK,CAAC,EAAExE,GAAG,CAACuB,QAAQ,CAAC,WAAW,EAAE,aAAa,CAAC,CAAC;IAC5K,CAAC,CAAC;EACN;EACAmE,wBAAwBA,CAACH,IAAI,EAAE;IAC3B,OAAOA,IAAI,IAAIA,IAAI,CAACmD,IAAI,GAClB1I,GAAG,CAACuB,QAAQ,CAAC,cAAc,EAAE,+BAA+B,EAAEgE,IAAI,CAACmD,IAAI,CAAC,GACxE1I,GAAG,CAACuB,QAAQ,CAAC,mBAAmB,EAAE,qBAAqB,CAAC;EAClE;EACA0D,sBAAsBA,CAAC3B,MAAM,EAAE;IAC3B,OAAOA,MAAM,CAACqF,SAAS,CAAC,EAAE,CAAC,+BAA+B,CAAC,CAACC,4BAA4B;EAC5F;EACAtC,kBAAkBA,CAAChD,MAAM,EAAE;IACvB,OAAOA,MAAM,CAACqF,SAAS,CAAC,EAAE,CAAC,+BAA+B,CAAC,CAACE,mBAAmB;EACnF;AACJ;AACA1I,eAAe,EAAE/B,EAAE,GAAG,MAAM0K,oBAAoB,SAASN,gBAAgB,CAAC;EAClEvG,WAAWA,CAAA,EAAG;IACV,KAAK,CAAC;MACF4E,UAAU,EAAE,KAAK;MACjBN,UAAU,EAAE,KAAK;MACjBjB,WAAW,EAAE;IACjB,CAAC,EAAE;MACCxC,EAAE,EAAE1E,EAAE,CAAC0E,EAAE;MACTxB,KAAK,EAAE;QACH/D,KAAK,EAAEyC,GAAG,CAACuB,QAAQ,CAAC,wBAAwB,EAAE,kBAAkB,CAAC;QACjEwH,QAAQ,EAAE,kBAAkB;QAC5BC,aAAa,EAAEhJ,GAAG,CAACuB,QAAQ,CAAC;UAAE0H,GAAG,EAAE,kBAAkB;UAAEC,OAAO,EAAE,CAAC,uBAAuB;QAAE,CAAC,EAAE,oBAAoB;MACrH,CAAC;MACDjG,YAAY,EAAE3C,cAAc,CAAC0C,GAAG,CAACvD,iBAAiB,CAAC0J,qBAAqB,EAAE1J,iBAAiB,CAAC2J,sBAAsB,CAACC,SAAS,CAAC,CAAC,CAAC;MAC/HC,UAAU,EAAE,CAAC;QACLvG,IAAI,EAAEtD,iBAAiB,CAAC8J,eAAe;QACvCC,OAAO,EAAE,EAAE,CAAC;QACZC,MAAM,EAAE,GAAG,CAAC;MAChB,CAAC,EAAE;QACC1G,IAAI,EAAEzC,cAAc,CAAC0C,GAAG,CAACvD,iBAAiB,CAAC8J,eAAe,EAAEtI,YAAY,CAAC;QACzEuI,OAAO,EAAE,IAAI,CAAC,uBAAuB,EAAE,CAAC;QACxCC,MAAM,EAAE,GAAG,CAAC;MAChB,CAAC,CAAC;;MACN9G,IAAI,EAAE,CAAC;QACCG,EAAE,EAAE7C,MAAM,CAACkB,aAAa;QACxBK,KAAK,EAAE,YAAY;QACnBC,KAAK,EAAE;MACX,CAAC,EAAE;QACCqB,EAAE,EAAE7C,MAAM,CAACyJ,aAAa;QACxBzG,YAAY,EAAE,IAAI;QAClBzB,KAAK,EAAE,cAAc;QACrBC,KAAK,EAAE;MACX,CAAC;IACT,CAAC,CAAC;IACFrB,gBAAgB,CAACuJ,oBAAoB,CAAC,+BAA+B,EAAEvL,EAAE,CAAC0E,EAAE,CAAC;EACjF;AACJ,CAAC,EACD1E,EAAE,CAAC0E,EAAE,GAAG,gCAAgC,EACxC1E,EAAE,CAAC,CAAC;AACR+B,eAAe,EAAE9B,EAAE,GAAG,MAAMuL,0BAA0B,SAASpB,gBAAgB,CAAC;EACxEvG,WAAWA,CAAA,EAAG;IACV,KAAK,CAAC;MACF4E,UAAU,EAAE,IAAI;MAChBN,UAAU,EAAE,KAAK;MACjBjB,WAAW,EAAE;IACjB,CAAC,EAAE;MACCxC,EAAE,EAAEzE,EAAE,CAACyE,EAAE;MACTxB,KAAK,EAAE;QACH/D,KAAK,EAAEyC,GAAG,CAACuB,QAAQ,CAAC,8BAA8B,EAAE,6BAA6B,CAAC;QAClFwH,QAAQ,EAAE;MACd,CAAC;MACD9F,YAAY,EAAE3C,cAAc,CAAC0C,GAAG,CAACvD,iBAAiB,CAAC0J,qBAAqB,EAAE1J,iBAAiB,CAAC2J,sBAAsB,CAACC,SAAS,CAAC,CAAC,CAAC;MAC/HC,UAAU,EAAE,CAAC;QACLvG,IAAI,EAAEtD,iBAAiB,CAAC8J,eAAe;QACvCC,OAAO,EAAEzK,QAAQ,CAAC,IAAI,CAAC,uBAAuB,EAAE,CAAC,oBAAoB,EAAE,CAAC,iBAAiB,CAAC;QAC1F0K,MAAM,EAAE,GAAG,CAAC;MAChB,CAAC,EAAE;QACC1G,IAAI,EAAEzC,cAAc,CAAC0C,GAAG,CAACvD,iBAAiB,CAAC8J,eAAe,EAAEtI,YAAY,CAAC;QACzEuI,OAAO,EAAEzK,QAAQ,CAAC,IAAI,CAAC,uBAAuB,EAAE,CAAC,oBAAoB,IAAI,CAAC,uBAAuB,EAAE,CAAC,iBAAiB,CAAC;QACtH0K,MAAM,EAAE,GAAG,CAAC;MAChB,CAAC;IACT,CAAC,CAAC;;IACFrJ,gBAAgB,CAACuJ,oBAAoB,CAAC,wCAAwC,EAAEtL,EAAE,CAACyE,EAAE,CAAC;EAC1F;AACJ,CAAC,EACDzE,EAAE,CAACyE,EAAE,GAAG,qCAAqC,EAC7CzE,EAAE,CAAC,CAAC;AACR8B,eAAe,EAAE7B,EAAE,GAAG,MAAMuL,oBAAoB,SAASrB,gBAAgB,CAAC;EAClEvG,WAAWA,CAAA,EAAG;IACV,KAAK,CAAC;MACF4E,UAAU,EAAE,KAAK;MACjBN,UAAU,EAAE,IAAI;MAChBjB,WAAW,EAAE;IACjB,CAAC,EAAE;MACCxC,EAAE,EAAExE,EAAE,CAACwE,EAAE;MACTxB,KAAK,EAAE;QACH/D,KAAK,EAAEyC,GAAG,CAACuB,QAAQ,CAAC,2BAA2B,EAAE,iBAAiB,CAAC;QACnEwH,QAAQ,EAAE;MACd,CAAC;MACD9F,YAAY,EAAE3C,cAAc,CAAC0C,GAAG,CAACvD,iBAAiB,CAAC0J,qBAAqB,EAAEpJ,WAAW,CAAC+J,eAAe,EAAErK,iBAAiB,CAAC2J,sBAAsB,CAACC,SAAS,CAAC,CAAC,CAAC;MAC5JC,UAAU,EAAE;QACRvG,IAAI,EAAEtD,iBAAiB,CAAC8J,eAAe;QACvCC,OAAO,EAAE,GAAG,CAAC,mBAAmB,EAAE,CAAC;QACnCO,KAAK,EAAE;UAAEP,OAAO,EAAE,IAAI,CAAC,uBAAuB,IAAI,CAAC,qBAAqB,EAAE,CAAC;QAAkB,CAAC;QAC9FC,MAAM,EAAE,GAAG,CAAC;MAChB,CAAC;;MACD9G,IAAI,EAAE;QACFG,EAAE,EAAE7C,MAAM,CAACoB,iBAAiB;QAC5BG,KAAK,EAAE,MAAM;QACbC,KAAK,EAAE;MACX;IACJ,CAAC,CAAC;IACFrB,gBAAgB,CAACuJ,oBAAoB,CAAC,kCAAkC,EAAErL,EAAE,CAACwE,EAAE,CAAC;EACpF;AACJ,CAAC,EACDxE,EAAE,CAACwE,EAAE,GAAG,8BAA8B,EACtCxE,EAAE,CAAC,CAAC;AACR;AACA;AACA,MAAM0L,iBAAiB,SAAS9H,sBAAsB,CAAC;EACnDqC,iBAAiBA,CAACP,uBAAuB,EAAEhC,KAAK,EAAED,QAAQ,EAAEyC,KAAK,EAAE;IAC/D,OAAOvH,SAAS,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,aAAa;MAChD,OAAO,IAAI2C,eAAe,CAAC,MAAMc,yBAAyB,CAACsD,uBAAuB,CAACiG,mBAAmB,EAAEjI,KAAK,EAAED,QAAQ,EAAEyC,KAAK,CAAC,EAAExE,GAAG,CAACuB,QAAQ,CAAC,YAAY,EAAE,cAAc,CAAC,CAAC;IAChL,CAAC,CAAC;EACN;EACAmE,wBAAwBA,CAACH,IAAI,EAAE;IAC3B,OAAOA,IAAI,IAAIA,IAAI,CAACmD,IAAI,GAClB1I,GAAG,CAACuB,QAAQ,CAAC,mBAAmB,EAAE,gCAAgC,EAAEgE,IAAI,CAACmD,IAAI,CAAC,GAC9E1I,GAAG,CAACuB,QAAQ,CAAC,wBAAwB,EAAE,sBAAsB,CAAC;EACxE;EACA0D,sBAAsBA,CAAC3B,MAAM,EAAE;IAC3B,OAAOA,MAAM,CAACqF,SAAS,CAAC,EAAE,CAAC,+BAA+B,CAAC,CAACuB,6BAA6B;EAC7F;EACA5D,kBAAkBA,CAAChD,MAAM,EAAE;IACvB,OAAOA,MAAM,CAACqF,SAAS,CAAC,EAAE,CAAC,+BAA+B,CAAC,CAACwB,oBAAoB;EACpF;AACJ;AACAhK,eAAe,EAAE5B,EAAE,GAAG,MAAM6L,qBAAqB,SAASJ,iBAAiB,CAAC;EACpE/H,WAAWA,CAAA,EAAG;IACV,KAAK,CAAC;MACF4E,UAAU,EAAE,KAAK;MACjBN,UAAU,EAAE,KAAK;MACjBjB,WAAW,EAAE;IACjB,CAAC,EAAE;MACCxC,EAAE,EAAEvE,EAAE,CAACuE,EAAE;MACTxB,KAAK,EAAE;QACH/D,KAAK,EAAEyC,GAAG,CAACuB,QAAQ,CAAC,+BAA+B,EAAE,mBAAmB,CAAC;QACzEwH,QAAQ,EAAE,mBAAmB;QAC7BC,aAAa,EAAEhJ,GAAG,CAACuB,QAAQ,CAAC;UAAE0H,GAAG,EAAE,mBAAmB;UAAEC,OAAO,EAAE,CAAC,uBAAuB;QAAE,CAAC,EAAE,qBAAqB;MACvH,CAAC;MACDjG,YAAY,EAAE3C,cAAc,CAAC0C,GAAG,CAACvD,iBAAiB,CAAC4K,sBAAsB,EAAE5K,iBAAiB,CAAC2J,sBAAsB,CAACC,SAAS,CAAC,CAAC,CAAC;MAChI1G,IAAI,EAAE,CAAC;QACCG,EAAE,EAAE7C,MAAM,CAACkB,aAAa;QACxBK,KAAK,EAAE,YAAY;QACnBC,KAAK,EAAE;MACX,CAAC,EAAE;QACCqB,EAAE,EAAE7C,MAAM,CAACyJ,aAAa;QACxBzG,YAAY,EAAE,IAAI;QAClBzB,KAAK,EAAE,cAAc;QACrBC,KAAK,EAAE;MACX,CAAC;IACT,CAAC,CAAC;EACN;EACAiE,wBAAwBA,CAACH,IAAI,EAAE;IAC3B,OAAOA,IAAI,IAAIA,IAAI,CAACmD,IAAI,GAClB1I,GAAG,CAACuB,QAAQ,CAAC,mBAAmB,EAAE,gCAAgC,EAAEgE,IAAI,CAACmD,IAAI,CAAC,GAC9E1I,GAAG,CAACuB,QAAQ,CAAC,wBAAwB,EAAE,sBAAsB,CAAC;EACxE;AACJ,CAAC,EACDhD,EAAE,CAACuE,EAAE,GAAG,iCAAiC,EACzCvE,EAAE,CAAC,CAAC;AACR4B,eAAe,CAAC,MAAMmK,qBAAqB,SAASN,iBAAiB,CAAC;EAClE/H,WAAWA,CAAA,EAAG;IACV,KAAK,CAAC;MACF4E,UAAU,EAAE,KAAK;MACjBN,UAAU,EAAE,IAAI;MAChBjB,WAAW,EAAE;IACjB,CAAC,EAAE;MACCxC,EAAE,EAAE,+BAA+B;MACnCxB,KAAK,EAAE;QACH/D,KAAK,EAAEyC,GAAG,CAACuB,QAAQ,CAAC,wBAAwB,EAAE,kBAAkB,CAAC;QACjEwH,QAAQ,EAAE;MACd,CAAC;MACD9F,YAAY,EAAE3C,cAAc,CAAC0C,GAAG,CAACvD,iBAAiB,CAAC4K,sBAAsB,EAAEtK,WAAW,CAAC+J,eAAe,EAAErK,iBAAiB,CAAC2J,sBAAsB,CAACC,SAAS,CAAC,CAAC,CAAC;MAC7J1G,IAAI,EAAE;QACFG,EAAE,EAAE7C,MAAM,CAACoB,iBAAiB;QAC5BG,KAAK,EAAE,MAAM;QACbC,KAAK,EAAE;MACX;IACJ,CAAC,CAAC;EACN;AACJ,CAAC,CAAC;AACF;AACA;AACA,MAAM8I,oBAAoB,SAASrI,sBAAsB,CAAC;EACtDqC,iBAAiBA,CAACP,uBAAuB,EAAEhC,KAAK,EAAED,QAAQ,EAAEyC,KAAK,EAAE;IAC/D,OAAOvH,SAAS,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,aAAa;MAChD,OAAO,IAAI2C,eAAe,CAAC,MAAMkB,4BAA4B,CAACkD,uBAAuB,CAACwG,sBAAsB,EAAExI,KAAK,EAAED,QAAQ,EAAEyC,KAAK,CAAC,EAAExE,GAAG,CAACuB,QAAQ,CAAC,eAAe,EAAE,kBAAkB,CAAC,CAAC;IAC7L,CAAC,CAAC;EACN;EACAmE,wBAAwBA,CAACH,IAAI,EAAE;IAC3B,OAAOA,IAAI,IAAIA,IAAI,CAACmD,IAAI,GAClB1I,GAAG,CAACuB,QAAQ,CAAC,iCAAiC,EAAE,oCAAoC,EAAEgE,IAAI,CAACmD,IAAI,CAAC,GAChG1I,GAAG,CAACuB,QAAQ,CAAC,sCAAsC,EAAE,0BAA0B,CAAC;EAC1F;EACA0D,sBAAsBA,CAAC3B,MAAM,EAAE;IAC3B,OAAOA,MAAM,CAACqF,SAAS,CAAC,EAAE,CAAC,+BAA+B,CAAC,CAAC8B,gCAAgC;EAChG;EACAnE,kBAAkBA,CAAChD,MAAM,EAAE;IACvB,OAAOA,MAAM,CAACqF,SAAS,CAAC,EAAE,CAAC,+BAA+B,CAAC,CAAC+B,uBAAuB;EACvF;AACJ;AACAvK,eAAe,EAAE3B,EAAE,GAAG,MAAMmM,wBAAwB,SAASJ,oBAAoB,CAAC;EAC1EtI,WAAWA,CAAA,EAAG;IACV,KAAK,CAAC;MACF4E,UAAU,EAAE,KAAK;MACjBN,UAAU,EAAE,KAAK;MACjBjB,WAAW,EAAE;IACjB,CAAC,EAAE;MACCxC,EAAE,EAAEtE,EAAE,CAACoM,EAAE;MACTtJ,KAAK,EAAE;QACH/D,KAAK,EAAEyC,GAAG,CAACuB,QAAQ,CAAC,kCAAkC,EAAE,uBAAuB,CAAC;QAChFwH,QAAQ,EAAE,uBAAuB;QACjCC,aAAa,EAAEhJ,GAAG,CAACuB,QAAQ,CAAC;UAAE0H,GAAG,EAAE,sBAAsB;UAAEC,OAAO,EAAE,CAAC,uBAAuB;QAAE,CAAC,EAAE,yBAAyB;MAC9H,CAAC;MACDjG,YAAY,EAAE3C,cAAc,CAAC0C,GAAG,CAACvD,iBAAiB,CAACoL,yBAAyB,EAAEpL,iBAAiB,CAAC2J,sBAAsB,CAACC,SAAS,CAAC,CAAC,CAAC;MACnIC,UAAU,EAAE;QACRvG,IAAI,EAAEtD,iBAAiB,CAAC8J,eAAe;QACvCC,OAAO,EAAE,CAAC;QACVC,MAAM,EAAE,GAAG,CAAC;MAChB,CAAC;;MACD9G,IAAI,EAAE,CAAC;QACCG,EAAE,EAAE7C,MAAM,CAACkB,aAAa;QACxBK,KAAK,EAAE,YAAY;QACnBC,KAAK,EAAE;MACX,CAAC,EAAE;QACCqB,EAAE,EAAE7C,MAAM,CAACyJ,aAAa;QACxBzG,YAAY,EAAE,IAAI;QAClBzB,KAAK,EAAE,cAAc;QACrBC,KAAK,EAAE;MACX,CAAC;IACT,CAAC,CAAC;EACN;AACJ,CAAC,EACDjD,EAAE,CAACoM,EAAE,GAAG,kCAAkC,EAC1CpM,EAAE,CAAC,CAAC;AACR2B,eAAe,EAAE1B,EAAE,GAAG,MAAMqM,wBAAwB,SAASP,oBAAoB,CAAC;EAC1EtI,WAAWA,CAAA,EAAG;IACV,KAAK,CAAC;MACF4E,UAAU,EAAE,KAAK;MACjBN,UAAU,EAAE,IAAI;MAChBjB,WAAW,EAAE;IACjB,CAAC,EAAE;MACCxC,EAAE,EAAErE,EAAE,CAACmM,EAAE;MACTtJ,KAAK,EAAE;QACH/D,KAAK,EAAEyC,GAAG,CAACuB,QAAQ,CAAC,kCAAkC,EAAE,sBAAsB,CAAC;QAC/EwH,QAAQ,EAAE;MACd,CAAC;MACD9F,YAAY,EAAE3C,cAAc,CAAC0C,GAAG,CAACvD,iBAAiB,CAACoL,yBAAyB,EAAE9K,WAAW,CAAC+J,eAAe,EAAErK,iBAAiB,CAAC2J,sBAAsB,CAACC,SAAS,CAAC,CAAC,CAAC;MAChK1G,IAAI,EAAE;QACFG,EAAE,EAAE7C,MAAM,CAACoB,iBAAiB;QAC5BG,KAAK,EAAE,MAAM;QACbC,KAAK,EAAE;MACX;IACJ,CAAC,CAAC;EACN;AACJ,CAAC,EACDhD,EAAE,CAACmM,EAAE,GAAG,kCAAkC,EAC1CnM,EAAE,CAAC,CAAC;AACR;AACA;AACA,MAAMsM,oBAAoB,SAAS7I,sBAAsB,CAAC;EACtDqC,iBAAiBA,CAACP,uBAAuB,EAAEhC,KAAK,EAAED,QAAQ,EAAEyC,KAAK,EAAE;IAC/D,OAAOvH,SAAS,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,aAAa;MAChD,OAAO,IAAI2C,eAAe,CAAC,MAAMgB,4BAA4B,CAACoD,uBAAuB,CAACgH,sBAAsB,EAAEhJ,KAAK,EAAED,QAAQ,EAAEyC,KAAK,CAAC,EAAExE,GAAG,CAACuB,QAAQ,CAAC,YAAY,EAAE,iBAAiB,CAAC,CAAC;IACzL,CAAC,CAAC;EACN;EACAmE,wBAAwBA,CAACH,IAAI,EAAE;IAC3B,OAAOA,IAAI,IAAIA,IAAI,CAACmD,IAAI,GAClB1I,GAAG,CAACuB,QAAQ,CAAC,iCAAiC,EAAE,mCAAmC,EAAEgE,IAAI,CAACmD,IAAI,CAAC,GAC/F1I,GAAG,CAACuB,QAAQ,CAAC,sCAAsC,EAAE,yBAAyB,CAAC;EACzF;EACA0D,sBAAsBA,CAAC3B,MAAM,EAAE;IAC3B,OAAOA,MAAM,CAACqF,SAAS,CAAC,EAAE,CAAC,+BAA+B,CAAC,CAACsC,gCAAgC;EAChG;EACA3E,kBAAkBA,CAAChD,MAAM,EAAE;IACvB,OAAOA,MAAM,CAACqF,SAAS,CAAC,EAAE,CAAC,+BAA+B,CAAC,CAACuC,uBAAuB;EACvF;AACJ;AACA/K,eAAe,EAAEzB,EAAE,GAAG,MAAMyM,wBAAwB,SAASJ,oBAAoB,CAAC;EAC1E9I,WAAWA,CAAA,EAAG;IACV,KAAK,CAAC;MACF4E,UAAU,EAAE,KAAK;MACjBN,UAAU,EAAE,KAAK;MACjBjB,WAAW,EAAE;IACjB,CAAC,EAAE;MACCxC,EAAE,EAAEpE,EAAE,CAACkM,EAAE;MACTtJ,KAAK,EAAE;QACH/D,KAAK,EAAEyC,GAAG,CAACuB,QAAQ,CAAC,kCAAkC,EAAE,uBAAuB,CAAC;QAChFwH,QAAQ,EAAE,uBAAuB;QACjCC,aAAa,EAAEhJ,GAAG,CAACuB,QAAQ,CAAC;UAAE0H,GAAG,EAAE,sBAAsB;UAAEC,OAAO,EAAE,CAAC,uBAAuB;QAAE,CAAC,EAAE,yBAAyB;MAC9H,CAAC;MACDjG,YAAY,EAAE3C,cAAc,CAAC0C,GAAG,CAACvD,iBAAiB,CAAC2L,yBAAyB,EAAE3L,iBAAiB,CAAC2J,sBAAsB,CAACC,SAAS,CAAC,CAAC,CAAC;MACnIC,UAAU,EAAE;QACRvG,IAAI,EAAEtD,iBAAiB,CAAC8J,eAAe;QACvCC,OAAO,EAAE,IAAI,CAAC,uBAAuB,EAAE,CAAC;QACxCC,MAAM,EAAE,GAAG,CAAC;MAChB,CAAC;;MACD9G,IAAI,EAAE,CAAC;QACCG,EAAE,EAAE7C,MAAM,CAACkB,aAAa;QACxBK,KAAK,EAAE,YAAY;QACnBC,KAAK,EAAE;MACX,CAAC,EAAE;QACCqB,EAAE,EAAE7C,MAAM,CAACyJ,aAAa;QACxBzG,YAAY,EAAE,IAAI;QAClBzB,KAAK,EAAE,cAAc;QACrBC,KAAK,EAAE;MACX,CAAC;IACT,CAAC,CAAC;EACN;AACJ,CAAC,EACD/C,EAAE,CAACkM,EAAE,GAAG,kCAAkC,EAC1ClM,EAAE,CAAC,CAAC;AACRyB,eAAe,EAAExB,EAAE,GAAG,MAAM0M,wBAAwB,SAASN,oBAAoB,CAAC;EAC1E9I,WAAWA,CAAA,EAAG;IACV,KAAK,CAAC;MACF4E,UAAU,EAAE,KAAK;MACjBN,UAAU,EAAE,IAAI;MAChBjB,WAAW,EAAE;IACjB,CAAC,EAAE;MACCxC,EAAE,EAAEnE,EAAE,CAACiM,EAAE;MACTtJ,KAAK,EAAE;QACH/D,KAAK,EAAEyC,GAAG,CAACuB,QAAQ,CAAC,kCAAkC,EAAE,sBAAsB,CAAC;QAC/EwH,QAAQ,EAAE;MACd,CAAC;MACD9F,YAAY,EAAE3C,cAAc,CAAC0C,GAAG,CAACvD,iBAAiB,CAAC2L,yBAAyB,EAAErL,WAAW,CAAC+J,eAAe,EAAErK,iBAAiB,CAAC2J,sBAAsB,CAACC,SAAS,CAAC,CAAC,CAAC;MAChKC,UAAU,EAAE;QACRvG,IAAI,EAAEtD,iBAAiB,CAAC8J,eAAe;QACvCC,OAAO,EAAE,IAAI,CAAC,uBAAuB,IAAI,CAAC,qBAAqB,EAAE,CAAC;QAClEC,MAAM,EAAE,GAAG,CAAC;MAChB,CAAC;;MACD9G,IAAI,EAAE;QACFG,EAAE,EAAE7C,MAAM,CAACoB,iBAAiB;QAC5BG,KAAK,EAAE,MAAM;QACbC,KAAK,EAAE;MACX;IACJ,CAAC,CAAC;EACN;AACJ,CAAC,EACD9C,EAAE,CAACiM,EAAE,GAAG,kCAAkC,EAC1CjM,EAAE,CAAC,CAAC;AACR;AACA;AACA,MAAM2M,gBAAgB,SAASpJ,sBAAsB,CAAC;EAClDwD,wBAAwBA,CAACH,IAAI,EAAE;IAC3B,OAAOA,IAAI,GACLvF,GAAG,CAACuB,QAAQ,CAAC,eAAe,EAAE,+BAA+B,EAAEgE,IAAI,CAACmD,IAAI,CAAC,GACzE1I,GAAG,CAACuB,QAAQ,CAAC,sBAAsB,EAAE,qBAAqB,CAAC;EACrE;EACA0D,sBAAsBA,CAAC3B,MAAM,EAAE;IAC3B,OAAOA,MAAM,CAACqF,SAAS,CAAC,EAAE,CAAC,+BAA+B,CAAC,CAAC4C,2BAA2B;EAC3F;EACAjF,kBAAkBA,CAAChD,MAAM,EAAE;IACvB,OAAOA,MAAM,CAACqF,SAAS,CAAC,EAAE,CAAC,+BAA+B,CAAC,CAAC6C,kBAAkB;EAClF;AACJ;AACArL,eAAe,CAAC,MAAMsL,oBAAoB,SAASH,gBAAgB,CAAC;EAChErJ,WAAWA,CAAA,EAAG;IACV,KAAK,CAAC;MACF4E,UAAU,EAAE,KAAK;MACjBN,UAAU,EAAE,KAAK;MACjBjB,WAAW,EAAE;IACjB,CAAC,EAAE;MACCxC,EAAE,EAAE,8BAA8B;MAClCxB,KAAK,EAAE;QACH/D,KAAK,EAAEyC,GAAG,CAACuB,QAAQ,CAAC,sBAAsB,EAAE,kBAAkB,CAAC;QAC/DwH,QAAQ,EAAE,kBAAkB;QAC5BC,aAAa,EAAEhJ,GAAG,CAACuB,QAAQ,CAAC;UAAE0H,GAAG,EAAE,iBAAiB;UAAEC,OAAO,EAAE,CAAC,uBAAuB;QAAE,CAAC,EAAE,oBAAoB;MACpH,CAAC;MACDjG,YAAY,EAAE3C,cAAc,CAAC0C,GAAG,CAACvD,iBAAiB,CAACiM,oBAAoB,EAAE3L,WAAW,CAAC+J,eAAe,EAAErK,iBAAiB,CAAC2J,sBAAsB,CAACC,SAAS,CAAC,CAAC,CAAC;MAC3JC,UAAU,EAAE;QACRvG,IAAI,EAAEtD,iBAAiB,CAAC8J,eAAe;QACvCC,OAAO,EAAE,IAAI,CAAC,qBAAqB,EAAE,CAAC;QACtCC,MAAM,EAAE,GAAG,CAAC;MAChB,CAAC;;MACD9G,IAAI,EAAE,CAAC;QACCG,EAAE,EAAE7C,MAAM,CAACkB,aAAa;QACxBK,KAAK,EAAE,YAAY;QACnBC,KAAK,EAAE;MACX,CAAC,EAAE;QACCqB,EAAE,EAAE7C,MAAM,CAACyJ,aAAa;QACxBzG,YAAY,EAAE,IAAI;QAClBzB,KAAK,EAAE,cAAc;QACrBC,KAAK,EAAE;MACX,CAAC;IACT,CAAC,CAAC;EACN;EACA8C,iBAAiBA,CAACP,uBAAuB,EAAEhC,KAAK,EAAED,QAAQ,EAAEyC,KAAK,EAAE;IAC/D,OAAOvH,SAAS,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,aAAa;MAChD,OAAO,IAAI2C,eAAe,CAAC,MAAMiB,uBAAuB,CAACmD,uBAAuB,CAAC2H,iBAAiB,EAAE3J,KAAK,EAAED,QAAQ,EAAE,IAAI,EAAEyC,KAAK,CAAC,EAAExE,GAAG,CAACuB,QAAQ,CAAC,WAAW,EAAE,YAAY,CAAC,CAAC;IAC/K,CAAC,CAAC;EACN;AACJ,CAAC,CAAC;AACFpB,eAAe,CAAC,MAAMyL,oBAAoB,SAASN,gBAAgB,CAAC;EAChErJ,WAAWA,CAAA,EAAG;IACV,KAAK,CAAC;MACF4E,UAAU,EAAE,KAAK;MACjBN,UAAU,EAAE,IAAI;MAChBjB,WAAW,EAAE;IACjB,CAAC,EAAE;MACCxC,EAAE,EAAE,uCAAuC;MAC3CxB,KAAK,EAAE;QACH/D,KAAK,EAAEyC,GAAG,CAACuB,QAAQ,CAAC,yBAAyB,EAAE,iBAAiB,CAAC;QACjEwH,QAAQ,EAAE;MACd,CAAC;MACD9F,YAAY,EAAE3C,cAAc,CAAC0C,GAAG,CAACvD,iBAAiB,CAACiM,oBAAoB,EAAE3L,WAAW,CAAC+J,eAAe,EAAErK,iBAAiB,CAAC2J,sBAAsB,CAACC,SAAS,CAAC,CAAC,CAAC;MAC3J1G,IAAI,EAAE;QACFG,EAAE,EAAE7C,MAAM,CAACoB,iBAAiB;QAC5BG,KAAK,EAAE,MAAM;QACbC,KAAK,EAAE;MACX;IACJ,CAAC,CAAC;EACN;EACA8C,iBAAiBA,CAACP,uBAAuB,EAAEhC,KAAK,EAAED,QAAQ,EAAEyC,KAAK,EAAE;IAC/D,OAAOvH,SAAS,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,aAAa;MAChD,OAAO,IAAI2C,eAAe,CAAC,MAAMiB,uBAAuB,CAACmD,uBAAuB,CAAC2H,iBAAiB,EAAE3J,KAAK,EAAED,QAAQ,EAAE,KAAK,EAAEyC,KAAK,CAAC,EAAExE,GAAG,CAACuB,QAAQ,CAAC,WAAW,EAAE,YAAY,CAAC,CAAC;IAChL,CAAC,CAAC;EACN;AACJ,CAAC,CAAC;AACF;AACA;AACA,MAAMsK,yBAAyB,SAAS3J,sBAAsB,CAAC;EAC3DD,WAAWA,CAAC6J,MAAM,EAAEC,WAAW,EAAEC,sBAAsB,EAAE;IACrD,KAAK,CAACF,MAAM,EAAE;MACVhJ,EAAE,EAAE,4BAA4B;MAChCxB,KAAK,EAAE;QACH/D,KAAK,EAAEyC,GAAG,CAACuB,QAAQ,CAAC,eAAe,EAAE,kBAAkB,CAAC;QACxDwH,QAAQ,EAAE;MACd,CAAC;MACD9F,YAAY,EAAE3C,cAAc,CAAC0C,GAAG,CAACjD,WAAW,CAAC+J,eAAe,EAAErK,iBAAiB,CAAC2J,sBAAsB,CAACC,SAAS,CAAC,CAAC;IACtH,CAAC,CAAC;IACF,IAAI,CAAC0C,WAAW,GAAGA,WAAW;IAC9B,IAAI,CAACC,sBAAsB,GAAGA,sBAAsB;EACxD;EACAzH,iBAAiBA,CAACP,uBAAuB,EAAEiI,MAAM,EAAEC,SAAS,EAAEC,MAAM,EAAE;IAClE,OAAOlP,SAAS,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,aAAa;MAChD,OAAO,IAAI2C,eAAe,CAAC,IAAI,CAACmM,WAAW,EAAE/L,GAAG,CAACuB,QAAQ,CAAC,eAAe,EAAE,WAAW,CAAC,CAAC;IAC5F,CAAC,CAAC;EACN;EACAmE,wBAAwBA,CAACH,IAAI,EAAE;IAC3B,OAAOA,IAAI,IAAIvF,GAAG,CAACuB,QAAQ,CAAC,kBAAkB,EAAE,sBAAsB,EAAEgE,IAAI,CAACmD,IAAI,CAAC,IAAI,EAAE;EAC5F;EACApC,kBAAkBA,CAAChD,MAAM,EAAE;IACvB,IAAIoB,EAAE;IACN,OAAO,CAACA,EAAE,GAAG,IAAI,CAACsH,sBAAsB,MAAM,IAAI,IAAItH,EAAE,KAAK,KAAK,CAAC,GAAGA,EAAE,GAAGpB,MAAM,CAACqF,SAAS,CAAC,EAAE,CAAC,+BAA+B,CAAC,CAAC6C,kBAAkB;EACtJ;EACAvG,sBAAsBA,CAAA,EAAG;IAAE,OAAO,EAAE;EAAE;AAC1C;AACA7E,gBAAgB,CAACgM,eAAe,CAAC;EAC7BtJ,EAAE,EAAE,6BAA6B;EACjC+E,WAAW,EAAE;IACTA,WAAW,EAAE,2CAA2C;IACxDwE,IAAI,EAAE,CACF;MAAEC,IAAI,EAAE,KAAK;MAAEzE,WAAW,EAAE,qCAAqC;MAAE0E,UAAU,EAAEtN;IAAI,CAAC,EACpF;MAAEqN,IAAI,EAAE,UAAU;MAAEzE,WAAW,EAAE,gCAAgC;MAAE0E,UAAU,EAAEhN,YAAY,CAACsC,QAAQ,CAACC;IAAY,CAAC,EAClH;MAAEwK,IAAI,EAAE,WAAW;MAAEzE,WAAW,EAAE,wBAAwB;MAAE0E,UAAU,EAAEC;IAAM,CAAC,EAC/E;MAAEF,IAAI,EAAE,UAAU;MAAEzE,WAAW,EAAE;IAAyF,CAAC,EAC3H;MAAEyE,IAAI,EAAE,kBAAkB;MAAEzE,WAAW,EAAE;IAA6D,CAAC;EAE/G,CAAC;EACD4E,OAAO,EAAEA,CAACpJ,QAAQ,EAAE+D,QAAQ,EAAErF,QAAQ,EAAE0C,UAAU,EAAEiI,QAAQ,EAAEC,gBAAgB,EAAEpG,UAAU,KAAKtJ,SAAS,CAAC,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,aAAa;IAC1I+B,UAAU,CAACC,GAAG,CAAC2N,KAAK,CAACxF,QAAQ,CAAC,CAAC;IAC/BpI,UAAU,CAACO,YAAY,CAACsC,QAAQ,CAACC,WAAW,CAACC,QAAQ,CAAC,CAAC;IACvD/C,UAAU,CAACwN,KAAK,CAACK,OAAO,CAACpI,UAAU,CAAC,CAAC;IACrCzF,UAAU,CAAC,OAAO0N,QAAQ,KAAK,WAAW,IAAI,OAAOA,QAAQ,KAAK,QAAQ,CAAC;IAC3E1N,UAAU,CAAC,OAAOuH,UAAU,KAAK,WAAW,IAAI,OAAOA,UAAU,KAAK,SAAS,CAAC;IAChF,MAAM1C,aAAa,GAAGR,QAAQ,CAACO,GAAG,CAACvE,kBAAkB,CAAC;IACtD,MAAMiE,MAAM,GAAG,MAAMO,aAAa,CAACsD,cAAc,CAAC;MAAEC;IAAS,CAAC,EAAEvD,aAAa,CAACiJ,oBAAoB,CAAC,CAAC,CAAC;IACrG,IAAI3N,YAAY,CAACmE,MAAM,CAAC,EAAE;MACtBA,MAAM,CAACyJ,WAAW,CAAChL,QAAQ,CAAC;MAC5BuB,MAAM,CAAC0J,uCAAuC,CAACjL,QAAQ,EAAE,CAAC,CAAC,uBAAuB,CAAC;MACnF,OAAOuB,MAAM,CAAC2J,mBAAmB,CAAC5J,QAAQ,IAAI;QAC1C,MAAM6J,OAAO,GAAG,IAAI,cAAcrB,yBAAyB,CAAC;UACxDnG,wBAAwBA,CAACH,IAAI,EAAE;YAC3B,OAAOoH,gBAAgB,IAAI,KAAK,CAACjH,wBAAwB,CAACH,IAAI,CAAC;UACnE;QACJ,CAAC,CAAC;UACED,WAAW,EAAE,CAAC6H,OAAO,CAACR,gBAAgB,CAAC;UACvCpG,UAAU,EAAE4G,OAAO,CAAC5G,UAAU,CAAC;UAC/BM,UAAU,EAAE;QAChB,CAAC,EAAEpC,UAAU,EAAEiI,QAAQ,CAAC;QACxBrJ,QAAQ,CAACO,GAAG,CAACrD,qBAAqB,CAAC,CAACsF,cAAc,CAACqH,OAAO,CAACE,GAAG,CAACC,IAAI,CAACH,OAAO,CAAC,EAAE5J,MAAM,CAAC;MACzF,CAAC,CAAC;IACN;EACJ,CAAC;AACL,CAAC,CAAC;AACFlD,gBAAgB,CAACgM,eAAe,CAAC;EAC7BtJ,EAAE,EAAE,6BAA6B;EACjC+E,WAAW,EAAE;IACTA,WAAW,EAAE,0CAA0C;IACvDwE,IAAI,EAAE,CACF;MAAEC,IAAI,EAAE,KAAK;MAAEzE,WAAW,EAAE,qCAAqC;MAAE0E,UAAU,EAAEtN;IAAI,CAAC,EACpF;MAAEqN,IAAI,EAAE,UAAU;MAAEzE,WAAW,EAAE,gCAAgC;MAAE0E,UAAU,EAAEhN,YAAY,CAACsC,QAAQ,CAACC;IAAY,CAAC,EAClH;MAAEwK,IAAI,EAAE,WAAW;MAAEzE,WAAW,EAAE,wBAAwB;MAAE0E,UAAU,EAAEC;IAAM,CAAC,EAC/E;MAAEF,IAAI,EAAE,UAAU;MAAEzE,WAAW,EAAE;IAAyF,CAAC;EAEnI,CAAC;EACD4E,OAAO,EAAEA,CAACpJ,QAAQ,EAAE+D,QAAQ,EAAErF,QAAQ,EAAE0C,UAAU,EAAEiI,QAAQ,KAAKzP,SAAS,CAAC,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,aAAa;IAC5GoG,QAAQ,CAACO,GAAG,CAACvD,eAAe,CAAC,CAACiN,cAAc,CAAC,6BAA6B,EAAElG,QAAQ,EAAErF,QAAQ,EAAE0C,UAAU,EAAEiI,QAAQ,EAAEhJ,SAAS,EAAE,IAAI,CAAC;EAC1I,CAAC;AACL,CAAC,CAAC;AACF;AACA;AACAtD,gBAAgB,CAACgM,eAAe,CAAC;EAC7BtJ,EAAE,EAAE,8BAA8B;EAClC2J,OAAO,EAAEA,CAACpJ,QAAQ,EAAE+D,QAAQ,EAAErF,QAAQ,KAAK;IACvC/C,UAAU,CAACC,GAAG,CAAC2N,KAAK,CAACxF,QAAQ,CAAC,CAAC;IAC/BpI,UAAU,CAACO,YAAY,CAACsC,QAAQ,CAACC,WAAW,CAACC,QAAQ,CAAC,CAAC;IACvD,MAAMiC,uBAAuB,GAAGX,QAAQ,CAACO,GAAG,CAAC7C,wBAAwB,CAAC;IACtE,MAAMwM,iBAAiB,GAAGlK,QAAQ,CAACO,GAAG,CAACvE,kBAAkB,CAAC;IAC1D,OAAOkO,iBAAiB,CAACpG,cAAc,CAAC;MAAEC;IAAS,CAAC,EAAEmG,iBAAiB,CAACT,oBAAoB,CAAC,CAAC,CAAC,CAAC5O,IAAI,CAACsP,OAAO,IAAI;MAC5G,IAAI,CAACrO,YAAY,CAACqO,OAAO,CAAC,IAAI,CAACA,OAAO,CAAC/J,QAAQ,CAAC,CAAC,EAAE;QAC/C,OAAOC,SAAS;MACpB;MACA,MAAMwE,UAAU,GAAGvI,oBAAoB,CAACiE,GAAG,CAAC4J,OAAO,CAAC;MACpD,IAAI,CAACtF,UAAU,EAAE;QACb,OAAOxE,SAAS;MACpB;MACA,MAAMe,UAAU,GAAG5F,uBAAuB,CAAC2F,KAAK,IAAI3D,uBAAuB,CAACmD,uBAAuB,CAAC2H,iBAAiB,EAAE6B,OAAO,CAACtJ,QAAQ,CAAC,CAAC,EAAE3E,YAAY,CAACsC,QAAQ,CAAC4L,IAAI,CAAC1L,QAAQ,CAAC,EAAE,KAAK,EAAEyC,KAAK,CAAC,CAACtG,IAAI,CAACuG,UAAU,IAAI,IAAI7E,eAAe,CAAC6E,UAAU,EAAEzE,GAAG,CAACuB,QAAQ,CAAC,WAAW,EAAE,YAAY,CAAC,CAAC,CAAC,CAAC;MAC5R,MAAMiC,KAAK,GAAG,IAAIhE,KAAK,CAACuC,QAAQ,CAAC2L,UAAU,EAAE3L,QAAQ,CAAC4L,MAAM,EAAE5L,QAAQ,CAAC2L,UAAU,EAAE3L,QAAQ,CAAC4L,MAAM,CAAC;MACnG,OAAOlQ,OAAO,CAACD,OAAO,CAAC0K,UAAU,CAACC,YAAY,CAAC3E,KAAK,EAAEiB,UAAU,EAAE,KAAK,CAAC,CAAC;IAC7E,CAAC,CAAC;EACN;AACJ,CAAC,CAAC;AACF;AACArE,gBAAgB,CAACuJ,oBAAoB,CAAC,8BAA8B,EAAE,6BAA6B,CAAC;AACpG"},"metadata":{},"sourceType":"module","externalDependencies":[]}