{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nlet hasDifferentOriginAncestorFlag = false;\nlet sameOriginWindowChainCache = null;\nfunction getParentWindowIfSameOrigin(w) {\n  if (!w.parent || w.parent === w) {\n    return null;\n  }\n  // Cannot really tell if we have access to the parent window unless we try to access something in it\n  try {\n    const location = w.location;\n    const parentLocation = w.parent.location;\n    if (location.origin !== 'null' && parentLocation.origin !== 'null' && location.origin !== parentLocation.origin) {\n      hasDifferentOriginAncestorFlag = true;\n      return null;\n    }\n  } catch (e) {\n    hasDifferentOriginAncestorFlag = true;\n    return null;\n  }\n  return w.parent;\n}\nexport class IframeUtils {\n  /**\n   * Returns a chain of embedded windows with the same origin (which can be accessed programmatically).\n   * Having a chain of length 1 might mean that the current execution environment is running outside of an iframe or inside an iframe embedded in a window with a different origin.\n   * To distinguish if at one point the current execution environment is running inside a window with a different origin, see hasDifferentOriginAncestor()\n   */\n  static getSameOriginWindowChain() {\n    if (!sameOriginWindowChainCache) {\n      sameOriginWindowChainCache = [];\n      let w = window;\n      let parent;\n      do {\n        parent = getParentWindowIfSameOrigin(w);\n        if (parent) {\n          sameOriginWindowChainCache.push({\n            window: w,\n            iframeElement: w.frameElement || null\n          });\n        } else {\n          sameOriginWindowChainCache.push({\n            window: w,\n            iframeElement: null\n          });\n        }\n        w = parent;\n      } while (w);\n    }\n    return sameOriginWindowChainCache.slice(0);\n  }\n  /**\n   * Returns the position of `childWindow` relative to `ancestorWindow`\n   */\n  static getPositionOfChildWindowRelativeToAncestorWindow(childWindow, ancestorWindow) {\n    if (!ancestorWindow || childWindow === ancestorWindow) {\n      return {\n        top: 0,\n        left: 0\n      };\n    }\n    let top = 0,\n      left = 0;\n    const windowChain = this.getSameOriginWindowChain();\n    for (const windowChainEl of windowChain) {\n      top += windowChainEl.window.scrollY;\n      left += windowChainEl.window.scrollX;\n      if (windowChainEl.window === ancestorWindow) {\n        break;\n      }\n      if (!windowChainEl.iframeElement) {\n        break;\n      }\n      const boundingRect = windowChainEl.iframeElement.getBoundingClientRect();\n      top += boundingRect.top;\n      left += boundingRect.left;\n    }\n    return {\n      top: top,\n      left: left\n    };\n  }\n}","map":{"version":3,"names":["hasDifferentOriginAncestorFlag","sameOriginWindowChainCache","getParentWindowIfSameOrigin","w","parent","location","parentLocation","origin","e","IframeUtils","getSameOriginWindowChain","window","push","iframeElement","frameElement","slice","getPositionOfChildWindowRelativeToAncestorWindow","childWindow","ancestorWindow","top","left","windowChain","windowChainEl","scrollY","scrollX","boundingRect","getBoundingClientRect"],"sources":["/home/chlohest/work/website/my_web/node_modules/monaco-editor/esm/vs/base/browser/iframe.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nlet hasDifferentOriginAncestorFlag = false;\nlet sameOriginWindowChainCache = null;\nfunction getParentWindowIfSameOrigin(w) {\n    if (!w.parent || w.parent === w) {\n        return null;\n    }\n    // Cannot really tell if we have access to the parent window unless we try to access something in it\n    try {\n        const location = w.location;\n        const parentLocation = w.parent.location;\n        if (location.origin !== 'null' && parentLocation.origin !== 'null' && location.origin !== parentLocation.origin) {\n            hasDifferentOriginAncestorFlag = true;\n            return null;\n        }\n    }\n    catch (e) {\n        hasDifferentOriginAncestorFlag = true;\n        return null;\n    }\n    return w.parent;\n}\nexport class IframeUtils {\n    /**\n     * Returns a chain of embedded windows with the same origin (which can be accessed programmatically).\n     * Having a chain of length 1 might mean that the current execution environment is running outside of an iframe or inside an iframe embedded in a window with a different origin.\n     * To distinguish if at one point the current execution environment is running inside a window with a different origin, see hasDifferentOriginAncestor()\n     */\n    static getSameOriginWindowChain() {\n        if (!sameOriginWindowChainCache) {\n            sameOriginWindowChainCache = [];\n            let w = window;\n            let parent;\n            do {\n                parent = getParentWindowIfSameOrigin(w);\n                if (parent) {\n                    sameOriginWindowChainCache.push({\n                        window: w,\n                        iframeElement: w.frameElement || null\n                    });\n                }\n                else {\n                    sameOriginWindowChainCache.push({\n                        window: w,\n                        iframeElement: null\n                    });\n                }\n                w = parent;\n            } while (w);\n        }\n        return sameOriginWindowChainCache.slice(0);\n    }\n    /**\n     * Returns the position of `childWindow` relative to `ancestorWindow`\n     */\n    static getPositionOfChildWindowRelativeToAncestorWindow(childWindow, ancestorWindow) {\n        if (!ancestorWindow || childWindow === ancestorWindow) {\n            return {\n                top: 0,\n                left: 0\n            };\n        }\n        let top = 0, left = 0;\n        const windowChain = this.getSameOriginWindowChain();\n        for (const windowChainEl of windowChain) {\n            top += windowChainEl.window.scrollY;\n            left += windowChainEl.window.scrollX;\n            if (windowChainEl.window === ancestorWindow) {\n                break;\n            }\n            if (!windowChainEl.iframeElement) {\n                break;\n            }\n            const boundingRect = windowChainEl.iframeElement.getBoundingClientRect();\n            top += boundingRect.top;\n            left += boundingRect.left;\n        }\n        return {\n            top: top,\n            left: left\n        };\n    }\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,IAAIA,8BAA8B,GAAG,KAAK;AAC1C,IAAIC,0BAA0B,GAAG,IAAI;AACrC,SAASC,2BAA2BA,CAACC,CAAC,EAAE;EACpC,IAAI,CAACA,CAAC,CAACC,MAAM,IAAID,CAAC,CAACC,MAAM,KAAKD,CAAC,EAAE;IAC7B,OAAO,IAAI;EACf;EACA;EACA,IAAI;IACA,MAAME,QAAQ,GAAGF,CAAC,CAACE,QAAQ;IAC3B,MAAMC,cAAc,GAAGH,CAAC,CAACC,MAAM,CAACC,QAAQ;IACxC,IAAIA,QAAQ,CAACE,MAAM,KAAK,MAAM,IAAID,cAAc,CAACC,MAAM,KAAK,MAAM,IAAIF,QAAQ,CAACE,MAAM,KAAKD,cAAc,CAACC,MAAM,EAAE;MAC7GP,8BAA8B,GAAG,IAAI;MACrC,OAAO,IAAI;IACf;EACJ,CAAC,CACD,OAAOQ,CAAC,EAAE;IACNR,8BAA8B,GAAG,IAAI;IACrC,OAAO,IAAI;EACf;EACA,OAAOG,CAAC,CAACC,MAAM;AACnB;AACA,OAAO,MAAMK,WAAW,CAAC;EACrB;AACJ;AACA;AACA;AACA;EACI,OAAOC,wBAAwBA,CAAA,EAAG;IAC9B,IAAI,CAACT,0BAA0B,EAAE;MAC7BA,0BAA0B,GAAG,EAAE;MAC/B,IAAIE,CAAC,GAAGQ,MAAM;MACd,IAAIP,MAAM;MACV,GAAG;QACCA,MAAM,GAAGF,2BAA2B,CAACC,CAAC,CAAC;QACvC,IAAIC,MAAM,EAAE;UACRH,0BAA0B,CAACW,IAAI,CAAC;YAC5BD,MAAM,EAAER,CAAC;YACTU,aAAa,EAAEV,CAAC,CAACW,YAAY,IAAI;UACrC,CAAC,CAAC;QACN,CAAC,MACI;UACDb,0BAA0B,CAACW,IAAI,CAAC;YAC5BD,MAAM,EAAER,CAAC;YACTU,aAAa,EAAE;UACnB,CAAC,CAAC;QACN;QACAV,CAAC,GAAGC,MAAM;MACd,CAAC,QAAQD,CAAC;IACd;IACA,OAAOF,0BAA0B,CAACc,KAAK,CAAC,CAAC,CAAC;EAC9C;EACA;AACJ;AACA;EACI,OAAOC,gDAAgDA,CAACC,WAAW,EAAEC,cAAc,EAAE;IACjF,IAAI,CAACA,cAAc,IAAID,WAAW,KAAKC,cAAc,EAAE;MACnD,OAAO;QACHC,GAAG,EAAE,CAAC;QACNC,IAAI,EAAE;MACV,CAAC;IACL;IACA,IAAID,GAAG,GAAG,CAAC;MAAEC,IAAI,GAAG,CAAC;IACrB,MAAMC,WAAW,GAAG,IAAI,CAACX,wBAAwB,CAAC,CAAC;IACnD,KAAK,MAAMY,aAAa,IAAID,WAAW,EAAE;MACrCF,GAAG,IAAIG,aAAa,CAACX,MAAM,CAACY,OAAO;MACnCH,IAAI,IAAIE,aAAa,CAACX,MAAM,CAACa,OAAO;MACpC,IAAIF,aAAa,CAACX,MAAM,KAAKO,cAAc,EAAE;QACzC;MACJ;MACA,IAAI,CAACI,aAAa,CAACT,aAAa,EAAE;QAC9B;MACJ;MACA,MAAMY,YAAY,GAAGH,aAAa,CAACT,aAAa,CAACa,qBAAqB,CAAC,CAAC;MACxEP,GAAG,IAAIM,YAAY,CAACN,GAAG;MACvBC,IAAI,IAAIK,YAAY,CAACL,IAAI;IAC7B;IACA,OAAO;MACHD,GAAG,EAAEA,GAAG;MACRC,IAAI,EAAEA;IACV,CAAC;EACL;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}