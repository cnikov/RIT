{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = this && this.__param || function (paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar SmartSelectController_1;\nimport * as arrays from '../../../../base/common/arrays.js';\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { onUnexpectedExternalError } from '../../../../base/common/errors.js';\nimport { EditorAction, registerEditorAction, registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { Position } from '../../../common/core/position.js';\nimport { Range } from '../../../common/core/range.js';\nimport { Selection } from '../../../common/core/selection.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { BracketSelectionRangeProvider } from './bracketSelections.js';\nimport { WordSelectionRangeProvider } from './wordSelections.js';\nimport * as nls from '../../../../nls.js';\nimport { MenuId } from '../../../../platform/actions/common/actions.js';\nimport { CommandsRegistry } from '../../../../platform/commands/common/commands.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { ITextModelService } from '../../../common/services/resolverService.js';\nimport { assertType } from '../../../../base/common/types.js';\nimport { URI } from '../../../../base/common/uri.js';\nclass SelectionRanges {\n  constructor(index, ranges) {\n    this.index = index;\n    this.ranges = ranges;\n  }\n  mov(fwd) {\n    const index = this.index + (fwd ? 1 : -1);\n    if (index < 0 || index >= this.ranges.length) {\n      return this;\n    }\n    const res = new SelectionRanges(index, this.ranges);\n    if (res.ranges[index].equalsRange(this.ranges[this.index])) {\n      // next range equals this range, retry with next-next\n      return res.mov(fwd);\n    }\n    return res;\n  }\n}\nlet SmartSelectController = SmartSelectController_1 = class SmartSelectController {\n  static get(editor) {\n    return editor.getContribution(SmartSelectController_1.ID);\n  }\n  constructor(_editor, _languageFeaturesService) {\n    this._editor = _editor;\n    this._languageFeaturesService = _languageFeaturesService;\n    this._ignoreSelection = false;\n  }\n  dispose() {\n    var _a;\n    (_a = this._selectionListener) === null || _a === void 0 ? void 0 : _a.dispose();\n  }\n  run(forward) {\n    return __awaiter(this, void 0, void 0, function* () {\n      if (!this._editor.hasModel()) {\n        return;\n      }\n      const selections = this._editor.getSelections();\n      const model = this._editor.getModel();\n      if (!this._state) {\n        yield provideSelectionRanges(this._languageFeaturesService.selectionRangeProvider, model, selections.map(s => s.getPosition()), this._editor.getOption(112 /* EditorOption.smartSelect */), CancellationToken.None).then(ranges => {\n          var _a;\n          if (!arrays.isNonEmptyArray(ranges) || ranges.length !== selections.length) {\n            // invalid result\n            return;\n          }\n          if (!this._editor.hasModel() || !arrays.equals(this._editor.getSelections(), selections, (a, b) => a.equalsSelection(b))) {\n            // invalid editor state\n            return;\n          }\n          for (let i = 0; i < ranges.length; i++) {\n            ranges[i] = ranges[i].filter(range => {\n              // filter ranges inside the selection\n              return range.containsPosition(selections[i].getStartPosition()) && range.containsPosition(selections[i].getEndPosition());\n            });\n            // prepend current selection\n            ranges[i].unshift(selections[i]);\n          }\n          this._state = ranges.map(ranges => new SelectionRanges(0, ranges));\n          // listen to caret move and forget about state\n          (_a = this._selectionListener) === null || _a === void 0 ? void 0 : _a.dispose();\n          this._selectionListener = this._editor.onDidChangeCursorPosition(() => {\n            var _a;\n            if (!this._ignoreSelection) {\n              (_a = this._selectionListener) === null || _a === void 0 ? void 0 : _a.dispose();\n              this._state = undefined;\n            }\n          });\n        });\n      }\n      if (!this._state) {\n        // no state\n        return;\n      }\n      this._state = this._state.map(state => state.mov(forward));\n      const newSelections = this._state.map(state => Selection.fromPositions(state.ranges[state.index].getStartPosition(), state.ranges[state.index].getEndPosition()));\n      this._ignoreSelection = true;\n      try {\n        this._editor.setSelections(newSelections);\n      } finally {\n        this._ignoreSelection = false;\n      }\n    });\n  }\n};\nSmartSelectController.ID = 'editor.contrib.smartSelectController';\nSmartSelectController = SmartSelectController_1 = __decorate([__param(1, ILanguageFeaturesService)], SmartSelectController);\nexport { SmartSelectController };\nclass AbstractSmartSelect extends EditorAction {\n  constructor(forward, opts) {\n    super(opts);\n    this._forward = forward;\n  }\n  run(_accessor, editor) {\n    return __awaiter(this, void 0, void 0, function* () {\n      const controller = SmartSelectController.get(editor);\n      if (controller) {\n        yield controller.run(this._forward);\n      }\n    });\n  }\n}\nclass GrowSelectionAction extends AbstractSmartSelect {\n  constructor() {\n    super(true, {\n      id: 'editor.action.smartSelect.expand',\n      label: nls.localize('smartSelect.expand', \"Expand Selection\"),\n      alias: 'Expand Selection',\n      precondition: undefined,\n      kbOpts: {\n        kbExpr: EditorContextKeys.editorTextFocus,\n        primary: 1024 /* KeyMod.Shift */ | 512 /* KeyMod.Alt */ | 17 /* KeyCode.RightArrow */,\n        mac: {\n          primary: 2048 /* KeyMod.CtrlCmd */ | 256 /* KeyMod.WinCtrl */ | 1024 /* KeyMod.Shift */ | 17 /* KeyCode.RightArrow */,\n          secondary: [256 /* KeyMod.WinCtrl */ | 1024 /* KeyMod.Shift */ | 17 /* KeyCode.RightArrow */]\n        },\n\n        weight: 100 /* KeybindingWeight.EditorContrib */\n      },\n\n      menuOpts: {\n        menuId: MenuId.MenubarSelectionMenu,\n        group: '1_basic',\n        title: nls.localize({\n          key: 'miSmartSelectGrow',\n          comment: ['&& denotes a mnemonic']\n        }, \"&&Expand Selection\"),\n        order: 2\n      }\n    });\n  }\n}\n// renamed command id\nCommandsRegistry.registerCommandAlias('editor.action.smartSelect.grow', 'editor.action.smartSelect.expand');\nclass ShrinkSelectionAction extends AbstractSmartSelect {\n  constructor() {\n    super(false, {\n      id: 'editor.action.smartSelect.shrink',\n      label: nls.localize('smartSelect.shrink', \"Shrink Selection\"),\n      alias: 'Shrink Selection',\n      precondition: undefined,\n      kbOpts: {\n        kbExpr: EditorContextKeys.editorTextFocus,\n        primary: 1024 /* KeyMod.Shift */ | 512 /* KeyMod.Alt */ | 15 /* KeyCode.LeftArrow */,\n        mac: {\n          primary: 2048 /* KeyMod.CtrlCmd */ | 256 /* KeyMod.WinCtrl */ | 1024 /* KeyMod.Shift */ | 15 /* KeyCode.LeftArrow */,\n          secondary: [256 /* KeyMod.WinCtrl */ | 1024 /* KeyMod.Shift */ | 15 /* KeyCode.LeftArrow */]\n        },\n\n        weight: 100 /* KeybindingWeight.EditorContrib */\n      },\n\n      menuOpts: {\n        menuId: MenuId.MenubarSelectionMenu,\n        group: '1_basic',\n        title: nls.localize({\n          key: 'miSmartSelectShrink',\n          comment: ['&& denotes a mnemonic']\n        }, \"&&Shrink Selection\"),\n        order: 3\n      }\n    });\n  }\n}\nregisterEditorContribution(SmartSelectController.ID, SmartSelectController, 4 /* EditorContributionInstantiation.Lazy */);\nregisterEditorAction(GrowSelectionAction);\nregisterEditorAction(ShrinkSelectionAction);\nexport function provideSelectionRanges(registry, model, positions, options, token) {\n  return __awaiter(this, void 0, void 0, function* () {\n    const providers = registry.all(model).concat(new WordSelectionRangeProvider(options.selectSubwords)); // ALWAYS have word based selection range\n    if (providers.length === 1) {\n      // add word selection and bracket selection when no provider exists\n      providers.unshift(new BracketSelectionRangeProvider());\n    }\n    const work = [];\n    const allRawRanges = [];\n    for (const provider of providers) {\n      work.push(Promise.resolve(provider.provideSelectionRanges(model, positions, token)).then(allProviderRanges => {\n        if (arrays.isNonEmptyArray(allProviderRanges) && allProviderRanges.length === positions.length) {\n          for (let i = 0; i < positions.length; i++) {\n            if (!allRawRanges[i]) {\n              allRawRanges[i] = [];\n            }\n            for (const oneProviderRanges of allProviderRanges[i]) {\n              if (Range.isIRange(oneProviderRanges.range) && Range.containsPosition(oneProviderRanges.range, positions[i])) {\n                allRawRanges[i].push(Range.lift(oneProviderRanges.range));\n              }\n            }\n          }\n        }\n      }, onUnexpectedExternalError));\n    }\n    yield Promise.all(work);\n    return allRawRanges.map(oneRawRanges => {\n      if (oneRawRanges.length === 0) {\n        return [];\n      }\n      // sort all by start/end position\n      oneRawRanges.sort((a, b) => {\n        if (Position.isBefore(a.getStartPosition(), b.getStartPosition())) {\n          return 1;\n        } else if (Position.isBefore(b.getStartPosition(), a.getStartPosition())) {\n          return -1;\n        } else if (Position.isBefore(a.getEndPosition(), b.getEndPosition())) {\n          return -1;\n        } else if (Position.isBefore(b.getEndPosition(), a.getEndPosition())) {\n          return 1;\n        } else {\n          return 0;\n        }\n      });\n      // remove ranges that don't contain the former range or that are equal to the\n      // former range\n      const oneRanges = [];\n      let last;\n      for (const range of oneRawRanges) {\n        if (!last || Range.containsRange(range, last) && !Range.equalsRange(range, last)) {\n          oneRanges.push(range);\n          last = range;\n        }\n      }\n      if (!options.selectLeadingAndTrailingWhitespace) {\n        return oneRanges;\n      }\n      // add ranges that expand trivia at line starts and ends whenever a range\n      // wraps onto the a new line\n      const oneRangesWithTrivia = [oneRanges[0]];\n      for (let i = 1; i < oneRanges.length; i++) {\n        const prev = oneRanges[i - 1];\n        const cur = oneRanges[i];\n        if (cur.startLineNumber !== prev.startLineNumber || cur.endLineNumber !== prev.endLineNumber) {\n          // add line/block range without leading/failing whitespace\n          const rangeNoWhitespace = new Range(prev.startLineNumber, model.getLineFirstNonWhitespaceColumn(prev.startLineNumber), prev.endLineNumber, model.getLineLastNonWhitespaceColumn(prev.endLineNumber));\n          if (rangeNoWhitespace.containsRange(prev) && !rangeNoWhitespace.equalsRange(prev) && cur.containsRange(rangeNoWhitespace) && !cur.equalsRange(rangeNoWhitespace)) {\n            oneRangesWithTrivia.push(rangeNoWhitespace);\n          }\n          // add line/block range\n          const rangeFull = new Range(prev.startLineNumber, 1, prev.endLineNumber, model.getLineMaxColumn(prev.endLineNumber));\n          if (rangeFull.containsRange(prev) && !rangeFull.equalsRange(rangeNoWhitespace) && cur.containsRange(rangeFull) && !cur.equalsRange(rangeFull)) {\n            oneRangesWithTrivia.push(rangeFull);\n          }\n        }\n        oneRangesWithTrivia.push(cur);\n      }\n      return oneRangesWithTrivia;\n    });\n  });\n}\nCommandsRegistry.registerCommand('_executeSelectionRangeProvider', function (accessor, ...args) {\n  return __awaiter(this, void 0, void 0, function* () {\n    const [resource, positions] = args;\n    assertType(URI.isUri(resource));\n    const registry = accessor.get(ILanguageFeaturesService).selectionRangeProvider;\n    const reference = yield accessor.get(ITextModelService).createModelReference(resource);\n    try {\n      return provideSelectionRanges(registry, reference.object.textEditorModel, positions, {\n        selectLeadingAndTrailingWhitespace: true,\n        selectSubwords: true\n      }, CancellationToken.None);\n    } finally {\n      reference.dispose();\n    }\n  });\n});","map":{"version":3,"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","SmartSelectController_1","arrays","CancellationToken","onUnexpectedExternalError","EditorAction","registerEditorAction","registerEditorContribution","Position","Range","Selection","EditorContextKeys","BracketSelectionRangeProvider","WordSelectionRangeProvider","nls","MenuId","CommandsRegistry","ILanguageFeaturesService","ITextModelService","assertType","URI","SelectionRanges","constructor","index","ranges","mov","fwd","res","equalsRange","SmartSelectController","get","editor","getContribution","ID","_editor","_languageFeaturesService","_ignoreSelection","dispose","_a","_selectionListener","run","forward","hasModel","selections","getSelections","model","getModel","_state","provideSelectionRanges","selectionRangeProvider","map","s","getPosition","getOption","None","isNonEmptyArray","equals","a","b","equalsSelection","filter","range","containsPosition","getStartPosition","getEndPosition","unshift","onDidChangeCursorPosition","undefined","state","newSelections","fromPositions","setSelections","AbstractSmartSelect","opts","_forward","_accessor","controller","GrowSelectionAction","id","label","localize","alias","precondition","kbOpts","kbExpr","editorTextFocus","primary","mac","secondary","weight","menuOpts","menuId","MenubarSelectionMenu","group","title","comment","order","registerCommandAlias","ShrinkSelectionAction","registry","positions","options","token","providers","all","concat","selectSubwords","work","allRawRanges","provider","push","allProviderRanges","oneProviderRanges","isIRange","lift","oneRawRanges","sort","isBefore","oneRanges","last","containsRange","selectLeadingAndTrailingWhitespace","oneRangesWithTrivia","prev","cur","startLineNumber","endLineNumber","rangeNoWhitespace","getLineFirstNonWhitespaceColumn","getLineLastNonWhitespaceColumn","rangeFull","getLineMaxColumn","registerCommand","accessor","args","resource","isUri","reference","createModelReference","object","textEditorModel"],"sources":["/home/chlohest/work/website/my_web/node_modules/monaco-editor/esm/vs/editor/contrib/smartSelect/browser/smartSelect.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar SmartSelectController_1;\nimport * as arrays from '../../../../base/common/arrays.js';\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { onUnexpectedExternalError } from '../../../../base/common/errors.js';\nimport { EditorAction, registerEditorAction, registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { Position } from '../../../common/core/position.js';\nimport { Range } from '../../../common/core/range.js';\nimport { Selection } from '../../../common/core/selection.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { BracketSelectionRangeProvider } from './bracketSelections.js';\nimport { WordSelectionRangeProvider } from './wordSelections.js';\nimport * as nls from '../../../../nls.js';\nimport { MenuId } from '../../../../platform/actions/common/actions.js';\nimport { CommandsRegistry } from '../../../../platform/commands/common/commands.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { ITextModelService } from '../../../common/services/resolverService.js';\nimport { assertType } from '../../../../base/common/types.js';\nimport { URI } from '../../../../base/common/uri.js';\nclass SelectionRanges {\n    constructor(index, ranges) {\n        this.index = index;\n        this.ranges = ranges;\n    }\n    mov(fwd) {\n        const index = this.index + (fwd ? 1 : -1);\n        if (index < 0 || index >= this.ranges.length) {\n            return this;\n        }\n        const res = new SelectionRanges(index, this.ranges);\n        if (res.ranges[index].equalsRange(this.ranges[this.index])) {\n            // next range equals this range, retry with next-next\n            return res.mov(fwd);\n        }\n        return res;\n    }\n}\nlet SmartSelectController = SmartSelectController_1 = class SmartSelectController {\n    static get(editor) {\n        return editor.getContribution(SmartSelectController_1.ID);\n    }\n    constructor(_editor, _languageFeaturesService) {\n        this._editor = _editor;\n        this._languageFeaturesService = _languageFeaturesService;\n        this._ignoreSelection = false;\n    }\n    dispose() {\n        var _a;\n        (_a = this._selectionListener) === null || _a === void 0 ? void 0 : _a.dispose();\n    }\n    run(forward) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this._editor.hasModel()) {\n                return;\n            }\n            const selections = this._editor.getSelections();\n            const model = this._editor.getModel();\n            if (!this._state) {\n                yield provideSelectionRanges(this._languageFeaturesService.selectionRangeProvider, model, selections.map(s => s.getPosition()), this._editor.getOption(112 /* EditorOption.smartSelect */), CancellationToken.None).then(ranges => {\n                    var _a;\n                    if (!arrays.isNonEmptyArray(ranges) || ranges.length !== selections.length) {\n                        // invalid result\n                        return;\n                    }\n                    if (!this._editor.hasModel() || !arrays.equals(this._editor.getSelections(), selections, (a, b) => a.equalsSelection(b))) {\n                        // invalid editor state\n                        return;\n                    }\n                    for (let i = 0; i < ranges.length; i++) {\n                        ranges[i] = ranges[i].filter(range => {\n                            // filter ranges inside the selection\n                            return range.containsPosition(selections[i].getStartPosition()) && range.containsPosition(selections[i].getEndPosition());\n                        });\n                        // prepend current selection\n                        ranges[i].unshift(selections[i]);\n                    }\n                    this._state = ranges.map(ranges => new SelectionRanges(0, ranges));\n                    // listen to caret move and forget about state\n                    (_a = this._selectionListener) === null || _a === void 0 ? void 0 : _a.dispose();\n                    this._selectionListener = this._editor.onDidChangeCursorPosition(() => {\n                        var _a;\n                        if (!this._ignoreSelection) {\n                            (_a = this._selectionListener) === null || _a === void 0 ? void 0 : _a.dispose();\n                            this._state = undefined;\n                        }\n                    });\n                });\n            }\n            if (!this._state) {\n                // no state\n                return;\n            }\n            this._state = this._state.map(state => state.mov(forward));\n            const newSelections = this._state.map(state => Selection.fromPositions(state.ranges[state.index].getStartPosition(), state.ranges[state.index].getEndPosition()));\n            this._ignoreSelection = true;\n            try {\n                this._editor.setSelections(newSelections);\n            }\n            finally {\n                this._ignoreSelection = false;\n            }\n        });\n    }\n};\nSmartSelectController.ID = 'editor.contrib.smartSelectController';\nSmartSelectController = SmartSelectController_1 = __decorate([\n    __param(1, ILanguageFeaturesService)\n], SmartSelectController);\nexport { SmartSelectController };\nclass AbstractSmartSelect extends EditorAction {\n    constructor(forward, opts) {\n        super(opts);\n        this._forward = forward;\n    }\n    run(_accessor, editor) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const controller = SmartSelectController.get(editor);\n            if (controller) {\n                yield controller.run(this._forward);\n            }\n        });\n    }\n}\nclass GrowSelectionAction extends AbstractSmartSelect {\n    constructor() {\n        super(true, {\n            id: 'editor.action.smartSelect.expand',\n            label: nls.localize('smartSelect.expand', \"Expand Selection\"),\n            alias: 'Expand Selection',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 1024 /* KeyMod.Shift */ | 512 /* KeyMod.Alt */ | 17 /* KeyCode.RightArrow */,\n                mac: {\n                    primary: 2048 /* KeyMod.CtrlCmd */ | 256 /* KeyMod.WinCtrl */ | 1024 /* KeyMod.Shift */ | 17 /* KeyCode.RightArrow */,\n                    secondary: [256 /* KeyMod.WinCtrl */ | 1024 /* KeyMod.Shift */ | 17 /* KeyCode.RightArrow */],\n                },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            },\n            menuOpts: {\n                menuId: MenuId.MenubarSelectionMenu,\n                group: '1_basic',\n                title: nls.localize({ key: 'miSmartSelectGrow', comment: ['&& denotes a mnemonic'] }, \"&&Expand Selection\"),\n                order: 2\n            }\n        });\n    }\n}\n// renamed command id\nCommandsRegistry.registerCommandAlias('editor.action.smartSelect.grow', 'editor.action.smartSelect.expand');\nclass ShrinkSelectionAction extends AbstractSmartSelect {\n    constructor() {\n        super(false, {\n            id: 'editor.action.smartSelect.shrink',\n            label: nls.localize('smartSelect.shrink', \"Shrink Selection\"),\n            alias: 'Shrink Selection',\n            precondition: undefined,\n            kbOpts: {\n                kbExpr: EditorContextKeys.editorTextFocus,\n                primary: 1024 /* KeyMod.Shift */ | 512 /* KeyMod.Alt */ | 15 /* KeyCode.LeftArrow */,\n                mac: {\n                    primary: 2048 /* KeyMod.CtrlCmd */ | 256 /* KeyMod.WinCtrl */ | 1024 /* KeyMod.Shift */ | 15 /* KeyCode.LeftArrow */,\n                    secondary: [256 /* KeyMod.WinCtrl */ | 1024 /* KeyMod.Shift */ | 15 /* KeyCode.LeftArrow */],\n                },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            },\n            menuOpts: {\n                menuId: MenuId.MenubarSelectionMenu,\n                group: '1_basic',\n                title: nls.localize({ key: 'miSmartSelectShrink', comment: ['&& denotes a mnemonic'] }, \"&&Shrink Selection\"),\n                order: 3\n            }\n        });\n    }\n}\nregisterEditorContribution(SmartSelectController.ID, SmartSelectController, 4 /* EditorContributionInstantiation.Lazy */);\nregisterEditorAction(GrowSelectionAction);\nregisterEditorAction(ShrinkSelectionAction);\nexport function provideSelectionRanges(registry, model, positions, options, token) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const providers = registry.all(model)\n            .concat(new WordSelectionRangeProvider(options.selectSubwords)); // ALWAYS have word based selection range\n        if (providers.length === 1) {\n            // add word selection and bracket selection when no provider exists\n            providers.unshift(new BracketSelectionRangeProvider());\n        }\n        const work = [];\n        const allRawRanges = [];\n        for (const provider of providers) {\n            work.push(Promise.resolve(provider.provideSelectionRanges(model, positions, token)).then(allProviderRanges => {\n                if (arrays.isNonEmptyArray(allProviderRanges) && allProviderRanges.length === positions.length) {\n                    for (let i = 0; i < positions.length; i++) {\n                        if (!allRawRanges[i]) {\n                            allRawRanges[i] = [];\n                        }\n                        for (const oneProviderRanges of allProviderRanges[i]) {\n                            if (Range.isIRange(oneProviderRanges.range) && Range.containsPosition(oneProviderRanges.range, positions[i])) {\n                                allRawRanges[i].push(Range.lift(oneProviderRanges.range));\n                            }\n                        }\n                    }\n                }\n            }, onUnexpectedExternalError));\n        }\n        yield Promise.all(work);\n        return allRawRanges.map(oneRawRanges => {\n            if (oneRawRanges.length === 0) {\n                return [];\n            }\n            // sort all by start/end position\n            oneRawRanges.sort((a, b) => {\n                if (Position.isBefore(a.getStartPosition(), b.getStartPosition())) {\n                    return 1;\n                }\n                else if (Position.isBefore(b.getStartPosition(), a.getStartPosition())) {\n                    return -1;\n                }\n                else if (Position.isBefore(a.getEndPosition(), b.getEndPosition())) {\n                    return -1;\n                }\n                else if (Position.isBefore(b.getEndPosition(), a.getEndPosition())) {\n                    return 1;\n                }\n                else {\n                    return 0;\n                }\n            });\n            // remove ranges that don't contain the former range or that are equal to the\n            // former range\n            const oneRanges = [];\n            let last;\n            for (const range of oneRawRanges) {\n                if (!last || (Range.containsRange(range, last) && !Range.equalsRange(range, last))) {\n                    oneRanges.push(range);\n                    last = range;\n                }\n            }\n            if (!options.selectLeadingAndTrailingWhitespace) {\n                return oneRanges;\n            }\n            // add ranges that expand trivia at line starts and ends whenever a range\n            // wraps onto the a new line\n            const oneRangesWithTrivia = [oneRanges[0]];\n            for (let i = 1; i < oneRanges.length; i++) {\n                const prev = oneRanges[i - 1];\n                const cur = oneRanges[i];\n                if (cur.startLineNumber !== prev.startLineNumber || cur.endLineNumber !== prev.endLineNumber) {\n                    // add line/block range without leading/failing whitespace\n                    const rangeNoWhitespace = new Range(prev.startLineNumber, model.getLineFirstNonWhitespaceColumn(prev.startLineNumber), prev.endLineNumber, model.getLineLastNonWhitespaceColumn(prev.endLineNumber));\n                    if (rangeNoWhitespace.containsRange(prev) && !rangeNoWhitespace.equalsRange(prev) && cur.containsRange(rangeNoWhitespace) && !cur.equalsRange(rangeNoWhitespace)) {\n                        oneRangesWithTrivia.push(rangeNoWhitespace);\n                    }\n                    // add line/block range\n                    const rangeFull = new Range(prev.startLineNumber, 1, prev.endLineNumber, model.getLineMaxColumn(prev.endLineNumber));\n                    if (rangeFull.containsRange(prev) && !rangeFull.equalsRange(rangeNoWhitespace) && cur.containsRange(rangeFull) && !cur.equalsRange(rangeFull)) {\n                        oneRangesWithTrivia.push(rangeFull);\n                    }\n                }\n                oneRangesWithTrivia.push(cur);\n            }\n            return oneRangesWithTrivia;\n        });\n    });\n}\nCommandsRegistry.registerCommand('_executeSelectionRangeProvider', function (accessor, ...args) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const [resource, positions] = args;\n        assertType(URI.isUri(resource));\n        const registry = accessor.get(ILanguageFeaturesService).selectionRangeProvider;\n        const reference = yield accessor.get(ITextModelService).createModelReference(resource);\n        try {\n            return provideSelectionRanges(registry, reference.object.textEditorModel, positions, { selectLeadingAndTrailingWhitespace: true, selectSubwords: true }, CancellationToken.None);\n        }\n        finally {\n            reference.dispose();\n        }\n    });\n});\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,IAAIA,UAAU,GAAI,IAAI,IAAI,IAAI,CAACA,UAAU,IAAK,UAAUC,UAAU,EAAEC,MAAM,EAAEC,GAAG,EAAEC,IAAI,EAAE;EACnF,IAAIC,CAAC,GAAGC,SAAS,CAACC,MAAM;IAAEC,CAAC,GAAGH,CAAC,GAAG,CAAC,GAAGH,MAAM,GAAGE,IAAI,KAAK,IAAI,GAAGA,IAAI,GAAGK,MAAM,CAACC,wBAAwB,CAACR,MAAM,EAAEC,GAAG,CAAC,GAAGC,IAAI;IAAEO,CAAC;EAC5H,IAAI,OAAOC,OAAO,KAAK,QAAQ,IAAI,OAAOA,OAAO,CAACC,QAAQ,KAAK,UAAU,EAAEL,CAAC,GAAGI,OAAO,CAACC,QAAQ,CAACZ,UAAU,EAAEC,MAAM,EAAEC,GAAG,EAAEC,IAAI,CAAC,CAAC,KAC1H,KAAK,IAAIU,CAAC,GAAGb,UAAU,CAACM,MAAM,GAAG,CAAC,EAAEO,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE,IAAIH,CAAC,GAAGV,UAAU,CAACa,CAAC,CAAC,EAAEN,CAAC,GAAG,CAACH,CAAC,GAAG,CAAC,GAAGM,CAAC,CAACH,CAAC,CAAC,GAAGH,CAAC,GAAG,CAAC,GAAGM,CAAC,CAACT,MAAM,EAAEC,GAAG,EAAEK,CAAC,CAAC,GAAGG,CAAC,CAACT,MAAM,EAAEC,GAAG,CAAC,KAAKK,CAAC;EACjJ,OAAOH,CAAC,GAAG,CAAC,IAAIG,CAAC,IAAIC,MAAM,CAACM,cAAc,CAACb,MAAM,EAAEC,GAAG,EAAEK,CAAC,CAAC,EAAEA,CAAC;AACjE,CAAC;AACD,IAAIQ,OAAO,GAAI,IAAI,IAAI,IAAI,CAACA,OAAO,IAAK,UAAUC,UAAU,EAAEC,SAAS,EAAE;EACrE,OAAO,UAAUhB,MAAM,EAAEC,GAAG,EAAE;IAAEe,SAAS,CAAChB,MAAM,EAAEC,GAAG,EAAEc,UAAU,CAAC;EAAE,CAAC;AACzE,CAAC;AACD,IAAIE,SAAS,GAAI,IAAI,IAAI,IAAI,CAACA,SAAS,IAAK,UAAUC,OAAO,EAAEC,UAAU,EAAEC,CAAC,EAAEC,SAAS,EAAE;EACrF,SAASC,KAAKA,CAACC,KAAK,EAAE;IAAE,OAAOA,KAAK,YAAYH,CAAC,GAAGG,KAAK,GAAG,IAAIH,CAAC,CAAC,UAAUI,OAAO,EAAE;MAAEA,OAAO,CAACD,KAAK,CAAC;IAAE,CAAC,CAAC;EAAE;EAC3G,OAAO,KAAKH,CAAC,KAAKA,CAAC,GAAGK,OAAO,CAAC,EAAE,UAAUD,OAAO,EAAEE,MAAM,EAAE;IACvD,SAASC,SAASA,CAACJ,KAAK,EAAE;MAAE,IAAI;QAAEK,IAAI,CAACP,SAAS,CAACQ,IAAI,CAACN,KAAK,CAAC,CAAC;MAAE,CAAC,CAAC,OAAOO,CAAC,EAAE;QAAEJ,MAAM,CAACI,CAAC,CAAC;MAAE;IAAE;IAC1F,SAASC,QAAQA,CAACR,KAAK,EAAE;MAAE,IAAI;QAAEK,IAAI,CAACP,SAAS,CAAC,OAAO,CAAC,CAACE,KAAK,CAAC,CAAC;MAAE,CAAC,CAAC,OAAOO,CAAC,EAAE;QAAEJ,MAAM,CAACI,CAAC,CAAC;MAAE;IAAE;IAC7F,SAASF,IAAIA,CAACI,MAAM,EAAE;MAAEA,MAAM,CAACC,IAAI,GAAGT,OAAO,CAACQ,MAAM,CAACT,KAAK,CAAC,GAAGD,KAAK,CAACU,MAAM,CAACT,KAAK,CAAC,CAACW,IAAI,CAACP,SAAS,EAAEI,QAAQ,CAAC;IAAE;IAC7GH,IAAI,CAAC,CAACP,SAAS,GAAGA,SAAS,CAACc,KAAK,CAACjB,OAAO,EAAEC,UAAU,IAAI,EAAE,CAAC,EAAEU,IAAI,CAAC,CAAC,CAAC;EACzE,CAAC,CAAC;AACN,CAAC;AACD,IAAIO,uBAAuB;AAC3B,OAAO,KAAKC,MAAM,MAAM,mCAAmC;AAC3D,SAASC,iBAAiB,QAAQ,yCAAyC;AAC3E,SAASC,yBAAyB,QAAQ,mCAAmC;AAC7E,SAASC,YAAY,EAAEC,oBAAoB,EAAEC,0BAA0B,QAAQ,sCAAsC;AACrH,SAASC,QAAQ,QAAQ,kCAAkC;AAC3D,SAASC,KAAK,QAAQ,+BAA+B;AACrD,SAASC,SAAS,QAAQ,mCAAmC;AAC7D,SAASC,iBAAiB,QAAQ,sCAAsC;AACxE,SAASC,6BAA6B,QAAQ,wBAAwB;AACtE,SAASC,0BAA0B,QAAQ,qBAAqB;AAChE,OAAO,KAAKC,GAAG,MAAM,oBAAoB;AACzC,SAASC,MAAM,QAAQ,gDAAgD;AACvE,SAASC,gBAAgB,QAAQ,kDAAkD;AACnF,SAASC,wBAAwB,QAAQ,8CAA8C;AACvF,SAASC,iBAAiB,QAAQ,6CAA6C;AAC/E,SAASC,UAAU,QAAQ,kCAAkC;AAC7D,SAASC,GAAG,QAAQ,gCAAgC;AACpD,MAAMC,eAAe,CAAC;EAClBC,WAAWA,CAACC,KAAK,EAAEC,MAAM,EAAE;IACvB,IAAI,CAACD,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACC,MAAM,GAAGA,MAAM;EACxB;EACAC,GAAGA,CAACC,GAAG,EAAE;IACL,MAAMH,KAAK,GAAG,IAAI,CAACA,KAAK,IAAIG,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;IACzC,IAAIH,KAAK,GAAG,CAAC,IAAIA,KAAK,IAAI,IAAI,CAACC,MAAM,CAACtD,MAAM,EAAE;MAC1C,OAAO,IAAI;IACf;IACA,MAAMyD,GAAG,GAAG,IAAIN,eAAe,CAACE,KAAK,EAAE,IAAI,CAACC,MAAM,CAAC;IACnD,IAAIG,GAAG,CAACH,MAAM,CAACD,KAAK,CAAC,CAACK,WAAW,CAAC,IAAI,CAACJ,MAAM,CAAC,IAAI,CAACD,KAAK,CAAC,CAAC,EAAE;MACxD;MACA,OAAOI,GAAG,CAACF,GAAG,CAACC,GAAG,CAAC;IACvB;IACA,OAAOC,GAAG;EACd;AACJ;AACA,IAAIE,qBAAqB,GAAG5B,uBAAuB,GAAG,MAAM4B,qBAAqB,CAAC;EAC9E,OAAOC,GAAGA,CAACC,MAAM,EAAE;IACf,OAAOA,MAAM,CAACC,eAAe,CAAC/B,uBAAuB,CAACgC,EAAE,CAAC;EAC7D;EACAX,WAAWA,CAACY,OAAO,EAAEC,wBAAwB,EAAE;IAC3C,IAAI,CAACD,OAAO,GAAGA,OAAO;IACtB,IAAI,CAACC,wBAAwB,GAAGA,wBAAwB;IACxD,IAAI,CAACC,gBAAgB,GAAG,KAAK;EACjC;EACAC,OAAOA,CAAA,EAAG;IACN,IAAIC,EAAE;IACN,CAACA,EAAE,GAAG,IAAI,CAACC,kBAAkB,MAAM,IAAI,IAAID,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACD,OAAO,CAAC,CAAC;EACpF;EACAG,GAAGA,CAACC,OAAO,EAAE;IACT,OAAO3D,SAAS,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,aAAa;MAChD,IAAI,CAAC,IAAI,CAACoD,OAAO,CAACQ,QAAQ,CAAC,CAAC,EAAE;QAC1B;MACJ;MACA,MAAMC,UAAU,GAAG,IAAI,CAACT,OAAO,CAACU,aAAa,CAAC,CAAC;MAC/C,MAAMC,KAAK,GAAG,IAAI,CAACX,OAAO,CAACY,QAAQ,CAAC,CAAC;MACrC,IAAI,CAAC,IAAI,CAACC,MAAM,EAAE;QACd,MAAMC,sBAAsB,CAAC,IAAI,CAACb,wBAAwB,CAACc,sBAAsB,EAAEJ,KAAK,EAAEF,UAAU,CAACO,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACC,WAAW,CAAC,CAAC,CAAC,EAAE,IAAI,CAAClB,OAAO,CAACmB,SAAS,CAAC,GAAG,CAAC,8BAA8B,CAAC,EAAElD,iBAAiB,CAACmD,IAAI,CAAC,CAACvD,IAAI,CAACyB,MAAM,IAAI;UAC/N,IAAIc,EAAE;UACN,IAAI,CAACpC,MAAM,CAACqD,eAAe,CAAC/B,MAAM,CAAC,IAAIA,MAAM,CAACtD,MAAM,KAAKyE,UAAU,CAACzE,MAAM,EAAE;YACxE;YACA;UACJ;UACA,IAAI,CAAC,IAAI,CAACgE,OAAO,CAACQ,QAAQ,CAAC,CAAC,IAAI,CAACxC,MAAM,CAACsD,MAAM,CAAC,IAAI,CAACtB,OAAO,CAACU,aAAa,CAAC,CAAC,EAAED,UAAU,EAAE,CAACc,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAACE,eAAe,CAACD,CAAC,CAAC,CAAC,EAAE;YACtH;YACA;UACJ;UACA,KAAK,IAAIjF,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG+C,MAAM,CAACtD,MAAM,EAAEO,CAAC,EAAE,EAAE;YACpC+C,MAAM,CAAC/C,CAAC,CAAC,GAAG+C,MAAM,CAAC/C,CAAC,CAAC,CAACmF,MAAM,CAACC,KAAK,IAAI;cAClC;cACA,OAAOA,KAAK,CAACC,gBAAgB,CAACnB,UAAU,CAAClE,CAAC,CAAC,CAACsF,gBAAgB,CAAC,CAAC,CAAC,IAAIF,KAAK,CAACC,gBAAgB,CAACnB,UAAU,CAAClE,CAAC,CAAC,CAACuF,cAAc,CAAC,CAAC,CAAC;YAC7H,CAAC,CAAC;YACF;YACAxC,MAAM,CAAC/C,CAAC,CAAC,CAACwF,OAAO,CAACtB,UAAU,CAAClE,CAAC,CAAC,CAAC;UACpC;UACA,IAAI,CAACsE,MAAM,GAAGvB,MAAM,CAAC0B,GAAG,CAAC1B,MAAM,IAAI,IAAIH,eAAe,CAAC,CAAC,EAAEG,MAAM,CAAC,CAAC;UAClE;UACA,CAACc,EAAE,GAAG,IAAI,CAACC,kBAAkB,MAAM,IAAI,IAAID,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACD,OAAO,CAAC,CAAC;UAChF,IAAI,CAACE,kBAAkB,GAAG,IAAI,CAACL,OAAO,CAACgC,yBAAyB,CAAC,MAAM;YACnE,IAAI5B,EAAE;YACN,IAAI,CAAC,IAAI,CAACF,gBAAgB,EAAE;cACxB,CAACE,EAAE,GAAG,IAAI,CAACC,kBAAkB,MAAM,IAAI,IAAID,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACD,OAAO,CAAC,CAAC;cAChF,IAAI,CAACU,MAAM,GAAGoB,SAAS;YAC3B;UACJ,CAAC,CAAC;QACN,CAAC,CAAC;MACN;MACA,IAAI,CAAC,IAAI,CAACpB,MAAM,EAAE;QACd;QACA;MACJ;MACA,IAAI,CAACA,MAAM,GAAG,IAAI,CAACA,MAAM,CAACG,GAAG,CAACkB,KAAK,IAAIA,KAAK,CAAC3C,GAAG,CAACgB,OAAO,CAAC,CAAC;MAC1D,MAAM4B,aAAa,GAAG,IAAI,CAACtB,MAAM,CAACG,GAAG,CAACkB,KAAK,IAAI1D,SAAS,CAAC4D,aAAa,CAACF,KAAK,CAAC5C,MAAM,CAAC4C,KAAK,CAAC7C,KAAK,CAAC,CAACwC,gBAAgB,CAAC,CAAC,EAAEK,KAAK,CAAC5C,MAAM,CAAC4C,KAAK,CAAC7C,KAAK,CAAC,CAACyC,cAAc,CAAC,CAAC,CAAC,CAAC;MACjK,IAAI,CAAC5B,gBAAgB,GAAG,IAAI;MAC5B,IAAI;QACA,IAAI,CAACF,OAAO,CAACqC,aAAa,CAACF,aAAa,CAAC;MAC7C,CAAC,SACO;QACJ,IAAI,CAACjC,gBAAgB,GAAG,KAAK;MACjC;IACJ,CAAC,CAAC;EACN;AACJ,CAAC;AACDP,qBAAqB,CAACI,EAAE,GAAG,sCAAsC;AACjEJ,qBAAqB,GAAG5B,uBAAuB,GAAGtC,UAAU,CAAC,CACzDgB,OAAO,CAAC,CAAC,EAAEsC,wBAAwB,CAAC,CACvC,EAAEY,qBAAqB,CAAC;AACzB,SAASA,qBAAqB;AAC9B,MAAM2C,mBAAmB,SAASnE,YAAY,CAAC;EAC3CiB,WAAWA,CAACmB,OAAO,EAAEgC,IAAI,EAAE;IACvB,KAAK,CAACA,IAAI,CAAC;IACX,IAAI,CAACC,QAAQ,GAAGjC,OAAO;EAC3B;EACAD,GAAGA,CAACmC,SAAS,EAAE5C,MAAM,EAAE;IACnB,OAAOjD,SAAS,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,aAAa;MAChD,MAAM8F,UAAU,GAAG/C,qBAAqB,CAACC,GAAG,CAACC,MAAM,CAAC;MACpD,IAAI6C,UAAU,EAAE;QACZ,MAAMA,UAAU,CAACpC,GAAG,CAAC,IAAI,CAACkC,QAAQ,CAAC;MACvC;IACJ,CAAC,CAAC;EACN;AACJ;AACA,MAAMG,mBAAmB,SAASL,mBAAmB,CAAC;EAClDlD,WAAWA,CAAA,EAAG;IACV,KAAK,CAAC,IAAI,EAAE;MACRwD,EAAE,EAAE,kCAAkC;MACtCC,KAAK,EAAEjE,GAAG,CAACkE,QAAQ,CAAC,oBAAoB,EAAE,kBAAkB,CAAC;MAC7DC,KAAK,EAAE,kBAAkB;MACzBC,YAAY,EAAEf,SAAS;MACvBgB,MAAM,EAAE;QACJC,MAAM,EAAEzE,iBAAiB,CAAC0E,eAAe;QACzCC,OAAO,EAAE,IAAI,CAAC,qBAAqB,GAAG,CAAC,mBAAmB,EAAE,CAAC;QAC7DC,GAAG,EAAE;UACDD,OAAO,EAAE,IAAI,CAAC,uBAAuB,GAAG,CAAC,uBAAuB,IAAI,CAAC,qBAAqB,EAAE,CAAC;UAC7FE,SAAS,EAAE,CAAC,GAAG,CAAC,uBAAuB,IAAI,CAAC,qBAAqB,EAAE,CAAC;QACxE,CAAC;;QACDC,MAAM,EAAE,GAAG,CAAC;MAChB,CAAC;;MACDC,QAAQ,EAAE;QACNC,MAAM,EAAE5E,MAAM,CAAC6E,oBAAoB;QACnCC,KAAK,EAAE,SAAS;QAChBC,KAAK,EAAEhF,GAAG,CAACkE,QAAQ,CAAC;UAAElH,GAAG,EAAE,mBAAmB;UAAEiI,OAAO,EAAE,CAAC,uBAAuB;QAAE,CAAC,EAAE,oBAAoB,CAAC;QAC3GC,KAAK,EAAE;MACX;IACJ,CAAC,CAAC;EACN;AACJ;AACA;AACAhF,gBAAgB,CAACiF,oBAAoB,CAAC,gCAAgC,EAAE,kCAAkC,CAAC;AAC3G,MAAMC,qBAAqB,SAAS1B,mBAAmB,CAAC;EACpDlD,WAAWA,CAAA,EAAG;IACV,KAAK,CAAC,KAAK,EAAE;MACTwD,EAAE,EAAE,kCAAkC;MACtCC,KAAK,EAAEjE,GAAG,CAACkE,QAAQ,CAAC,oBAAoB,EAAE,kBAAkB,CAAC;MAC7DC,KAAK,EAAE,kBAAkB;MACzBC,YAAY,EAAEf,SAAS;MACvBgB,MAAM,EAAE;QACJC,MAAM,EAAEzE,iBAAiB,CAAC0E,eAAe;QACzCC,OAAO,EAAE,IAAI,CAAC,qBAAqB,GAAG,CAAC,mBAAmB,EAAE,CAAC;QAC7DC,GAAG,EAAE;UACDD,OAAO,EAAE,IAAI,CAAC,uBAAuB,GAAG,CAAC,uBAAuB,IAAI,CAAC,qBAAqB,EAAE,CAAC;UAC7FE,SAAS,EAAE,CAAC,GAAG,CAAC,uBAAuB,IAAI,CAAC,qBAAqB,EAAE,CAAC;QACxE,CAAC;;QACDC,MAAM,EAAE,GAAG,CAAC;MAChB,CAAC;;MACDC,QAAQ,EAAE;QACNC,MAAM,EAAE5E,MAAM,CAAC6E,oBAAoB;QACnCC,KAAK,EAAE,SAAS;QAChBC,KAAK,EAAEhF,GAAG,CAACkE,QAAQ,CAAC;UAAElH,GAAG,EAAE,qBAAqB;UAAEiI,OAAO,EAAE,CAAC,uBAAuB;QAAE,CAAC,EAAE,oBAAoB,CAAC;QAC7GC,KAAK,EAAE;MACX;IACJ,CAAC,CAAC;EACN;AACJ;AACAzF,0BAA0B,CAACsB,qBAAqB,CAACI,EAAE,EAAEJ,qBAAqB,EAAE,CAAC,CAAC,0CAA0C,CAAC;AACzHvB,oBAAoB,CAACuE,mBAAmB,CAAC;AACzCvE,oBAAoB,CAAC4F,qBAAqB,CAAC;AAC3C,OAAO,SAASlD,sBAAsBA,CAACmD,QAAQ,EAAEtD,KAAK,EAAEuD,SAAS,EAAEC,OAAO,EAAEC,KAAK,EAAE;EAC/E,OAAOxH,SAAS,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,aAAa;IAChD,MAAMyH,SAAS,GAAGJ,QAAQ,CAACK,GAAG,CAAC3D,KAAK,CAAC,CAChC4D,MAAM,CAAC,IAAI5F,0BAA0B,CAACwF,OAAO,CAACK,cAAc,CAAC,CAAC,CAAC,CAAC;IACrE,IAAIH,SAAS,CAACrI,MAAM,KAAK,CAAC,EAAE;MACxB;MACAqI,SAAS,CAACtC,OAAO,CAAC,IAAIrD,6BAA6B,CAAC,CAAC,CAAC;IAC1D;IACA,MAAM+F,IAAI,GAAG,EAAE;IACf,MAAMC,YAAY,GAAG,EAAE;IACvB,KAAK,MAAMC,QAAQ,IAAIN,SAAS,EAAE;MAC9BI,IAAI,CAACG,IAAI,CAACxH,OAAO,CAACD,OAAO,CAACwH,QAAQ,CAAC7D,sBAAsB,CAACH,KAAK,EAAEuD,SAAS,EAAEE,KAAK,CAAC,CAAC,CAACvG,IAAI,CAACgH,iBAAiB,IAAI;QAC1G,IAAI7G,MAAM,CAACqD,eAAe,CAACwD,iBAAiB,CAAC,IAAIA,iBAAiB,CAAC7I,MAAM,KAAKkI,SAAS,CAAClI,MAAM,EAAE;UAC5F,KAAK,IAAIO,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG2H,SAAS,CAAClI,MAAM,EAAEO,CAAC,EAAE,EAAE;YACvC,IAAI,CAACmI,YAAY,CAACnI,CAAC,CAAC,EAAE;cAClBmI,YAAY,CAACnI,CAAC,CAAC,GAAG,EAAE;YACxB;YACA,KAAK,MAAMuI,iBAAiB,IAAID,iBAAiB,CAACtI,CAAC,CAAC,EAAE;cAClD,IAAIgC,KAAK,CAACwG,QAAQ,CAACD,iBAAiB,CAACnD,KAAK,CAAC,IAAIpD,KAAK,CAACqD,gBAAgB,CAACkD,iBAAiB,CAACnD,KAAK,EAAEuC,SAAS,CAAC3H,CAAC,CAAC,CAAC,EAAE;gBAC1GmI,YAAY,CAACnI,CAAC,CAAC,CAACqI,IAAI,CAACrG,KAAK,CAACyG,IAAI,CAACF,iBAAiB,CAACnD,KAAK,CAAC,CAAC;cAC7D;YACJ;UACJ;QACJ;MACJ,CAAC,EAAEzD,yBAAyB,CAAC,CAAC;IAClC;IACA,MAAMd,OAAO,CAACkH,GAAG,CAACG,IAAI,CAAC;IACvB,OAAOC,YAAY,CAAC1D,GAAG,CAACiE,YAAY,IAAI;MACpC,IAAIA,YAAY,CAACjJ,MAAM,KAAK,CAAC,EAAE;QAC3B,OAAO,EAAE;MACb;MACA;MACAiJ,YAAY,CAACC,IAAI,CAAC,CAAC3D,CAAC,EAAEC,CAAC,KAAK;QACxB,IAAIlD,QAAQ,CAAC6G,QAAQ,CAAC5D,CAAC,CAACM,gBAAgB,CAAC,CAAC,EAAEL,CAAC,CAACK,gBAAgB,CAAC,CAAC,CAAC,EAAE;UAC/D,OAAO,CAAC;QACZ,CAAC,MACI,IAAIvD,QAAQ,CAAC6G,QAAQ,CAAC3D,CAAC,CAACK,gBAAgB,CAAC,CAAC,EAAEN,CAAC,CAACM,gBAAgB,CAAC,CAAC,CAAC,EAAE;UACpE,OAAO,CAAC,CAAC;QACb,CAAC,MACI,IAAIvD,QAAQ,CAAC6G,QAAQ,CAAC5D,CAAC,CAACO,cAAc,CAAC,CAAC,EAAEN,CAAC,CAACM,cAAc,CAAC,CAAC,CAAC,EAAE;UAChE,OAAO,CAAC,CAAC;QACb,CAAC,MACI,IAAIxD,QAAQ,CAAC6G,QAAQ,CAAC3D,CAAC,CAACM,cAAc,CAAC,CAAC,EAAEP,CAAC,CAACO,cAAc,CAAC,CAAC,CAAC,EAAE;UAChE,OAAO,CAAC;QACZ,CAAC,MACI;UACD,OAAO,CAAC;QACZ;MACJ,CAAC,CAAC;MACF;MACA;MACA,MAAMsD,SAAS,GAAG,EAAE;MACpB,IAAIC,IAAI;MACR,KAAK,MAAM1D,KAAK,IAAIsD,YAAY,EAAE;QAC9B,IAAI,CAACI,IAAI,IAAK9G,KAAK,CAAC+G,aAAa,CAAC3D,KAAK,EAAE0D,IAAI,CAAC,IAAI,CAAC9G,KAAK,CAACmB,WAAW,CAACiC,KAAK,EAAE0D,IAAI,CAAE,EAAE;UAChFD,SAAS,CAACR,IAAI,CAACjD,KAAK,CAAC;UACrB0D,IAAI,GAAG1D,KAAK;QAChB;MACJ;MACA,IAAI,CAACwC,OAAO,CAACoB,kCAAkC,EAAE;QAC7C,OAAOH,SAAS;MACpB;MACA;MACA;MACA,MAAMI,mBAAmB,GAAG,CAACJ,SAAS,CAAC,CAAC,CAAC,CAAC;MAC1C,KAAK,IAAI7I,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG6I,SAAS,CAACpJ,MAAM,EAAEO,CAAC,EAAE,EAAE;QACvC,MAAMkJ,IAAI,GAAGL,SAAS,CAAC7I,CAAC,GAAG,CAAC,CAAC;QAC7B,MAAMmJ,GAAG,GAAGN,SAAS,CAAC7I,CAAC,CAAC;QACxB,IAAImJ,GAAG,CAACC,eAAe,KAAKF,IAAI,CAACE,eAAe,IAAID,GAAG,CAACE,aAAa,KAAKH,IAAI,CAACG,aAAa,EAAE;UAC1F;UACA,MAAMC,iBAAiB,GAAG,IAAItH,KAAK,CAACkH,IAAI,CAACE,eAAe,EAAEhF,KAAK,CAACmF,+BAA+B,CAACL,IAAI,CAACE,eAAe,CAAC,EAAEF,IAAI,CAACG,aAAa,EAAEjF,KAAK,CAACoF,8BAA8B,CAACN,IAAI,CAACG,aAAa,CAAC,CAAC;UACpM,IAAIC,iBAAiB,CAACP,aAAa,CAACG,IAAI,CAAC,IAAI,CAACI,iBAAiB,CAACnG,WAAW,CAAC+F,IAAI,CAAC,IAAIC,GAAG,CAACJ,aAAa,CAACO,iBAAiB,CAAC,IAAI,CAACH,GAAG,CAAChG,WAAW,CAACmG,iBAAiB,CAAC,EAAE;YAC9JL,mBAAmB,CAACZ,IAAI,CAACiB,iBAAiB,CAAC;UAC/C;UACA;UACA,MAAMG,SAAS,GAAG,IAAIzH,KAAK,CAACkH,IAAI,CAACE,eAAe,EAAE,CAAC,EAAEF,IAAI,CAACG,aAAa,EAAEjF,KAAK,CAACsF,gBAAgB,CAACR,IAAI,CAACG,aAAa,CAAC,CAAC;UACpH,IAAII,SAAS,CAACV,aAAa,CAACG,IAAI,CAAC,IAAI,CAACO,SAAS,CAACtG,WAAW,CAACmG,iBAAiB,CAAC,IAAIH,GAAG,CAACJ,aAAa,CAACU,SAAS,CAAC,IAAI,CAACN,GAAG,CAAChG,WAAW,CAACsG,SAAS,CAAC,EAAE;YAC3IR,mBAAmB,CAACZ,IAAI,CAACoB,SAAS,CAAC;UACvC;QACJ;QACAR,mBAAmB,CAACZ,IAAI,CAACc,GAAG,CAAC;MACjC;MACA,OAAOF,mBAAmB;IAC9B,CAAC,CAAC;EACN,CAAC,CAAC;AACN;AACA1G,gBAAgB,CAACoH,eAAe,CAAC,gCAAgC,EAAE,UAAUC,QAAQ,EAAE,GAAGC,IAAI,EAAE;EAC5F,OAAOxJ,SAAS,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,aAAa;IAChD,MAAM,CAACyJ,QAAQ,EAAEnC,SAAS,CAAC,GAAGkC,IAAI;IAClCnH,UAAU,CAACC,GAAG,CAACoH,KAAK,CAACD,QAAQ,CAAC,CAAC;IAC/B,MAAMpC,QAAQ,GAAGkC,QAAQ,CAACvG,GAAG,CAACb,wBAAwB,CAAC,CAACgC,sBAAsB;IAC9E,MAAMwF,SAAS,GAAG,MAAMJ,QAAQ,CAACvG,GAAG,CAACZ,iBAAiB,CAAC,CAACwH,oBAAoB,CAACH,QAAQ,CAAC;IACtF,IAAI;MACA,OAAOvF,sBAAsB,CAACmD,QAAQ,EAAEsC,SAAS,CAACE,MAAM,CAACC,eAAe,EAAExC,SAAS,EAAE;QAAEqB,kCAAkC,EAAE,IAAI;QAAEf,cAAc,EAAE;MAAK,CAAC,EAAEvG,iBAAiB,CAACmD,IAAI,CAAC;IACpL,CAAC,SACO;MACJmF,SAAS,CAACpG,OAAO,CAAC,CAAC;IACvB;EACJ,CAAC,CAAC;AACN,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}