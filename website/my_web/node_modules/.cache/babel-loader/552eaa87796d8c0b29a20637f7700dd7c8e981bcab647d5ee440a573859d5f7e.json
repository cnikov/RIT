{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = this && this.__param || function (paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar ColorDetector_1;\nimport { createCancelablePromise, TimeoutTimer } from '../../../../base/common/async.js';\nimport { RGBA } from '../../../../base/common/color.js';\nimport { onUnexpectedError } from '../../../../base/common/errors.js';\nimport { Emitter } from '../../../../base/common/event.js';\nimport { Disposable, DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { StopWatch } from '../../../../base/common/stopwatch.js';\nimport { noBreakWhitespace } from '../../../../base/common/strings.js';\nimport { DynamicCssRules } from '../../../browser/editorDom.js';\nimport { registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { Range } from '../../../common/core/range.js';\nimport { ModelDecorationOptions } from '../../../common/model/textModel.js';\nimport { ILanguageFeatureDebounceService } from '../../../common/services/languageFeatureDebounce.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { getColors } from './color.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nexport const ColorDecorationInjectedTextMarker = Object.create({});\nlet ColorDetector = ColorDetector_1 = class ColorDetector extends Disposable {\n  constructor(_editor, _configurationService, _languageFeaturesService, languageFeatureDebounceService) {\n    super();\n    this._editor = _editor;\n    this._configurationService = _configurationService;\n    this._languageFeaturesService = _languageFeaturesService;\n    this._localToDispose = this._register(new DisposableStore());\n    this._decorationsIds = [];\n    this._colorDatas = new Map();\n    this._colorDecoratorIds = this._editor.createDecorationsCollection();\n    this._ruleFactory = new DynamicCssRules(this._editor);\n    this._decoratorLimitReporter = new DecoratorLimitReporter();\n    this._colorDecorationClassRefs = this._register(new DisposableStore());\n    this._debounceInformation = languageFeatureDebounceService.for(_languageFeaturesService.colorProvider, 'Document Colors', {\n      min: ColorDetector_1.RECOMPUTE_TIME\n    });\n    this._register(_editor.onDidChangeModel(() => {\n      this._isColorDecoratorsEnabled = this.isEnabled();\n      this.updateColors();\n    }));\n    this._register(_editor.onDidChangeModelLanguage(() => this.updateColors()));\n    this._register(_languageFeaturesService.colorProvider.onDidChange(() => this.updateColors()));\n    this._register(_editor.onDidChangeConfiguration(e => {\n      const prevIsEnabled = this._isColorDecoratorsEnabled;\n      this._isColorDecoratorsEnabled = this.isEnabled();\n      this._isDefaultColorDecoratorsEnabled = this._editor.getOption(145 /* EditorOption.defaultColorDecorators */);\n      const updatedColorDecoratorsSetting = prevIsEnabled !== this._isColorDecoratorsEnabled || e.hasChanged(21 /* EditorOption.colorDecoratorsLimit */);\n      const updatedDefaultColorDecoratorsSetting = e.hasChanged(145 /* EditorOption.defaultColorDecorators */);\n      if (updatedColorDecoratorsSetting || updatedDefaultColorDecoratorsSetting) {\n        if (this._isColorDecoratorsEnabled) {\n          this.updateColors();\n        } else {\n          this.removeAllDecorations();\n        }\n      }\n    }));\n    this._timeoutTimer = null;\n    this._computePromise = null;\n    this._isColorDecoratorsEnabled = this.isEnabled();\n    this._isDefaultColorDecoratorsEnabled = this._editor.getOption(145 /* EditorOption.defaultColorDecorators */);\n    this.updateColors();\n  }\n  isEnabled() {\n    const model = this._editor.getModel();\n    if (!model) {\n      return false;\n    }\n    const languageId = model.getLanguageId();\n    // handle deprecated settings. [languageId].colorDecorators.enable\n    const deprecatedConfig = this._configurationService.getValue(languageId);\n    if (deprecatedConfig && typeof deprecatedConfig === 'object') {\n      const colorDecorators = deprecatedConfig['colorDecorators']; // deprecatedConfig.valueOf('.colorDecorators.enable');\n      if (colorDecorators && colorDecorators['enable'] !== undefined && !colorDecorators['enable']) {\n        return colorDecorators['enable'];\n      }\n    }\n    return this._editor.getOption(20 /* EditorOption.colorDecorators */);\n  }\n\n  static get(editor) {\n    return editor.getContribution(this.ID);\n  }\n  dispose() {\n    this.stop();\n    this.removeAllDecorations();\n    super.dispose();\n  }\n  updateColors() {\n    this.stop();\n    if (!this._isColorDecoratorsEnabled) {\n      return;\n    }\n    const model = this._editor.getModel();\n    if (!model || !this._languageFeaturesService.colorProvider.has(model)) {\n      return;\n    }\n    this._localToDispose.add(this._editor.onDidChangeModelContent(() => {\n      if (!this._timeoutTimer) {\n        this._timeoutTimer = new TimeoutTimer();\n        this._timeoutTimer.cancelAndSet(() => {\n          this._timeoutTimer = null;\n          this.beginCompute();\n        }, this._debounceInformation.get(model));\n      }\n    }));\n    this.beginCompute();\n  }\n  beginCompute() {\n    return __awaiter(this, void 0, void 0, function* () {\n      this._computePromise = createCancelablePromise(token => __awaiter(this, void 0, void 0, function* () {\n        const model = this._editor.getModel();\n        if (!model) {\n          return [];\n        }\n        const sw = new StopWatch(false);\n        const colors = yield getColors(this._languageFeaturesService.colorProvider, model, token, this._isDefaultColorDecoratorsEnabled);\n        this._debounceInformation.update(model, sw.elapsed());\n        return colors;\n      }));\n      try {\n        const colors = yield this._computePromise;\n        this.updateDecorations(colors);\n        this.updateColorDecorators(colors);\n        this._computePromise = null;\n      } catch (e) {\n        onUnexpectedError(e);\n      }\n    });\n  }\n  stop() {\n    if (this._timeoutTimer) {\n      this._timeoutTimer.cancel();\n      this._timeoutTimer = null;\n    }\n    if (this._computePromise) {\n      this._computePromise.cancel();\n      this._computePromise = null;\n    }\n    this._localToDispose.clear();\n  }\n  updateDecorations(colorDatas) {\n    const decorations = colorDatas.map(c => ({\n      range: {\n        startLineNumber: c.colorInfo.range.startLineNumber,\n        startColumn: c.colorInfo.range.startColumn,\n        endLineNumber: c.colorInfo.range.endLineNumber,\n        endColumn: c.colorInfo.range.endColumn\n      },\n      options: ModelDecorationOptions.EMPTY\n    }));\n    this._editor.changeDecorations(changeAccessor => {\n      this._decorationsIds = changeAccessor.deltaDecorations(this._decorationsIds, decorations);\n      this._colorDatas = new Map();\n      this._decorationsIds.forEach((id, i) => this._colorDatas.set(id, colorDatas[i]));\n    });\n  }\n  updateColorDecorators(colorData) {\n    this._colorDecorationClassRefs.clear();\n    const decorations = [];\n    const limit = this._editor.getOption(21 /* EditorOption.colorDecoratorsLimit */);\n    for (let i = 0; i < colorData.length && decorations.length < limit; i++) {\n      const {\n        red,\n        green,\n        blue,\n        alpha\n      } = colorData[i].colorInfo.color;\n      const rgba = new RGBA(Math.round(red * 255), Math.round(green * 255), Math.round(blue * 255), alpha);\n      const color = `rgba(${rgba.r}, ${rgba.g}, ${rgba.b}, ${rgba.a})`;\n      const ref = this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({\n        backgroundColor: color\n      }));\n      decorations.push({\n        range: {\n          startLineNumber: colorData[i].colorInfo.range.startLineNumber,\n          startColumn: colorData[i].colorInfo.range.startColumn,\n          endLineNumber: colorData[i].colorInfo.range.endLineNumber,\n          endColumn: colorData[i].colorInfo.range.endColumn\n        },\n        options: {\n          description: 'colorDetector',\n          before: {\n            content: noBreakWhitespace,\n            inlineClassName: `${ref.className} colorpicker-color-decoration`,\n            inlineClassNameAffectsLetterSpacing: true,\n            attachedData: ColorDecorationInjectedTextMarker\n          }\n        }\n      });\n    }\n    const limited = limit < colorData.length ? limit : false;\n    this._decoratorLimitReporter.update(colorData.length, limited);\n    this._colorDecoratorIds.set(decorations);\n  }\n  removeAllDecorations() {\n    this._editor.removeDecorations(this._decorationsIds);\n    this._decorationsIds = [];\n    this._colorDecoratorIds.clear();\n    this._colorDecorationClassRefs.clear();\n  }\n  getColorData(position) {\n    const model = this._editor.getModel();\n    if (!model) {\n      return null;\n    }\n    const decorations = model.getDecorationsInRange(Range.fromPositions(position, position)).filter(d => this._colorDatas.has(d.id));\n    if (decorations.length === 0) {\n      return null;\n    }\n    return this._colorDatas.get(decorations[0].id);\n  }\n  isColorDecoration(decoration) {\n    return this._colorDecoratorIds.has(decoration);\n  }\n};\nColorDetector.ID = 'editor.contrib.colorDetector';\nColorDetector.RECOMPUTE_TIME = 1000; // ms\nColorDetector = ColorDetector_1 = __decorate([__param(1, IConfigurationService), __param(2, ILanguageFeaturesService), __param(3, ILanguageFeatureDebounceService)], ColorDetector);\nexport { ColorDetector };\nexport class DecoratorLimitReporter {\n  constructor() {\n    this._onDidChange = new Emitter();\n    this._computed = 0;\n    this._limited = false;\n  }\n  update(computed, limited) {\n    if (computed !== this._computed || limited !== this._limited) {\n      this._computed = computed;\n      this._limited = limited;\n      this._onDidChange.fire();\n    }\n  }\n}\nregisterEditorContribution(ColorDetector.ID, ColorDetector, 1 /* EditorContributionInstantiation.AfterFirstRender */);","map":{"version":3,"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","ColorDetector_1","createCancelablePromise","TimeoutTimer","RGBA","onUnexpectedError","Emitter","Disposable","DisposableStore","StopWatch","noBreakWhitespace","DynamicCssRules","registerEditorContribution","Range","ModelDecorationOptions","ILanguageFeatureDebounceService","ILanguageFeaturesService","getColors","IConfigurationService","ColorDecorationInjectedTextMarker","create","ColorDetector","constructor","_editor","_configurationService","_languageFeaturesService","languageFeatureDebounceService","_localToDispose","_register","_decorationsIds","_colorDatas","Map","_colorDecoratorIds","createDecorationsCollection","_ruleFactory","_decoratorLimitReporter","DecoratorLimitReporter","_colorDecorationClassRefs","_debounceInformation","for","colorProvider","min","RECOMPUTE_TIME","onDidChangeModel","_isColorDecoratorsEnabled","isEnabled","updateColors","onDidChangeModelLanguage","onDidChange","onDidChangeConfiguration","prevIsEnabled","_isDefaultColorDecoratorsEnabled","getOption","updatedColorDecoratorsSetting","hasChanged","updatedDefaultColorDecoratorsSetting","removeAllDecorations","_timeoutTimer","_computePromise","model","getModel","languageId","getLanguageId","deprecatedConfig","getValue","colorDecorators","undefined","get","editor","getContribution","ID","dispose","stop","has","add","onDidChangeModelContent","cancelAndSet","beginCompute","token","sw","colors","update","elapsed","updateDecorations","updateColorDecorators","cancel","clear","colorDatas","decorations","map","range","startLineNumber","colorInfo","startColumn","endLineNumber","endColumn","options","EMPTY","changeDecorations","changeAccessor","deltaDecorations","forEach","id","set","colorData","limit","red","green","blue","alpha","color","rgba","Math","round","g","b","a","ref","createClassNameRef","backgroundColor","push","description","before","content","inlineClassName","className","inlineClassNameAffectsLetterSpacing","attachedData","limited","removeDecorations","getColorData","position","getDecorationsInRange","fromPositions","filter","isColorDecoration","decoration","_onDidChange","_computed","_limited","computed","fire"],"sources":["/home/chlohest/work/website/my_web/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/colorDetector.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar ColorDetector_1;\nimport { createCancelablePromise, TimeoutTimer } from '../../../../base/common/async.js';\nimport { RGBA } from '../../../../base/common/color.js';\nimport { onUnexpectedError } from '../../../../base/common/errors.js';\nimport { Emitter } from '../../../../base/common/event.js';\nimport { Disposable, DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { StopWatch } from '../../../../base/common/stopwatch.js';\nimport { noBreakWhitespace } from '../../../../base/common/strings.js';\nimport { DynamicCssRules } from '../../../browser/editorDom.js';\nimport { registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { Range } from '../../../common/core/range.js';\nimport { ModelDecorationOptions } from '../../../common/model/textModel.js';\nimport { ILanguageFeatureDebounceService } from '../../../common/services/languageFeatureDebounce.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { getColors } from './color.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nexport const ColorDecorationInjectedTextMarker = Object.create({});\nlet ColorDetector = ColorDetector_1 = class ColorDetector extends Disposable {\n    constructor(_editor, _configurationService, _languageFeaturesService, languageFeatureDebounceService) {\n        super();\n        this._editor = _editor;\n        this._configurationService = _configurationService;\n        this._languageFeaturesService = _languageFeaturesService;\n        this._localToDispose = this._register(new DisposableStore());\n        this._decorationsIds = [];\n        this._colorDatas = new Map();\n        this._colorDecoratorIds = this._editor.createDecorationsCollection();\n        this._ruleFactory = new DynamicCssRules(this._editor);\n        this._decoratorLimitReporter = new DecoratorLimitReporter();\n        this._colorDecorationClassRefs = this._register(new DisposableStore());\n        this._debounceInformation = languageFeatureDebounceService.for(_languageFeaturesService.colorProvider, 'Document Colors', { min: ColorDetector_1.RECOMPUTE_TIME });\n        this._register(_editor.onDidChangeModel(() => {\n            this._isColorDecoratorsEnabled = this.isEnabled();\n            this.updateColors();\n        }));\n        this._register(_editor.onDidChangeModelLanguage(() => this.updateColors()));\n        this._register(_languageFeaturesService.colorProvider.onDidChange(() => this.updateColors()));\n        this._register(_editor.onDidChangeConfiguration((e) => {\n            const prevIsEnabled = this._isColorDecoratorsEnabled;\n            this._isColorDecoratorsEnabled = this.isEnabled();\n            this._isDefaultColorDecoratorsEnabled = this._editor.getOption(145 /* EditorOption.defaultColorDecorators */);\n            const updatedColorDecoratorsSetting = prevIsEnabled !== this._isColorDecoratorsEnabled || e.hasChanged(21 /* EditorOption.colorDecoratorsLimit */);\n            const updatedDefaultColorDecoratorsSetting = e.hasChanged(145 /* EditorOption.defaultColorDecorators */);\n            if (updatedColorDecoratorsSetting || updatedDefaultColorDecoratorsSetting) {\n                if (this._isColorDecoratorsEnabled) {\n                    this.updateColors();\n                }\n                else {\n                    this.removeAllDecorations();\n                }\n            }\n        }));\n        this._timeoutTimer = null;\n        this._computePromise = null;\n        this._isColorDecoratorsEnabled = this.isEnabled();\n        this._isDefaultColorDecoratorsEnabled = this._editor.getOption(145 /* EditorOption.defaultColorDecorators */);\n        this.updateColors();\n    }\n    isEnabled() {\n        const model = this._editor.getModel();\n        if (!model) {\n            return false;\n        }\n        const languageId = model.getLanguageId();\n        // handle deprecated settings. [languageId].colorDecorators.enable\n        const deprecatedConfig = this._configurationService.getValue(languageId);\n        if (deprecatedConfig && typeof deprecatedConfig === 'object') {\n            const colorDecorators = deprecatedConfig['colorDecorators']; // deprecatedConfig.valueOf('.colorDecorators.enable');\n            if (colorDecorators && colorDecorators['enable'] !== undefined && !colorDecorators['enable']) {\n                return colorDecorators['enable'];\n            }\n        }\n        return this._editor.getOption(20 /* EditorOption.colorDecorators */);\n    }\n    static get(editor) {\n        return editor.getContribution(this.ID);\n    }\n    dispose() {\n        this.stop();\n        this.removeAllDecorations();\n        super.dispose();\n    }\n    updateColors() {\n        this.stop();\n        if (!this._isColorDecoratorsEnabled) {\n            return;\n        }\n        const model = this._editor.getModel();\n        if (!model || !this._languageFeaturesService.colorProvider.has(model)) {\n            return;\n        }\n        this._localToDispose.add(this._editor.onDidChangeModelContent(() => {\n            if (!this._timeoutTimer) {\n                this._timeoutTimer = new TimeoutTimer();\n                this._timeoutTimer.cancelAndSet(() => {\n                    this._timeoutTimer = null;\n                    this.beginCompute();\n                }, this._debounceInformation.get(model));\n            }\n        }));\n        this.beginCompute();\n    }\n    beginCompute() {\n        return __awaiter(this, void 0, void 0, function* () {\n            this._computePromise = createCancelablePromise((token) => __awaiter(this, void 0, void 0, function* () {\n                const model = this._editor.getModel();\n                if (!model) {\n                    return [];\n                }\n                const sw = new StopWatch(false);\n                const colors = yield getColors(this._languageFeaturesService.colorProvider, model, token, this._isDefaultColorDecoratorsEnabled);\n                this._debounceInformation.update(model, sw.elapsed());\n                return colors;\n            }));\n            try {\n                const colors = yield this._computePromise;\n                this.updateDecorations(colors);\n                this.updateColorDecorators(colors);\n                this._computePromise = null;\n            }\n            catch (e) {\n                onUnexpectedError(e);\n            }\n        });\n    }\n    stop() {\n        if (this._timeoutTimer) {\n            this._timeoutTimer.cancel();\n            this._timeoutTimer = null;\n        }\n        if (this._computePromise) {\n            this._computePromise.cancel();\n            this._computePromise = null;\n        }\n        this._localToDispose.clear();\n    }\n    updateDecorations(colorDatas) {\n        const decorations = colorDatas.map(c => ({\n            range: {\n                startLineNumber: c.colorInfo.range.startLineNumber,\n                startColumn: c.colorInfo.range.startColumn,\n                endLineNumber: c.colorInfo.range.endLineNumber,\n                endColumn: c.colorInfo.range.endColumn\n            },\n            options: ModelDecorationOptions.EMPTY\n        }));\n        this._editor.changeDecorations((changeAccessor) => {\n            this._decorationsIds = changeAccessor.deltaDecorations(this._decorationsIds, decorations);\n            this._colorDatas = new Map();\n            this._decorationsIds.forEach((id, i) => this._colorDatas.set(id, colorDatas[i]));\n        });\n    }\n    updateColorDecorators(colorData) {\n        this._colorDecorationClassRefs.clear();\n        const decorations = [];\n        const limit = this._editor.getOption(21 /* EditorOption.colorDecoratorsLimit */);\n        for (let i = 0; i < colorData.length && decorations.length < limit; i++) {\n            const { red, green, blue, alpha } = colorData[i].colorInfo.color;\n            const rgba = new RGBA(Math.round(red * 255), Math.round(green * 255), Math.round(blue * 255), alpha);\n            const color = `rgba(${rgba.r}, ${rgba.g}, ${rgba.b}, ${rgba.a})`;\n            const ref = this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({\n                backgroundColor: color\n            }));\n            decorations.push({\n                range: {\n                    startLineNumber: colorData[i].colorInfo.range.startLineNumber,\n                    startColumn: colorData[i].colorInfo.range.startColumn,\n                    endLineNumber: colorData[i].colorInfo.range.endLineNumber,\n                    endColumn: colorData[i].colorInfo.range.endColumn\n                },\n                options: {\n                    description: 'colorDetector',\n                    before: {\n                        content: noBreakWhitespace,\n                        inlineClassName: `${ref.className} colorpicker-color-decoration`,\n                        inlineClassNameAffectsLetterSpacing: true,\n                        attachedData: ColorDecorationInjectedTextMarker\n                    }\n                }\n            });\n        }\n        const limited = limit < colorData.length ? limit : false;\n        this._decoratorLimitReporter.update(colorData.length, limited);\n        this._colorDecoratorIds.set(decorations);\n    }\n    removeAllDecorations() {\n        this._editor.removeDecorations(this._decorationsIds);\n        this._decorationsIds = [];\n        this._colorDecoratorIds.clear();\n        this._colorDecorationClassRefs.clear();\n    }\n    getColorData(position) {\n        const model = this._editor.getModel();\n        if (!model) {\n            return null;\n        }\n        const decorations = model\n            .getDecorationsInRange(Range.fromPositions(position, position))\n            .filter(d => this._colorDatas.has(d.id));\n        if (decorations.length === 0) {\n            return null;\n        }\n        return this._colorDatas.get(decorations[0].id);\n    }\n    isColorDecoration(decoration) {\n        return this._colorDecoratorIds.has(decoration);\n    }\n};\nColorDetector.ID = 'editor.contrib.colorDetector';\nColorDetector.RECOMPUTE_TIME = 1000; // ms\nColorDetector = ColorDetector_1 = __decorate([\n    __param(1, IConfigurationService),\n    __param(2, ILanguageFeaturesService),\n    __param(3, ILanguageFeatureDebounceService)\n], ColorDetector);\nexport { ColorDetector };\nexport class DecoratorLimitReporter {\n    constructor() {\n        this._onDidChange = new Emitter();\n        this._computed = 0;\n        this._limited = false;\n    }\n    update(computed, limited) {\n        if (computed !== this._computed || limited !== this._limited) {\n            this._computed = computed;\n            this._limited = limited;\n            this._onDidChange.fire();\n        }\n    }\n}\nregisterEditorContribution(ColorDetector.ID, ColorDetector, 1 /* EditorContributionInstantiation.AfterFirstRender */);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}