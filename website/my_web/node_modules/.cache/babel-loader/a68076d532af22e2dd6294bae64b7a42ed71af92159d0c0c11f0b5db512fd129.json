{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = this && this.__param || function (paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nimport { addDisposableListener, addStandardDisposableListener, reset } from '../../../../base/browser/dom.js';\nimport { createTrustedTypesPolicy } from '../../../../base/browser/trustedTypes.js';\nimport { ActionBar } from '../../../../base/browser/ui/actionbar/actionbar.js';\nimport { DomScrollableElement } from '../../../../base/browser/ui/scrollbar/scrollableElement.js';\nimport { Action } from '../../../../base/common/actions.js';\nimport { forEachAdjacent, groupAdjacentBy } from '../../../../base/common/arrays.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { Disposable, toDisposable } from '../../../../base/common/lifecycle.js';\nimport { autorun, autorunWithStore, derived, derivedWithStore, recomputeInitiallyAndOnChange, observableValue, subtransaction, transaction } from '../../../../base/common/observable.js';\nimport { ThemeIcon } from '../../../../base/common/themables.js';\nimport { applyFontInfo } from '../../config/domFontInfo.js';\nimport { applyStyle } from './utils.js';\nimport { EditorFontLigatures } from '../../../common/config/editorOptions.js';\nimport { LineRange } from '../../../common/core/lineRange.js';\nimport { OffsetRange } from '../../../common/core/offsetRange.js';\nimport { Position } from '../../../common/core/position.js';\nimport { Range } from '../../../common/core/range.js';\nimport { LineRangeMapping } from '../../../common/diff/rangeMapping.js';\nimport { ILanguageService } from '../../../common/languages/language.js';\nimport { LineTokens } from '../../../common/tokens/lineTokens.js';\nimport { RenderLineInput, renderViewLine2 } from '../../../common/viewLayout/viewLineRenderer.js';\nimport { ViewLineRenderingData } from '../../../common/viewModel.js';\nimport { localize } from '../../../../nls.js';\nimport { AudioCue, IAudioCueService } from '../../../../platform/audioCues/browser/audioCueService.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { registerIcon } from '../../../../platform/theme/common/iconRegistry.js';\nimport './accessibleDiffViewer.css';\nconst accessibleDiffViewerInsertIcon = registerIcon('diff-review-insert', Codicon.add, localize('accessibleDiffViewerInsertIcon', 'Icon for \\'Insert\\' in accessible diff viewer.'));\nconst accessibleDiffViewerRemoveIcon = registerIcon('diff-review-remove', Codicon.remove, localize('accessibleDiffViewerRemoveIcon', 'Icon for \\'Remove\\' in accessible diff viewer.'));\nconst accessibleDiffViewerCloseIcon = registerIcon('diff-review-close', Codicon.close, localize('accessibleDiffViewerCloseIcon', 'Icon for \\'Close\\' in accessible diff viewer.'));\nlet AccessibleDiffViewer = class AccessibleDiffViewer extends Disposable {\n  constructor(_parentNode, _visible, _setVisible, _canClose, _width, _height, _diffs, _editors, _instantiationService) {\n    super();\n    this._parentNode = _parentNode;\n    this._visible = _visible;\n    this._setVisible = _setVisible;\n    this._canClose = _canClose;\n    this._width = _width;\n    this._height = _height;\n    this._diffs = _diffs;\n    this._editors = _editors;\n    this._instantiationService = _instantiationService;\n    this.model = derivedWithStore(this, (reader, store) => {\n      const visible = this._visible.read(reader);\n      this._parentNode.style.visibility = visible ? 'visible' : 'hidden';\n      if (!visible) {\n        return null;\n      }\n      const model = store.add(this._instantiationService.createInstance(ViewModel, this._diffs, this._editors, this._setVisible, this._canClose));\n      const view = store.add(this._instantiationService.createInstance(View, this._parentNode, model, this._width, this._height, this._editors));\n      return {\n        model,\n        view\n      };\n    });\n    this._register(recomputeInitiallyAndOnChange(this.model));\n  }\n  next() {\n    transaction(tx => {\n      const isVisible = this._visible.get();\n      this._setVisible(true, tx);\n      if (isVisible) {\n        this.model.get().model.nextGroup(tx);\n      }\n    });\n  }\n  prev() {\n    transaction(tx => {\n      this._setVisible(true, tx);\n      this.model.get().model.previousGroup(tx);\n    });\n  }\n  close() {\n    transaction(tx => {\n      this._setVisible(false, tx);\n    });\n  }\n};\nAccessibleDiffViewer._ttPolicy = createTrustedTypesPolicy('diffReview', {\n  createHTML: value => value\n});\nAccessibleDiffViewer = __decorate([__param(8, IInstantiationService)], AccessibleDiffViewer);\nexport { AccessibleDiffViewer };\nlet ViewModel = class ViewModel extends Disposable {\n  constructor(_diffs, _editors, _setVisible, canClose, _audioCueService) {\n    super();\n    this._diffs = _diffs;\n    this._editors = _editors;\n    this._setVisible = _setVisible;\n    this.canClose = canClose;\n    this._audioCueService = _audioCueService;\n    this._groups = observableValue(this, []);\n    this._currentGroupIdx = observableValue(this, 0);\n    this._currentElementIdx = observableValue(this, 0);\n    this.groups = this._groups;\n    this.currentGroup = this._currentGroupIdx.map((idx, r) => this._groups.read(r)[idx]);\n    this.currentGroupIndex = this._currentGroupIdx;\n    this.currentElement = this._currentElementIdx.map((idx, r) => {\n      var _a;\n      return (_a = this.currentGroup.read(r)) === null || _a === void 0 ? void 0 : _a.lines[idx];\n    });\n    this._register(autorun(reader => {\n      /** @description update groups */\n      const diffs = this._diffs.read(reader);\n      if (!diffs) {\n        this._groups.set([], undefined);\n        return;\n      }\n      const groups = computeViewElementGroups(diffs, this._editors.original.getModel().getLineCount(), this._editors.modified.getModel().getLineCount());\n      transaction(tx => {\n        const p = this._editors.modified.getPosition();\n        if (p) {\n          const nextGroup = groups.findIndex(g => (p === null || p === void 0 ? void 0 : p.lineNumber) < g.range.modified.endLineNumberExclusive);\n          if (nextGroup !== -1) {\n            this._currentGroupIdx.set(nextGroup, tx);\n          }\n        }\n        this._groups.set(groups, tx);\n      });\n    }));\n    this._register(autorun(reader => {\n      /** @description play audio-cue for diff */\n      const currentViewItem = this.currentElement.read(reader);\n      if ((currentViewItem === null || currentViewItem === void 0 ? void 0 : currentViewItem.type) === LineType.Deleted) {\n        this._audioCueService.playAudioCue(AudioCue.diffLineDeleted, {\n          source: 'accessibleDiffViewer.currentElementChanged'\n        });\n      } else if ((currentViewItem === null || currentViewItem === void 0 ? void 0 : currentViewItem.type) === LineType.Added) {\n        this._audioCueService.playAudioCue(AudioCue.diffLineInserted, {\n          source: 'accessibleDiffViewer.currentElementChanged'\n        });\n      }\n    }));\n    this._register(autorun(reader => {\n      var _a;\n      /** @description select lines in editor */\n      // This ensures editor commands (like revert/stage) work\n      const currentViewItem = this.currentElement.read(reader);\n      if (currentViewItem && currentViewItem.type !== LineType.Header) {\n        const lineNumber = (_a = currentViewItem.modifiedLineNumber) !== null && _a !== void 0 ? _a : currentViewItem.diff.modified.startLineNumber;\n        this._editors.modified.setSelection(Range.fromPositions(new Position(lineNumber, 1)));\n      }\n    }));\n  }\n  _goToGroupDelta(delta, tx) {\n    const groups = this.groups.get();\n    if (!groups || groups.length <= 1) {\n      return;\n    }\n    subtransaction(tx, tx => {\n      this._currentGroupIdx.set(OffsetRange.ofLength(groups.length).clipCyclic(this._currentGroupIdx.get() + delta), tx);\n      this._currentElementIdx.set(0, tx);\n    });\n  }\n  nextGroup(tx) {\n    this._goToGroupDelta(1, tx);\n  }\n  previousGroup(tx) {\n    this._goToGroupDelta(-1, tx);\n  }\n  _goToLineDelta(delta) {\n    const group = this.currentGroup.get();\n    if (!group || group.lines.length <= 1) {\n      return;\n    }\n    transaction(tx => {\n      this._currentElementIdx.set(OffsetRange.ofLength(group.lines.length).clip(this._currentElementIdx.get() + delta), tx);\n    });\n  }\n  goToNextLine() {\n    this._goToLineDelta(1);\n  }\n  goToPreviousLine() {\n    this._goToLineDelta(-1);\n  }\n  goToLine(line) {\n    const group = this.currentGroup.get();\n    if (!group) {\n      return;\n    }\n    const idx = group.lines.indexOf(line);\n    if (idx === -1) {\n      return;\n    }\n    transaction(tx => {\n      this._currentElementIdx.set(idx, tx);\n    });\n  }\n  revealCurrentElementInEditor() {\n    this._setVisible(false, undefined);\n    const curElem = this.currentElement.get();\n    if (curElem) {\n      if (curElem.type === LineType.Deleted) {\n        this._editors.original.setSelection(Range.fromPositions(new Position(curElem.originalLineNumber, 1)));\n        this._editors.original.revealLine(curElem.originalLineNumber);\n        this._editors.original.focus();\n      } else {\n        if (curElem.type !== LineType.Header) {\n          this._editors.modified.setSelection(Range.fromPositions(new Position(curElem.modifiedLineNumber, 1)));\n          this._editors.modified.revealLine(curElem.modifiedLineNumber);\n        }\n        this._editors.modified.focus();\n      }\n    }\n  }\n  close() {\n    this._setVisible(false, undefined);\n    this._editors.modified.focus();\n  }\n};\nViewModel = __decorate([__param(4, IAudioCueService)], ViewModel);\nconst viewElementGroupLineMargin = 3;\nfunction computeViewElementGroups(diffs, originalLineCount, modifiedLineCount) {\n  const result = [];\n  for (const g of groupAdjacentBy(diffs, (a, b) => b.modified.startLineNumber - a.modified.endLineNumberExclusive < 2 * viewElementGroupLineMargin)) {\n    const viewElements = [];\n    viewElements.push(new HeaderViewElement());\n    const origFullRange = new LineRange(Math.max(1, g[0].original.startLineNumber - viewElementGroupLineMargin), Math.min(g[g.length - 1].original.endLineNumberExclusive + viewElementGroupLineMargin, originalLineCount + 1));\n    const modifiedFullRange = new LineRange(Math.max(1, g[0].modified.startLineNumber - viewElementGroupLineMargin), Math.min(g[g.length - 1].modified.endLineNumberExclusive + viewElementGroupLineMargin, modifiedLineCount + 1));\n    forEachAdjacent(g, (a, b) => {\n      const origRange = new LineRange(a ? a.original.endLineNumberExclusive : origFullRange.startLineNumber, b ? b.original.startLineNumber : origFullRange.endLineNumberExclusive);\n      const modifiedRange = new LineRange(a ? a.modified.endLineNumberExclusive : modifiedFullRange.startLineNumber, b ? b.modified.startLineNumber : modifiedFullRange.endLineNumberExclusive);\n      origRange.forEach(origLineNumber => {\n        viewElements.push(new UnchangedLineViewElement(origLineNumber, modifiedRange.startLineNumber + (origLineNumber - origRange.startLineNumber)));\n      });\n      if (b) {\n        b.original.forEach(origLineNumber => {\n          viewElements.push(new DeletedLineViewElement(b, origLineNumber));\n        });\n        b.modified.forEach(modifiedLineNumber => {\n          viewElements.push(new AddedLineViewElement(b, modifiedLineNumber));\n        });\n      }\n    });\n    const modifiedRange = g[0].modified.join(g[g.length - 1].modified);\n    const originalRange = g[0].original.join(g[g.length - 1].original);\n    result.push(new ViewElementGroup(new LineRangeMapping(modifiedRange, originalRange), viewElements));\n  }\n  return result;\n}\nvar LineType;\n(function (LineType) {\n  LineType[LineType[\"Header\"] = 0] = \"Header\";\n  LineType[LineType[\"Unchanged\"] = 1] = \"Unchanged\";\n  LineType[LineType[\"Deleted\"] = 2] = \"Deleted\";\n  LineType[LineType[\"Added\"] = 3] = \"Added\";\n})(LineType || (LineType = {}));\nclass ViewElementGroup {\n  constructor(range, lines) {\n    this.range = range;\n    this.lines = lines;\n  }\n}\nclass HeaderViewElement {\n  constructor() {\n    this.type = LineType.Header;\n  }\n}\nclass DeletedLineViewElement {\n  constructor(diff, originalLineNumber) {\n    this.diff = diff;\n    this.originalLineNumber = originalLineNumber;\n    this.type = LineType.Deleted;\n    this.modifiedLineNumber = undefined;\n  }\n}\nclass AddedLineViewElement {\n  constructor(diff, modifiedLineNumber) {\n    this.diff = diff;\n    this.modifiedLineNumber = modifiedLineNumber;\n    this.type = LineType.Added;\n    this.originalLineNumber = undefined;\n  }\n}\nclass UnchangedLineViewElement {\n  constructor(originalLineNumber, modifiedLineNumber) {\n    this.originalLineNumber = originalLineNumber;\n    this.modifiedLineNumber = modifiedLineNumber;\n    this.type = LineType.Unchanged;\n  }\n}\nlet View = class View extends Disposable {\n  constructor(_element, _model, _width, _height, _editors, _languageService) {\n    super();\n    this._element = _element;\n    this._model = _model;\n    this._width = _width;\n    this._height = _height;\n    this._editors = _editors;\n    this._languageService = _languageService;\n    this.domNode = this._element;\n    this.domNode.className = 'diff-review monaco-editor-background';\n    const actionBarContainer = document.createElement('div');\n    actionBarContainer.className = 'diff-review-actions';\n    this._actionBar = this._register(new ActionBar(actionBarContainer));\n    this._register(autorun(reader => {\n      /** @description update actions */\n      this._actionBar.clear();\n      if (this._model.canClose.read(reader)) {\n        this._actionBar.push(new Action('diffreview.close', localize('label.close', \"Close\"), 'close-diff-review ' + ThemeIcon.asClassName(accessibleDiffViewerCloseIcon), true, () => __awaiter(this, void 0, void 0, function* () {\n          return _model.close();\n        })), {\n          label: false,\n          icon: true\n        });\n      }\n    }));\n    this._content = document.createElement('div');\n    this._content.className = 'diff-review-content';\n    this._content.setAttribute('role', 'code');\n    this._scrollbar = this._register(new DomScrollableElement(this._content, {}));\n    reset(this.domNode, this._scrollbar.getDomNode(), actionBarContainer);\n    this._register(toDisposable(() => {\n      reset(this.domNode);\n    }));\n    this._register(applyStyle(this.domNode, {\n      width: this._width,\n      height: this._height\n    }));\n    this._register(applyStyle(this._content, {\n      width: this._width,\n      height: this._height\n    }));\n    this._register(autorunWithStore((reader, store) => {\n      /** @description render */\n      this._model.currentGroup.read(reader);\n      this._render(store);\n    }));\n    // TODO@hediet use commands\n    this._register(addStandardDisposableListener(this.domNode, 'keydown', e => {\n      if (e.equals(18 /* KeyCode.DownArrow */) || e.equals(2048 /* KeyMod.CtrlCmd */ | 18 /* KeyCode.DownArrow */) || e.equals(512 /* KeyMod.Alt */ | 18 /* KeyCode.DownArrow */)) {\n        e.preventDefault();\n        this._model.goToNextLine();\n      }\n      if (e.equals(16 /* KeyCode.UpArrow */) || e.equals(2048 /* KeyMod.CtrlCmd */ | 16 /* KeyCode.UpArrow */) || e.equals(512 /* KeyMod.Alt */ | 16 /* KeyCode.UpArrow */)) {\n        e.preventDefault();\n        this._model.goToPreviousLine();\n      }\n      if (e.equals(9 /* KeyCode.Escape */) || e.equals(2048 /* KeyMod.CtrlCmd */ | 9 /* KeyCode.Escape */) || e.equals(512 /* KeyMod.Alt */ | 9 /* KeyCode.Escape */) || e.equals(1024 /* KeyMod.Shift */ | 9 /* KeyCode.Escape */)) {\n        e.preventDefault();\n        this._model.close();\n      }\n      if (e.equals(10 /* KeyCode.Space */) || e.equals(3 /* KeyCode.Enter */)) {\n        e.preventDefault();\n        this._model.revealCurrentElementInEditor();\n      }\n    }));\n  }\n  _render(store) {\n    const originalOptions = this._editors.original.getOptions();\n    const modifiedOptions = this._editors.modified.getOptions();\n    const container = document.createElement('div');\n    container.className = 'diff-review-table';\n    container.setAttribute('role', 'list');\n    container.setAttribute('aria-label', localize('ariaLabel', 'Accessible Diff Viewer. Use arrow up and down to navigate.'));\n    applyFontInfo(container, modifiedOptions.get(50 /* EditorOption.fontInfo */));\n    reset(this._content, container);\n    const originalModel = this._editors.original.getModel();\n    const modifiedModel = this._editors.modified.getModel();\n    if (!originalModel || !modifiedModel) {\n      return;\n    }\n    const originalModelOpts = originalModel.getOptions();\n    const modifiedModelOpts = modifiedModel.getOptions();\n    const lineHeight = modifiedOptions.get(66 /* EditorOption.lineHeight */);\n    const group = this._model.currentGroup.get();\n    for (const viewItem of (group === null || group === void 0 ? void 0 : group.lines) || []) {\n      if (!group) {\n        break;\n      }\n      let row;\n      if (viewItem.type === LineType.Header) {\n        const header = document.createElement('div');\n        header.className = 'diff-review-row';\n        header.setAttribute('role', 'listitem');\n        const r = group.range;\n        const diffIndex = this._model.currentGroupIndex.get();\n        const diffsLength = this._model.groups.get().length;\n        const getAriaLines = lines => lines === 0 ? localize('no_lines_changed', \"no lines changed\") : lines === 1 ? localize('one_line_changed', \"1 line changed\") : localize('more_lines_changed', \"{0} lines changed\", lines);\n        const originalChangedLinesCntAria = getAriaLines(r.original.length);\n        const modifiedChangedLinesCntAria = getAriaLines(r.modified.length);\n        header.setAttribute('aria-label', localize({\n          key: 'header',\n          comment: ['This is the ARIA label for a git diff header.', 'A git diff header looks like this: @@ -154,12 +159,39 @@.', 'That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.', 'Variables 0 and 1 refer to the diff index out of total number of diffs.', 'Variables 2 and 4 will be numbers (a line number).', 'Variables 3 and 5 will be \"no lines changed\", \"1 line changed\" or \"X lines changed\", localized separately.']\n        }, \"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}\", diffIndex + 1, diffsLength, r.original.startLineNumber, originalChangedLinesCntAria, r.modified.startLineNumber, modifiedChangedLinesCntAria));\n        const cell = document.createElement('div');\n        cell.className = 'diff-review-cell diff-review-summary';\n        // e.g.: `1/10: @@ -504,7 +517,7 @@`\n        cell.appendChild(document.createTextNode(`${diffIndex + 1}/${diffsLength}: @@ -${r.original.startLineNumber},${r.original.length} +${r.modified.startLineNumber},${r.modified.length} @@`));\n        header.appendChild(cell);\n        row = header;\n      } else {\n        row = this._createRow(viewItem, lineHeight, this._width.get(), originalOptions, originalModel, originalModelOpts, modifiedOptions, modifiedModel, modifiedModelOpts);\n      }\n      container.appendChild(row);\n      const isSelectedObs = derived(reader => /** @description isSelected */this._model.currentElement.read(reader) === viewItem);\n      store.add(autorun(reader => {\n        /** @description update tab index */\n        const isSelected = isSelectedObs.read(reader);\n        row.tabIndex = isSelected ? 0 : -1;\n        if (isSelected) {\n          row.focus();\n        }\n      }));\n      store.add(addDisposableListener(row, 'focus', () => {\n        this._model.goToLine(viewItem);\n      }));\n    }\n    this._scrollbar.scanDomNode();\n  }\n  _createRow(item, lineHeight, width, originalOptions, originalModel, originalModelOpts, modifiedOptions, modifiedModel, modifiedModelOpts) {\n    const originalLayoutInfo = originalOptions.get(143 /* EditorOption.layoutInfo */);\n    const originalLineNumbersWidth = originalLayoutInfo.glyphMarginWidth + originalLayoutInfo.lineNumbersWidth;\n    const modifiedLayoutInfo = modifiedOptions.get(143 /* EditorOption.layoutInfo */);\n    const modifiedLineNumbersWidth = 10 + modifiedLayoutInfo.glyphMarginWidth + modifiedLayoutInfo.lineNumbersWidth;\n    let rowClassName = 'diff-review-row';\n    let lineNumbersExtraClassName = '';\n    const spacerClassName = 'diff-review-spacer';\n    let spacerIcon = null;\n    switch (item.type) {\n      case LineType.Added:\n        rowClassName = 'diff-review-row line-insert';\n        lineNumbersExtraClassName = ' char-insert';\n        spacerIcon = accessibleDiffViewerInsertIcon;\n        break;\n      case LineType.Deleted:\n        rowClassName = 'diff-review-row line-delete';\n        lineNumbersExtraClassName = ' char-delete';\n        spacerIcon = accessibleDiffViewerRemoveIcon;\n        break;\n    }\n    const row = document.createElement('div');\n    row.style.minWidth = width + 'px';\n    row.className = rowClassName;\n    row.setAttribute('role', 'listitem');\n    row.ariaLevel = '';\n    const cell = document.createElement('div');\n    cell.className = 'diff-review-cell';\n    cell.style.height = `${lineHeight}px`;\n    row.appendChild(cell);\n    const originalLineNumber = document.createElement('span');\n    originalLineNumber.style.width = originalLineNumbersWidth + 'px';\n    originalLineNumber.style.minWidth = originalLineNumbersWidth + 'px';\n    originalLineNumber.className = 'diff-review-line-number' + lineNumbersExtraClassName;\n    if (item.originalLineNumber !== undefined) {\n      originalLineNumber.appendChild(document.createTextNode(String(item.originalLineNumber)));\n    } else {\n      originalLineNumber.innerText = '\\u00a0';\n    }\n    cell.appendChild(originalLineNumber);\n    const modifiedLineNumber = document.createElement('span');\n    modifiedLineNumber.style.width = modifiedLineNumbersWidth + 'px';\n    modifiedLineNumber.style.minWidth = modifiedLineNumbersWidth + 'px';\n    modifiedLineNumber.style.paddingRight = '10px';\n    modifiedLineNumber.className = 'diff-review-line-number' + lineNumbersExtraClassName;\n    if (item.modifiedLineNumber !== undefined) {\n      modifiedLineNumber.appendChild(document.createTextNode(String(item.modifiedLineNumber)));\n    } else {\n      modifiedLineNumber.innerText = '\\u00a0';\n    }\n    cell.appendChild(modifiedLineNumber);\n    const spacer = document.createElement('span');\n    spacer.className = spacerClassName;\n    if (spacerIcon) {\n      const spacerCodicon = document.createElement('span');\n      spacerCodicon.className = ThemeIcon.asClassName(spacerIcon);\n      spacerCodicon.innerText = '\\u00a0\\u00a0';\n      spacer.appendChild(spacerCodicon);\n    } else {\n      spacer.innerText = '\\u00a0\\u00a0';\n    }\n    cell.appendChild(spacer);\n    let lineContent;\n    if (item.modifiedLineNumber !== undefined) {\n      let html = this._getLineHtml(modifiedModel, modifiedOptions, modifiedModelOpts.tabSize, item.modifiedLineNumber, this._languageService.languageIdCodec);\n      if (AccessibleDiffViewer._ttPolicy) {\n        html = AccessibleDiffViewer._ttPolicy.createHTML(html);\n      }\n      cell.insertAdjacentHTML('beforeend', html);\n      lineContent = modifiedModel.getLineContent(item.modifiedLineNumber);\n    } else {\n      let html = this._getLineHtml(originalModel, originalOptions, originalModelOpts.tabSize, item.originalLineNumber, this._languageService.languageIdCodec);\n      if (AccessibleDiffViewer._ttPolicy) {\n        html = AccessibleDiffViewer._ttPolicy.createHTML(html);\n      }\n      cell.insertAdjacentHTML('beforeend', html);\n      lineContent = originalModel.getLineContent(item.originalLineNumber);\n    }\n    if (lineContent.length === 0) {\n      lineContent = localize('blankLine', \"blank\");\n    }\n    let ariaLabel = '';\n    switch (item.type) {\n      case LineType.Unchanged:\n        if (item.originalLineNumber === item.modifiedLineNumber) {\n          ariaLabel = localize({\n            key: 'unchangedLine',\n            comment: ['The placeholders are contents of the line and should not be translated.']\n          }, \"{0} unchanged line {1}\", lineContent, item.originalLineNumber);\n        } else {\n          ariaLabel = localize('equalLine', \"{0} original line {1} modified line {2}\", lineContent, item.originalLineNumber, item.modifiedLineNumber);\n        }\n        break;\n      case LineType.Added:\n        ariaLabel = localize('insertLine', \"+ {0} modified line {1}\", lineContent, item.modifiedLineNumber);\n        break;\n      case LineType.Deleted:\n        ariaLabel = localize('deleteLine', \"- {0} original line {1}\", lineContent, item.originalLineNumber);\n        break;\n    }\n    row.setAttribute('aria-label', ariaLabel);\n    return row;\n  }\n  _getLineHtml(model, options, tabSize, lineNumber, languageIdCodec) {\n    const lineContent = model.getLineContent(lineNumber);\n    const fontInfo = options.get(50 /* EditorOption.fontInfo */);\n    const lineTokens = LineTokens.createEmpty(lineContent, languageIdCodec);\n    const isBasicASCII = ViewLineRenderingData.isBasicASCII(lineContent, model.mightContainNonBasicASCII());\n    const containsRTL = ViewLineRenderingData.containsRTL(lineContent, isBasicASCII, model.mightContainRTL());\n    const r = renderViewLine2(new RenderLineInput(fontInfo.isMonospace && !options.get(33 /* EditorOption.disableMonospaceOptimizations */), fontInfo.canUseHalfwidthRightwardsArrow, lineContent, false, isBasicASCII, containsRTL, 0, lineTokens, [], tabSize, 0, fontInfo.spaceWidth, fontInfo.middotWidth, fontInfo.wsmiddotWidth, options.get(116 /* EditorOption.stopRenderingLineAfter */), options.get(98 /* EditorOption.renderWhitespace */), options.get(93 /* EditorOption.renderControlCharacters */), options.get(51 /* EditorOption.fontLigatures */) !== EditorFontLigatures.OFF, null));\n    return r.html;\n  }\n};\nView = __decorate([__param(5, ILanguageService)], View);","map":{"version":3,"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","addDisposableListener","addStandardDisposableListener","reset","createTrustedTypesPolicy","ActionBar","DomScrollableElement","Action","forEachAdjacent","groupAdjacentBy","Codicon","Disposable","toDisposable","autorun","autorunWithStore","derived","derivedWithStore","recomputeInitiallyAndOnChange","observableValue","subtransaction","transaction","ThemeIcon","applyFontInfo","applyStyle","EditorFontLigatures","LineRange","OffsetRange","Position","Range","LineRangeMapping","ILanguageService","LineTokens","RenderLineInput","renderViewLine2","ViewLineRenderingData","localize","AudioCue","IAudioCueService","IInstantiationService","registerIcon","accessibleDiffViewerInsertIcon","add","accessibleDiffViewerRemoveIcon","remove","accessibleDiffViewerCloseIcon","close","AccessibleDiffViewer","constructor","_parentNode","_visible","_setVisible","_canClose","_width","_height","_diffs","_editors","_instantiationService","model","reader","store","visible","read","style","visibility","createInstance","ViewModel","view","View","_register","tx","isVisible","get","nextGroup","prev","previousGroup","_ttPolicy","createHTML","canClose","_audioCueService","_groups","_currentGroupIdx","_currentElementIdx","groups","currentGroup","map","idx","currentGroupIndex","currentElement","_a","lines","diffs","set","undefined","computeViewElementGroups","original","getModel","getLineCount","modified","p","getPosition","findIndex","g","lineNumber","range","endLineNumberExclusive","currentViewItem","type","LineType","Deleted","playAudioCue","diffLineDeleted","source","Added","diffLineInserted","Header","modifiedLineNumber","diff","startLineNumber","setSelection","fromPositions","_goToGroupDelta","delta","ofLength","clipCyclic","_goToLineDelta","group","clip","goToNextLine","goToPreviousLine","goToLine","line","indexOf","revealCurrentElementInEditor","curElem","originalLineNumber","revealLine","focus","viewElementGroupLineMargin","originalLineCount","modifiedLineCount","a","b","viewElements","push","HeaderViewElement","origFullRange","Math","max","min","modifiedFullRange","origRange","modifiedRange","forEach","origLineNumber","UnchangedLineViewElement","DeletedLineViewElement","AddedLineViewElement","join","originalRange","ViewElementGroup","Unchanged","_element","_model","_languageService","domNode","className","actionBarContainer","document","createElement","_actionBar","clear","asClassName","label","icon","_content","setAttribute","_scrollbar","getDomNode","width","height","_render","equals","preventDefault","originalOptions","getOptions","modifiedOptions","container","originalModel","modifiedModel","originalModelOpts","modifiedModelOpts","lineHeight","viewItem","row","header","diffIndex","diffsLength","getAriaLines","originalChangedLinesCntAria","modifiedChangedLinesCntAria","comment","cell","appendChild","createTextNode","_createRow","isSelectedObs","isSelected","tabIndex","scanDomNode","item","originalLayoutInfo","originalLineNumbersWidth","glyphMarginWidth","lineNumbersWidth","modifiedLayoutInfo","modifiedLineNumbersWidth","rowClassName","lineNumbersExtraClassName","spacerClassName","spacerIcon","minWidth","ariaLevel","String","innerText","paddingRight","spacer","spacerCodicon","lineContent","html","_getLineHtml","tabSize","languageIdCodec","insertAdjacentHTML","getLineContent","ariaLabel","options","fontInfo","lineTokens","createEmpty","isBasicASCII","mightContainNonBasicASCII","containsRTL","mightContainRTL","isMonospace","canUseHalfwidthRightwardsArrow","spaceWidth","middotWidth","wsmiddotWidth","OFF"],"sources":["/home/chlohest/work/website/my_web/node_modules/monaco-editor/esm/vs/editor/browser/widget/diffEditor/accessibleDiffViewer.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { addDisposableListener, addStandardDisposableListener, reset } from '../../../../base/browser/dom.js';\nimport { createTrustedTypesPolicy } from '../../../../base/browser/trustedTypes.js';\nimport { ActionBar } from '../../../../base/browser/ui/actionbar/actionbar.js';\nimport { DomScrollableElement } from '../../../../base/browser/ui/scrollbar/scrollableElement.js';\nimport { Action } from '../../../../base/common/actions.js';\nimport { forEachAdjacent, groupAdjacentBy } from '../../../../base/common/arrays.js';\nimport { Codicon } from '../../../../base/common/codicons.js';\nimport { Disposable, toDisposable } from '../../../../base/common/lifecycle.js';\nimport { autorun, autorunWithStore, derived, derivedWithStore, recomputeInitiallyAndOnChange, observableValue, subtransaction, transaction } from '../../../../base/common/observable.js';\nimport { ThemeIcon } from '../../../../base/common/themables.js';\nimport { applyFontInfo } from '../../config/domFontInfo.js';\nimport { applyStyle } from './utils.js';\nimport { EditorFontLigatures } from '../../../common/config/editorOptions.js';\nimport { LineRange } from '../../../common/core/lineRange.js';\nimport { OffsetRange } from '../../../common/core/offsetRange.js';\nimport { Position } from '../../../common/core/position.js';\nimport { Range } from '../../../common/core/range.js';\nimport { LineRangeMapping } from '../../../common/diff/rangeMapping.js';\nimport { ILanguageService } from '../../../common/languages/language.js';\nimport { LineTokens } from '../../../common/tokens/lineTokens.js';\nimport { RenderLineInput, renderViewLine2 } from '../../../common/viewLayout/viewLineRenderer.js';\nimport { ViewLineRenderingData } from '../../../common/viewModel.js';\nimport { localize } from '../../../../nls.js';\nimport { AudioCue, IAudioCueService } from '../../../../platform/audioCues/browser/audioCueService.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { registerIcon } from '../../../../platform/theme/common/iconRegistry.js';\nimport './accessibleDiffViewer.css';\nconst accessibleDiffViewerInsertIcon = registerIcon('diff-review-insert', Codicon.add, localize('accessibleDiffViewerInsertIcon', 'Icon for \\'Insert\\' in accessible diff viewer.'));\nconst accessibleDiffViewerRemoveIcon = registerIcon('diff-review-remove', Codicon.remove, localize('accessibleDiffViewerRemoveIcon', 'Icon for \\'Remove\\' in accessible diff viewer.'));\nconst accessibleDiffViewerCloseIcon = registerIcon('diff-review-close', Codicon.close, localize('accessibleDiffViewerCloseIcon', 'Icon for \\'Close\\' in accessible diff viewer.'));\nlet AccessibleDiffViewer = class AccessibleDiffViewer extends Disposable {\n    constructor(_parentNode, _visible, _setVisible, _canClose, _width, _height, _diffs, _editors, _instantiationService) {\n        super();\n        this._parentNode = _parentNode;\n        this._visible = _visible;\n        this._setVisible = _setVisible;\n        this._canClose = _canClose;\n        this._width = _width;\n        this._height = _height;\n        this._diffs = _diffs;\n        this._editors = _editors;\n        this._instantiationService = _instantiationService;\n        this.model = derivedWithStore(this, (reader, store) => {\n            const visible = this._visible.read(reader);\n            this._parentNode.style.visibility = visible ? 'visible' : 'hidden';\n            if (!visible) {\n                return null;\n            }\n            const model = store.add(this._instantiationService.createInstance(ViewModel, this._diffs, this._editors, this._setVisible, this._canClose));\n            const view = store.add(this._instantiationService.createInstance(View, this._parentNode, model, this._width, this._height, this._editors));\n            return {\n                model,\n                view\n            };\n        });\n        this._register(recomputeInitiallyAndOnChange(this.model));\n    }\n    next() {\n        transaction(tx => {\n            const isVisible = this._visible.get();\n            this._setVisible(true, tx);\n            if (isVisible) {\n                this.model.get().model.nextGroup(tx);\n            }\n        });\n    }\n    prev() {\n        transaction(tx => {\n            this._setVisible(true, tx);\n            this.model.get().model.previousGroup(tx);\n        });\n    }\n    close() {\n        transaction(tx => {\n            this._setVisible(false, tx);\n        });\n    }\n};\nAccessibleDiffViewer._ttPolicy = createTrustedTypesPolicy('diffReview', { createHTML: value => value });\nAccessibleDiffViewer = __decorate([\n    __param(8, IInstantiationService)\n], AccessibleDiffViewer);\nexport { AccessibleDiffViewer };\nlet ViewModel = class ViewModel extends Disposable {\n    constructor(_diffs, _editors, _setVisible, canClose, _audioCueService) {\n        super();\n        this._diffs = _diffs;\n        this._editors = _editors;\n        this._setVisible = _setVisible;\n        this.canClose = canClose;\n        this._audioCueService = _audioCueService;\n        this._groups = observableValue(this, []);\n        this._currentGroupIdx = observableValue(this, 0);\n        this._currentElementIdx = observableValue(this, 0);\n        this.groups = this._groups;\n        this.currentGroup = this._currentGroupIdx.map((idx, r) => this._groups.read(r)[idx]);\n        this.currentGroupIndex = this._currentGroupIdx;\n        this.currentElement = this._currentElementIdx.map((idx, r) => { var _a; return (_a = this.currentGroup.read(r)) === null || _a === void 0 ? void 0 : _a.lines[idx]; });\n        this._register(autorun(reader => {\n            /** @description update groups */\n            const diffs = this._diffs.read(reader);\n            if (!diffs) {\n                this._groups.set([], undefined);\n                return;\n            }\n            const groups = computeViewElementGroups(diffs, this._editors.original.getModel().getLineCount(), this._editors.modified.getModel().getLineCount());\n            transaction(tx => {\n                const p = this._editors.modified.getPosition();\n                if (p) {\n                    const nextGroup = groups.findIndex(g => (p === null || p === void 0 ? void 0 : p.lineNumber) < g.range.modified.endLineNumberExclusive);\n                    if (nextGroup !== -1) {\n                        this._currentGroupIdx.set(nextGroup, tx);\n                    }\n                }\n                this._groups.set(groups, tx);\n            });\n        }));\n        this._register(autorun(reader => {\n            /** @description play audio-cue for diff */\n            const currentViewItem = this.currentElement.read(reader);\n            if ((currentViewItem === null || currentViewItem === void 0 ? void 0 : currentViewItem.type) === LineType.Deleted) {\n                this._audioCueService.playAudioCue(AudioCue.diffLineDeleted, { source: 'accessibleDiffViewer.currentElementChanged' });\n            }\n            else if ((currentViewItem === null || currentViewItem === void 0 ? void 0 : currentViewItem.type) === LineType.Added) {\n                this._audioCueService.playAudioCue(AudioCue.diffLineInserted, { source: 'accessibleDiffViewer.currentElementChanged' });\n            }\n        }));\n        this._register(autorun(reader => {\n            var _a;\n            /** @description select lines in editor */\n            // This ensures editor commands (like revert/stage) work\n            const currentViewItem = this.currentElement.read(reader);\n            if (currentViewItem && currentViewItem.type !== LineType.Header) {\n                const lineNumber = (_a = currentViewItem.modifiedLineNumber) !== null && _a !== void 0 ? _a : currentViewItem.diff.modified.startLineNumber;\n                this._editors.modified.setSelection(Range.fromPositions(new Position(lineNumber, 1)));\n            }\n        }));\n    }\n    _goToGroupDelta(delta, tx) {\n        const groups = this.groups.get();\n        if (!groups || groups.length <= 1) {\n            return;\n        }\n        subtransaction(tx, tx => {\n            this._currentGroupIdx.set(OffsetRange.ofLength(groups.length).clipCyclic(this._currentGroupIdx.get() + delta), tx);\n            this._currentElementIdx.set(0, tx);\n        });\n    }\n    nextGroup(tx) { this._goToGroupDelta(1, tx); }\n    previousGroup(tx) { this._goToGroupDelta(-1, tx); }\n    _goToLineDelta(delta) {\n        const group = this.currentGroup.get();\n        if (!group || group.lines.length <= 1) {\n            return;\n        }\n        transaction(tx => {\n            this._currentElementIdx.set(OffsetRange.ofLength(group.lines.length).clip(this._currentElementIdx.get() + delta), tx);\n        });\n    }\n    goToNextLine() { this._goToLineDelta(1); }\n    goToPreviousLine() { this._goToLineDelta(-1); }\n    goToLine(line) {\n        const group = this.currentGroup.get();\n        if (!group) {\n            return;\n        }\n        const idx = group.lines.indexOf(line);\n        if (idx === -1) {\n            return;\n        }\n        transaction(tx => {\n            this._currentElementIdx.set(idx, tx);\n        });\n    }\n    revealCurrentElementInEditor() {\n        this._setVisible(false, undefined);\n        const curElem = this.currentElement.get();\n        if (curElem) {\n            if (curElem.type === LineType.Deleted) {\n                this._editors.original.setSelection(Range.fromPositions(new Position(curElem.originalLineNumber, 1)));\n                this._editors.original.revealLine(curElem.originalLineNumber);\n                this._editors.original.focus();\n            }\n            else {\n                if (curElem.type !== LineType.Header) {\n                    this._editors.modified.setSelection(Range.fromPositions(new Position(curElem.modifiedLineNumber, 1)));\n                    this._editors.modified.revealLine(curElem.modifiedLineNumber);\n                }\n                this._editors.modified.focus();\n            }\n        }\n    }\n    close() {\n        this._setVisible(false, undefined);\n        this._editors.modified.focus();\n    }\n};\nViewModel = __decorate([\n    __param(4, IAudioCueService)\n], ViewModel);\nconst viewElementGroupLineMargin = 3;\nfunction computeViewElementGroups(diffs, originalLineCount, modifiedLineCount) {\n    const result = [];\n    for (const g of groupAdjacentBy(diffs, (a, b) => (b.modified.startLineNumber - a.modified.endLineNumberExclusive < 2 * viewElementGroupLineMargin))) {\n        const viewElements = [];\n        viewElements.push(new HeaderViewElement());\n        const origFullRange = new LineRange(Math.max(1, g[0].original.startLineNumber - viewElementGroupLineMargin), Math.min(g[g.length - 1].original.endLineNumberExclusive + viewElementGroupLineMargin, originalLineCount + 1));\n        const modifiedFullRange = new LineRange(Math.max(1, g[0].modified.startLineNumber - viewElementGroupLineMargin), Math.min(g[g.length - 1].modified.endLineNumberExclusive + viewElementGroupLineMargin, modifiedLineCount + 1));\n        forEachAdjacent(g, (a, b) => {\n            const origRange = new LineRange(a ? a.original.endLineNumberExclusive : origFullRange.startLineNumber, b ? b.original.startLineNumber : origFullRange.endLineNumberExclusive);\n            const modifiedRange = new LineRange(a ? a.modified.endLineNumberExclusive : modifiedFullRange.startLineNumber, b ? b.modified.startLineNumber : modifiedFullRange.endLineNumberExclusive);\n            origRange.forEach(origLineNumber => {\n                viewElements.push(new UnchangedLineViewElement(origLineNumber, modifiedRange.startLineNumber + (origLineNumber - origRange.startLineNumber)));\n            });\n            if (b) {\n                b.original.forEach(origLineNumber => {\n                    viewElements.push(new DeletedLineViewElement(b, origLineNumber));\n                });\n                b.modified.forEach(modifiedLineNumber => {\n                    viewElements.push(new AddedLineViewElement(b, modifiedLineNumber));\n                });\n            }\n        });\n        const modifiedRange = g[0].modified.join(g[g.length - 1].modified);\n        const originalRange = g[0].original.join(g[g.length - 1].original);\n        result.push(new ViewElementGroup(new LineRangeMapping(modifiedRange, originalRange), viewElements));\n    }\n    return result;\n}\nvar LineType;\n(function (LineType) {\n    LineType[LineType[\"Header\"] = 0] = \"Header\";\n    LineType[LineType[\"Unchanged\"] = 1] = \"Unchanged\";\n    LineType[LineType[\"Deleted\"] = 2] = \"Deleted\";\n    LineType[LineType[\"Added\"] = 3] = \"Added\";\n})(LineType || (LineType = {}));\nclass ViewElementGroup {\n    constructor(range, lines) {\n        this.range = range;\n        this.lines = lines;\n    }\n}\nclass HeaderViewElement {\n    constructor() {\n        this.type = LineType.Header;\n    }\n}\nclass DeletedLineViewElement {\n    constructor(diff, originalLineNumber) {\n        this.diff = diff;\n        this.originalLineNumber = originalLineNumber;\n        this.type = LineType.Deleted;\n        this.modifiedLineNumber = undefined;\n    }\n}\nclass AddedLineViewElement {\n    constructor(diff, modifiedLineNumber) {\n        this.diff = diff;\n        this.modifiedLineNumber = modifiedLineNumber;\n        this.type = LineType.Added;\n        this.originalLineNumber = undefined;\n    }\n}\nclass UnchangedLineViewElement {\n    constructor(originalLineNumber, modifiedLineNumber) {\n        this.originalLineNumber = originalLineNumber;\n        this.modifiedLineNumber = modifiedLineNumber;\n        this.type = LineType.Unchanged;\n    }\n}\nlet View = class View extends Disposable {\n    constructor(_element, _model, _width, _height, _editors, _languageService) {\n        super();\n        this._element = _element;\n        this._model = _model;\n        this._width = _width;\n        this._height = _height;\n        this._editors = _editors;\n        this._languageService = _languageService;\n        this.domNode = this._element;\n        this.domNode.className = 'diff-review monaco-editor-background';\n        const actionBarContainer = document.createElement('div');\n        actionBarContainer.className = 'diff-review-actions';\n        this._actionBar = this._register(new ActionBar(actionBarContainer));\n        this._register(autorun(reader => {\n            /** @description update actions */\n            this._actionBar.clear();\n            if (this._model.canClose.read(reader)) {\n                this._actionBar.push(new Action('diffreview.close', localize('label.close', \"Close\"), 'close-diff-review ' + ThemeIcon.asClassName(accessibleDiffViewerCloseIcon), true, () => __awaiter(this, void 0, void 0, function* () { return _model.close(); })), { label: false, icon: true });\n            }\n        }));\n        this._content = document.createElement('div');\n        this._content.className = 'diff-review-content';\n        this._content.setAttribute('role', 'code');\n        this._scrollbar = this._register(new DomScrollableElement(this._content, {}));\n        reset(this.domNode, this._scrollbar.getDomNode(), actionBarContainer);\n        this._register(toDisposable(() => { reset(this.domNode); }));\n        this._register(applyStyle(this.domNode, { width: this._width, height: this._height }));\n        this._register(applyStyle(this._content, { width: this._width, height: this._height }));\n        this._register(autorunWithStore((reader, store) => {\n            /** @description render */\n            this._model.currentGroup.read(reader);\n            this._render(store);\n        }));\n        // TODO@hediet use commands\n        this._register(addStandardDisposableListener(this.domNode, 'keydown', (e) => {\n            if (e.equals(18 /* KeyCode.DownArrow */)\n                || e.equals(2048 /* KeyMod.CtrlCmd */ | 18 /* KeyCode.DownArrow */)\n                || e.equals(512 /* KeyMod.Alt */ | 18 /* KeyCode.DownArrow */)) {\n                e.preventDefault();\n                this._model.goToNextLine();\n            }\n            if (e.equals(16 /* KeyCode.UpArrow */)\n                || e.equals(2048 /* KeyMod.CtrlCmd */ | 16 /* KeyCode.UpArrow */)\n                || e.equals(512 /* KeyMod.Alt */ | 16 /* KeyCode.UpArrow */)) {\n                e.preventDefault();\n                this._model.goToPreviousLine();\n            }\n            if (e.equals(9 /* KeyCode.Escape */)\n                || e.equals(2048 /* KeyMod.CtrlCmd */ | 9 /* KeyCode.Escape */)\n                || e.equals(512 /* KeyMod.Alt */ | 9 /* KeyCode.Escape */)\n                || e.equals(1024 /* KeyMod.Shift */ | 9 /* KeyCode.Escape */)) {\n                e.preventDefault();\n                this._model.close();\n            }\n            if (e.equals(10 /* KeyCode.Space */)\n                || e.equals(3 /* KeyCode.Enter */)) {\n                e.preventDefault();\n                this._model.revealCurrentElementInEditor();\n            }\n        }));\n    }\n    _render(store) {\n        const originalOptions = this._editors.original.getOptions();\n        const modifiedOptions = this._editors.modified.getOptions();\n        const container = document.createElement('div');\n        container.className = 'diff-review-table';\n        container.setAttribute('role', 'list');\n        container.setAttribute('aria-label', localize('ariaLabel', 'Accessible Diff Viewer. Use arrow up and down to navigate.'));\n        applyFontInfo(container, modifiedOptions.get(50 /* EditorOption.fontInfo */));\n        reset(this._content, container);\n        const originalModel = this._editors.original.getModel();\n        const modifiedModel = this._editors.modified.getModel();\n        if (!originalModel || !modifiedModel) {\n            return;\n        }\n        const originalModelOpts = originalModel.getOptions();\n        const modifiedModelOpts = modifiedModel.getOptions();\n        const lineHeight = modifiedOptions.get(66 /* EditorOption.lineHeight */);\n        const group = this._model.currentGroup.get();\n        for (const viewItem of (group === null || group === void 0 ? void 0 : group.lines) || []) {\n            if (!group) {\n                break;\n            }\n            let row;\n            if (viewItem.type === LineType.Header) {\n                const header = document.createElement('div');\n                header.className = 'diff-review-row';\n                header.setAttribute('role', 'listitem');\n                const r = group.range;\n                const diffIndex = this._model.currentGroupIndex.get();\n                const diffsLength = this._model.groups.get().length;\n                const getAriaLines = (lines) => lines === 0 ? localize('no_lines_changed', \"no lines changed\")\n                    : lines === 1 ? localize('one_line_changed', \"1 line changed\")\n                        : localize('more_lines_changed', \"{0} lines changed\", lines);\n                const originalChangedLinesCntAria = getAriaLines(r.original.length);\n                const modifiedChangedLinesCntAria = getAriaLines(r.modified.length);\n                header.setAttribute('aria-label', localize({\n                    key: 'header',\n                    comment: [\n                        'This is the ARIA label for a git diff header.',\n                        'A git diff header looks like this: @@ -154,12 +159,39 @@.',\n                        'That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.',\n                        'Variables 0 and 1 refer to the diff index out of total number of diffs.',\n                        'Variables 2 and 4 will be numbers (a line number).',\n                        'Variables 3 and 5 will be \"no lines changed\", \"1 line changed\" or \"X lines changed\", localized separately.'\n                    ]\n                }, \"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}\", (diffIndex + 1), diffsLength, r.original.startLineNumber, originalChangedLinesCntAria, r.modified.startLineNumber, modifiedChangedLinesCntAria));\n                const cell = document.createElement('div');\n                cell.className = 'diff-review-cell diff-review-summary';\n                // e.g.: `1/10: @@ -504,7 +517,7 @@`\n                cell.appendChild(document.createTextNode(`${diffIndex + 1}/${diffsLength}: @@ -${r.original.startLineNumber},${r.original.length} +${r.modified.startLineNumber},${r.modified.length} @@`));\n                header.appendChild(cell);\n                row = header;\n            }\n            else {\n                row = this._createRow(viewItem, lineHeight, this._width.get(), originalOptions, originalModel, originalModelOpts, modifiedOptions, modifiedModel, modifiedModelOpts);\n            }\n            container.appendChild(row);\n            const isSelectedObs = derived(reader => /** @description isSelected */ this._model.currentElement.read(reader) === viewItem);\n            store.add(autorun(reader => {\n                /** @description update tab index */\n                const isSelected = isSelectedObs.read(reader);\n                row.tabIndex = isSelected ? 0 : -1;\n                if (isSelected) {\n                    row.focus();\n                }\n            }));\n            store.add(addDisposableListener(row, 'focus', () => {\n                this._model.goToLine(viewItem);\n            }));\n        }\n        this._scrollbar.scanDomNode();\n    }\n    _createRow(item, lineHeight, width, originalOptions, originalModel, originalModelOpts, modifiedOptions, modifiedModel, modifiedModelOpts) {\n        const originalLayoutInfo = originalOptions.get(143 /* EditorOption.layoutInfo */);\n        const originalLineNumbersWidth = originalLayoutInfo.glyphMarginWidth + originalLayoutInfo.lineNumbersWidth;\n        const modifiedLayoutInfo = modifiedOptions.get(143 /* EditorOption.layoutInfo */);\n        const modifiedLineNumbersWidth = 10 + modifiedLayoutInfo.glyphMarginWidth + modifiedLayoutInfo.lineNumbersWidth;\n        let rowClassName = 'diff-review-row';\n        let lineNumbersExtraClassName = '';\n        const spacerClassName = 'diff-review-spacer';\n        let spacerIcon = null;\n        switch (item.type) {\n            case LineType.Added:\n                rowClassName = 'diff-review-row line-insert';\n                lineNumbersExtraClassName = ' char-insert';\n                spacerIcon = accessibleDiffViewerInsertIcon;\n                break;\n            case LineType.Deleted:\n                rowClassName = 'diff-review-row line-delete';\n                lineNumbersExtraClassName = ' char-delete';\n                spacerIcon = accessibleDiffViewerRemoveIcon;\n                break;\n        }\n        const row = document.createElement('div');\n        row.style.minWidth = width + 'px';\n        row.className = rowClassName;\n        row.setAttribute('role', 'listitem');\n        row.ariaLevel = '';\n        const cell = document.createElement('div');\n        cell.className = 'diff-review-cell';\n        cell.style.height = `${lineHeight}px`;\n        row.appendChild(cell);\n        const originalLineNumber = document.createElement('span');\n        originalLineNumber.style.width = (originalLineNumbersWidth + 'px');\n        originalLineNumber.style.minWidth = (originalLineNumbersWidth + 'px');\n        originalLineNumber.className = 'diff-review-line-number' + lineNumbersExtraClassName;\n        if (item.originalLineNumber !== undefined) {\n            originalLineNumber.appendChild(document.createTextNode(String(item.originalLineNumber)));\n        }\n        else {\n            originalLineNumber.innerText = '\\u00a0';\n        }\n        cell.appendChild(originalLineNumber);\n        const modifiedLineNumber = document.createElement('span');\n        modifiedLineNumber.style.width = (modifiedLineNumbersWidth + 'px');\n        modifiedLineNumber.style.minWidth = (modifiedLineNumbersWidth + 'px');\n        modifiedLineNumber.style.paddingRight = '10px';\n        modifiedLineNumber.className = 'diff-review-line-number' + lineNumbersExtraClassName;\n        if (item.modifiedLineNumber !== undefined) {\n            modifiedLineNumber.appendChild(document.createTextNode(String(item.modifiedLineNumber)));\n        }\n        else {\n            modifiedLineNumber.innerText = '\\u00a0';\n        }\n        cell.appendChild(modifiedLineNumber);\n        const spacer = document.createElement('span');\n        spacer.className = spacerClassName;\n        if (spacerIcon) {\n            const spacerCodicon = document.createElement('span');\n            spacerCodicon.className = ThemeIcon.asClassName(spacerIcon);\n            spacerCodicon.innerText = '\\u00a0\\u00a0';\n            spacer.appendChild(spacerCodicon);\n        }\n        else {\n            spacer.innerText = '\\u00a0\\u00a0';\n        }\n        cell.appendChild(spacer);\n        let lineContent;\n        if (item.modifiedLineNumber !== undefined) {\n            let html = this._getLineHtml(modifiedModel, modifiedOptions, modifiedModelOpts.tabSize, item.modifiedLineNumber, this._languageService.languageIdCodec);\n            if (AccessibleDiffViewer._ttPolicy) {\n                html = AccessibleDiffViewer._ttPolicy.createHTML(html);\n            }\n            cell.insertAdjacentHTML('beforeend', html);\n            lineContent = modifiedModel.getLineContent(item.modifiedLineNumber);\n        }\n        else {\n            let html = this._getLineHtml(originalModel, originalOptions, originalModelOpts.tabSize, item.originalLineNumber, this._languageService.languageIdCodec);\n            if (AccessibleDiffViewer._ttPolicy) {\n                html = AccessibleDiffViewer._ttPolicy.createHTML(html);\n            }\n            cell.insertAdjacentHTML('beforeend', html);\n            lineContent = originalModel.getLineContent(item.originalLineNumber);\n        }\n        if (lineContent.length === 0) {\n            lineContent = localize('blankLine', \"blank\");\n        }\n        let ariaLabel = '';\n        switch (item.type) {\n            case LineType.Unchanged:\n                if (item.originalLineNumber === item.modifiedLineNumber) {\n                    ariaLabel = localize({ key: 'unchangedLine', comment: ['The placeholders are contents of the line and should not be translated.'] }, \"{0} unchanged line {1}\", lineContent, item.originalLineNumber);\n                }\n                else {\n                    ariaLabel = localize('equalLine', \"{0} original line {1} modified line {2}\", lineContent, item.originalLineNumber, item.modifiedLineNumber);\n                }\n                break;\n            case LineType.Added:\n                ariaLabel = localize('insertLine', \"+ {0} modified line {1}\", lineContent, item.modifiedLineNumber);\n                break;\n            case LineType.Deleted:\n                ariaLabel = localize('deleteLine', \"- {0} original line {1}\", lineContent, item.originalLineNumber);\n                break;\n        }\n        row.setAttribute('aria-label', ariaLabel);\n        return row;\n    }\n    _getLineHtml(model, options, tabSize, lineNumber, languageIdCodec) {\n        const lineContent = model.getLineContent(lineNumber);\n        const fontInfo = options.get(50 /* EditorOption.fontInfo */);\n        const lineTokens = LineTokens.createEmpty(lineContent, languageIdCodec);\n        const isBasicASCII = ViewLineRenderingData.isBasicASCII(lineContent, model.mightContainNonBasicASCII());\n        const containsRTL = ViewLineRenderingData.containsRTL(lineContent, isBasicASCII, model.mightContainRTL());\n        const r = renderViewLine2(new RenderLineInput((fontInfo.isMonospace && !options.get(33 /* EditorOption.disableMonospaceOptimizations */)), fontInfo.canUseHalfwidthRightwardsArrow, lineContent, false, isBasicASCII, containsRTL, 0, lineTokens, [], tabSize, 0, fontInfo.spaceWidth, fontInfo.middotWidth, fontInfo.wsmiddotWidth, options.get(116 /* EditorOption.stopRenderingLineAfter */), options.get(98 /* EditorOption.renderWhitespace */), options.get(93 /* EditorOption.renderControlCharacters */), options.get(51 /* EditorOption.fontLigatures */) !== EditorFontLigatures.OFF, null));\n        return r.html;\n    }\n};\nView = __decorate([\n    __param(5, ILanguageService)\n], View);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}