{"ast":null,"code":"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = this && this.__param || function (paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nimport { AsyncIterableObject } from '../../../../base/common/async.js';\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { Color, RGBA } from '../../../../base/common/color.js';\nimport { Disposable, DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { Range } from '../../../common/core/range.js';\nimport { getColorPresentations, getColors } from './color.js';\nimport { ColorDetector } from './colorDetector.js';\nimport { ColorPickerModel } from './colorPickerModel.js';\nimport { ColorPickerWidget } from './colorPickerWidget.js';\nimport { IThemeService } from '../../../../platform/theme/common/themeService.js';\nimport { Dimension } from '../../../../base/browser/dom.js';\nexport class ColorHover {\n  constructor(owner, range, model, provider) {\n    this.owner = owner;\n    this.range = range;\n    this.model = model;\n    this.provider = provider;\n    /**\n     * Force the hover to always be rendered at this specific range,\n     * even in the case of multiple hover parts.\n     */\n    this.forceShowAtRange = true;\n  }\n  isValidForHoverAnchor(anchor) {\n    return anchor.type === 1 /* HoverAnchorType.Range */ && this.range.startColumn <= anchor.range.startColumn && this.range.endColumn >= anchor.range.endColumn;\n  }\n}\nlet ColorHoverParticipant = class ColorHoverParticipant {\n  constructor(_editor, _themeService) {\n    this._editor = _editor;\n    this._themeService = _themeService;\n    this.hoverOrdinal = 2;\n  }\n  computeSync(_anchor, _lineDecorations) {\n    return [];\n  }\n  computeAsync(anchor, lineDecorations, token) {\n    return AsyncIterableObject.fromPromise(this._computeAsync(anchor, lineDecorations, token));\n  }\n  _computeAsync(_anchor, lineDecorations, _token) {\n    return __awaiter(this, void 0, void 0, function* () {\n      if (!this._editor.hasModel()) {\n        return [];\n      }\n      const colorDetector = ColorDetector.get(this._editor);\n      if (!colorDetector) {\n        return [];\n      }\n      for (const d of lineDecorations) {\n        if (!colorDetector.isColorDecoration(d)) {\n          continue;\n        }\n        const colorData = colorDetector.getColorData(d.range.getStartPosition());\n        if (colorData) {\n          const colorHover = yield _createColorHover(this, this._editor.getModel(), colorData.colorInfo, colorData.provider);\n          return [colorHover];\n        }\n      }\n      return [];\n    });\n  }\n  renderHoverParts(context, hoverParts) {\n    return renderHoverParts(this, this._editor, this._themeService, hoverParts, context);\n  }\n};\nColorHoverParticipant = __decorate([__param(1, IThemeService)], ColorHoverParticipant);\nexport { ColorHoverParticipant };\nexport class StandaloneColorPickerHover {\n  constructor(owner, range, model, provider) {\n    this.owner = owner;\n    this.range = range;\n    this.model = model;\n    this.provider = provider;\n  }\n}\nlet StandaloneColorPickerParticipant = class StandaloneColorPickerParticipant {\n  constructor(_editor, _themeService) {\n    this._editor = _editor;\n    this._themeService = _themeService;\n    this._color = null;\n  }\n  createColorHover(defaultColorInfo, defaultColorProvider, colorProviderRegistry) {\n    return __awaiter(this, void 0, void 0, function* () {\n      if (!this._editor.hasModel()) {\n        return null;\n      }\n      const colorDetector = ColorDetector.get(this._editor);\n      if (!colorDetector) {\n        return null;\n      }\n      const colors = yield getColors(colorProviderRegistry, this._editor.getModel(), CancellationToken.None);\n      let foundColorInfo = null;\n      let foundColorProvider = null;\n      for (const colorData of colors) {\n        const colorInfo = colorData.colorInfo;\n        if (Range.containsRange(colorInfo.range, defaultColorInfo.range)) {\n          foundColorInfo = colorInfo;\n          foundColorProvider = colorData.provider;\n        }\n      }\n      const colorInfo = foundColorInfo !== null && foundColorInfo !== void 0 ? foundColorInfo : defaultColorInfo;\n      const colorProvider = foundColorProvider !== null && foundColorProvider !== void 0 ? foundColorProvider : defaultColorProvider;\n      const foundInEditor = !!foundColorInfo;\n      return {\n        colorHover: yield _createColorHover(this, this._editor.getModel(), colorInfo, colorProvider),\n        foundInEditor: foundInEditor\n      };\n    });\n  }\n  updateEditorModel(colorHoverData) {\n    return __awaiter(this, void 0, void 0, function* () {\n      if (!this._editor.hasModel()) {\n        return;\n      }\n      const colorPickerModel = colorHoverData.model;\n      let range = new Range(colorHoverData.range.startLineNumber, colorHoverData.range.startColumn, colorHoverData.range.endLineNumber, colorHoverData.range.endColumn);\n      if (this._color) {\n        yield _updateColorPresentations(this._editor.getModel(), colorPickerModel, this._color, range, colorHoverData);\n        range = _updateEditorModel(this._editor, range, colorPickerModel);\n      }\n    });\n  }\n  renderHoverParts(context, hoverParts) {\n    return renderHoverParts(this, this._editor, this._themeService, hoverParts, context);\n  }\n  set color(color) {\n    this._color = color;\n  }\n  get color() {\n    return this._color;\n  }\n};\nStandaloneColorPickerParticipant = __decorate([__param(1, IThemeService)], StandaloneColorPickerParticipant);\nexport { StandaloneColorPickerParticipant };\nfunction _createColorHover(participant, editorModel, colorInfo, provider) {\n  return __awaiter(this, void 0, void 0, function* () {\n    const originalText = editorModel.getValueInRange(colorInfo.range);\n    const {\n      red,\n      green,\n      blue,\n      alpha\n    } = colorInfo.color;\n    const rgba = new RGBA(Math.round(red * 255), Math.round(green * 255), Math.round(blue * 255), alpha);\n    const color = new Color(rgba);\n    const colorPresentations = yield getColorPresentations(editorModel, colorInfo, provider, CancellationToken.None);\n    const model = new ColorPickerModel(color, [], 0);\n    model.colorPresentations = colorPresentations || [];\n    model.guessColorPresentation(color, originalText);\n    if (participant instanceof ColorHoverParticipant) {\n      return new ColorHover(participant, Range.lift(colorInfo.range), model, provider);\n    } else {\n      return new StandaloneColorPickerHover(participant, Range.lift(colorInfo.range), model, provider);\n    }\n  });\n}\nfunction renderHoverParts(participant, editor, themeService, hoverParts, context) {\n  if (hoverParts.length === 0 || !editor.hasModel()) {\n    return Disposable.None;\n  }\n  if (context.setMinimumDimensions) {\n    const minimumHeight = editor.getOption(66 /* EditorOption.lineHeight */) + 8;\n    context.setMinimumDimensions(new Dimension(302, minimumHeight));\n  }\n  const disposables = new DisposableStore();\n  const colorHover = hoverParts[0];\n  const editorModel = editor.getModel();\n  const model = colorHover.model;\n  const widget = disposables.add(new ColorPickerWidget(context.fragment, model, editor.getOption(141 /* EditorOption.pixelRatio */), themeService, participant instanceof StandaloneColorPickerParticipant));\n  context.setColorPicker(widget);\n  let editorUpdatedByColorPicker = false;\n  let range = new Range(colorHover.range.startLineNumber, colorHover.range.startColumn, colorHover.range.endLineNumber, colorHover.range.endColumn);\n  if (participant instanceof StandaloneColorPickerParticipant) {\n    const color = hoverParts[0].model.color;\n    participant.color = color;\n    _updateColorPresentations(editorModel, model, color, range, colorHover);\n    disposables.add(model.onColorFlushed(color => {\n      participant.color = color;\n    }));\n  } else {\n    disposables.add(model.onColorFlushed(color => __awaiter(this, void 0, void 0, function* () {\n      yield _updateColorPresentations(editorModel, model, color, range, colorHover);\n      editorUpdatedByColorPicker = true;\n      range = _updateEditorModel(editor, range, model, context);\n    })));\n  }\n  disposables.add(model.onDidChangeColor(color => {\n    _updateColorPresentations(editorModel, model, color, range, colorHover);\n  }));\n  disposables.add(editor.onDidChangeModelContent(e => {\n    if (editorUpdatedByColorPicker) {\n      editorUpdatedByColorPicker = false;\n    } else {\n      context.hide();\n      editor.focus();\n    }\n  }));\n  return disposables;\n}\nfunction _updateEditorModel(editor, range, model, context) {\n  let textEdits;\n  let newRange;\n  if (model.presentation.textEdit) {\n    textEdits = [model.presentation.textEdit];\n    newRange = new Range(model.presentation.textEdit.range.startLineNumber, model.presentation.textEdit.range.startColumn, model.presentation.textEdit.range.endLineNumber, model.presentation.textEdit.range.endColumn);\n    const trackedRange = editor.getModel()._setTrackedRange(null, newRange, 3 /* TrackedRangeStickiness.GrowsOnlyWhenTypingAfter */);\n    editor.pushUndoStop();\n    editor.executeEdits('colorpicker', textEdits);\n    newRange = editor.getModel()._getTrackedRange(trackedRange) || newRange;\n  } else {\n    textEdits = [{\n      range,\n      text: model.presentation.label,\n      forceMoveMarkers: false\n    }];\n    newRange = range.setEndPosition(range.endLineNumber, range.startColumn + model.presentation.label.length);\n    editor.pushUndoStop();\n    editor.executeEdits('colorpicker', textEdits);\n  }\n  if (model.presentation.additionalTextEdits) {\n    textEdits = [...model.presentation.additionalTextEdits];\n    editor.executeEdits('colorpicker', textEdits);\n    if (context) {\n      context.hide();\n    }\n  }\n  editor.pushUndoStop();\n  return newRange;\n}\nfunction _updateColorPresentations(editorModel, colorPickerModel, color, range, colorHover) {\n  return __awaiter(this, void 0, void 0, function* () {\n    const colorPresentations = yield getColorPresentations(editorModel, {\n      range: range,\n      color: {\n        red: color.rgba.r / 255,\n        green: color.rgba.g / 255,\n        blue: color.rgba.b / 255,\n        alpha: color.rgba.a\n      }\n    }, colorHover.provider, CancellationToken.None);\n    colorPickerModel.colorPresentations = colorPresentations || [];\n  });\n}","map":{"version":3,"names":["__decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","AsyncIterableObject","CancellationToken","Color","RGBA","Disposable","DisposableStore","Range","getColorPresentations","getColors","ColorDetector","ColorPickerModel","ColorPickerWidget","IThemeService","Dimension","ColorHover","constructor","owner","range","model","provider","forceShowAtRange","isValidForHoverAnchor","anchor","type","startColumn","endColumn","ColorHoverParticipant","_editor","_themeService","hoverOrdinal","computeSync","_anchor","_lineDecorations","computeAsync","lineDecorations","token","fromPromise","_computeAsync","_token","hasModel","colorDetector","get","isColorDecoration","colorData","getColorData","getStartPosition","colorHover","_createColorHover","getModel","colorInfo","renderHoverParts","context","hoverParts","StandaloneColorPickerHover","StandaloneColorPickerParticipant","_color","createColorHover","defaultColorInfo","defaultColorProvider","colorProviderRegistry","colors","None","foundColorInfo","foundColorProvider","containsRange","colorProvider","foundInEditor","updateEditorModel","colorHoverData","colorPickerModel","startLineNumber","endLineNumber","_updateColorPresentations","_updateEditorModel","color","participant","editorModel","originalText","getValueInRange","red","green","blue","alpha","rgba","Math","round","colorPresentations","guessColorPresentation","lift","editor","themeService","setMinimumDimensions","minimumHeight","getOption","disposables","widget","add","fragment","setColorPicker","editorUpdatedByColorPicker","onColorFlushed","onDidChangeColor","onDidChangeModelContent","hide","focus","textEdits","newRange","presentation","textEdit","trackedRange","_setTrackedRange","pushUndoStop","executeEdits","_getTrackedRange","text","label","forceMoveMarkers","setEndPosition","additionalTextEdits","g","b","a"],"sources":["/home/chlohest/work/website/my_web/node_modules/monaco-editor/esm/vs/editor/contrib/colorPicker/browser/colorHoverParticipant.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { AsyncIterableObject } from '../../../../base/common/async.js';\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { Color, RGBA } from '../../../../base/common/color.js';\nimport { Disposable, DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { Range } from '../../../common/core/range.js';\nimport { getColorPresentations, getColors } from './color.js';\nimport { ColorDetector } from './colorDetector.js';\nimport { ColorPickerModel } from './colorPickerModel.js';\nimport { ColorPickerWidget } from './colorPickerWidget.js';\nimport { IThemeService } from '../../../../platform/theme/common/themeService.js';\nimport { Dimension } from '../../../../base/browser/dom.js';\nexport class ColorHover {\n    constructor(owner, range, model, provider) {\n        this.owner = owner;\n        this.range = range;\n        this.model = model;\n        this.provider = provider;\n        /**\n         * Force the hover to always be rendered at this specific range,\n         * even in the case of multiple hover parts.\n         */\n        this.forceShowAtRange = true;\n    }\n    isValidForHoverAnchor(anchor) {\n        return (anchor.type === 1 /* HoverAnchorType.Range */\n            && this.range.startColumn <= anchor.range.startColumn\n            && this.range.endColumn >= anchor.range.endColumn);\n    }\n}\nlet ColorHoverParticipant = class ColorHoverParticipant {\n    constructor(_editor, _themeService) {\n        this._editor = _editor;\n        this._themeService = _themeService;\n        this.hoverOrdinal = 2;\n    }\n    computeSync(_anchor, _lineDecorations) {\n        return [];\n    }\n    computeAsync(anchor, lineDecorations, token) {\n        return AsyncIterableObject.fromPromise(this._computeAsync(anchor, lineDecorations, token));\n    }\n    _computeAsync(_anchor, lineDecorations, _token) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this._editor.hasModel()) {\n                return [];\n            }\n            const colorDetector = ColorDetector.get(this._editor);\n            if (!colorDetector) {\n                return [];\n            }\n            for (const d of lineDecorations) {\n                if (!colorDetector.isColorDecoration(d)) {\n                    continue;\n                }\n                const colorData = colorDetector.getColorData(d.range.getStartPosition());\n                if (colorData) {\n                    const colorHover = yield _createColorHover(this, this._editor.getModel(), colorData.colorInfo, colorData.provider);\n                    return [colorHover];\n                }\n            }\n            return [];\n        });\n    }\n    renderHoverParts(context, hoverParts) {\n        return renderHoverParts(this, this._editor, this._themeService, hoverParts, context);\n    }\n};\nColorHoverParticipant = __decorate([\n    __param(1, IThemeService)\n], ColorHoverParticipant);\nexport { ColorHoverParticipant };\nexport class StandaloneColorPickerHover {\n    constructor(owner, range, model, provider) {\n        this.owner = owner;\n        this.range = range;\n        this.model = model;\n        this.provider = provider;\n    }\n}\nlet StandaloneColorPickerParticipant = class StandaloneColorPickerParticipant {\n    constructor(_editor, _themeService) {\n        this._editor = _editor;\n        this._themeService = _themeService;\n        this._color = null;\n    }\n    createColorHover(defaultColorInfo, defaultColorProvider, colorProviderRegistry) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this._editor.hasModel()) {\n                return null;\n            }\n            const colorDetector = ColorDetector.get(this._editor);\n            if (!colorDetector) {\n                return null;\n            }\n            const colors = yield getColors(colorProviderRegistry, this._editor.getModel(), CancellationToken.None);\n            let foundColorInfo = null;\n            let foundColorProvider = null;\n            for (const colorData of colors) {\n                const colorInfo = colorData.colorInfo;\n                if (Range.containsRange(colorInfo.range, defaultColorInfo.range)) {\n                    foundColorInfo = colorInfo;\n                    foundColorProvider = colorData.provider;\n                }\n            }\n            const colorInfo = foundColorInfo !== null && foundColorInfo !== void 0 ? foundColorInfo : defaultColorInfo;\n            const colorProvider = foundColorProvider !== null && foundColorProvider !== void 0 ? foundColorProvider : defaultColorProvider;\n            const foundInEditor = !!foundColorInfo;\n            return { colorHover: yield _createColorHover(this, this._editor.getModel(), colorInfo, colorProvider), foundInEditor: foundInEditor };\n        });\n    }\n    updateEditorModel(colorHoverData) {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (!this._editor.hasModel()) {\n                return;\n            }\n            const colorPickerModel = colorHoverData.model;\n            let range = new Range(colorHoverData.range.startLineNumber, colorHoverData.range.startColumn, colorHoverData.range.endLineNumber, colorHoverData.range.endColumn);\n            if (this._color) {\n                yield _updateColorPresentations(this._editor.getModel(), colorPickerModel, this._color, range, colorHoverData);\n                range = _updateEditorModel(this._editor, range, colorPickerModel);\n            }\n        });\n    }\n    renderHoverParts(context, hoverParts) {\n        return renderHoverParts(this, this._editor, this._themeService, hoverParts, context);\n    }\n    set color(color) {\n        this._color = color;\n    }\n    get color() {\n        return this._color;\n    }\n};\nStandaloneColorPickerParticipant = __decorate([\n    __param(1, IThemeService)\n], StandaloneColorPickerParticipant);\nexport { StandaloneColorPickerParticipant };\nfunction _createColorHover(participant, editorModel, colorInfo, provider) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const originalText = editorModel.getValueInRange(colorInfo.range);\n        const { red, green, blue, alpha } = colorInfo.color;\n        const rgba = new RGBA(Math.round(red * 255), Math.round(green * 255), Math.round(blue * 255), alpha);\n        const color = new Color(rgba);\n        const colorPresentations = yield getColorPresentations(editorModel, colorInfo, provider, CancellationToken.None);\n        const model = new ColorPickerModel(color, [], 0);\n        model.colorPresentations = colorPresentations || [];\n        model.guessColorPresentation(color, originalText);\n        if (participant instanceof ColorHoverParticipant) {\n            return new ColorHover(participant, Range.lift(colorInfo.range), model, provider);\n        }\n        else {\n            return new StandaloneColorPickerHover(participant, Range.lift(colorInfo.range), model, provider);\n        }\n    });\n}\nfunction renderHoverParts(participant, editor, themeService, hoverParts, context) {\n    if (hoverParts.length === 0 || !editor.hasModel()) {\n        return Disposable.None;\n    }\n    if (context.setMinimumDimensions) {\n        const minimumHeight = editor.getOption(66 /* EditorOption.lineHeight */) + 8;\n        context.setMinimumDimensions(new Dimension(302, minimumHeight));\n    }\n    const disposables = new DisposableStore();\n    const colorHover = hoverParts[0];\n    const editorModel = editor.getModel();\n    const model = colorHover.model;\n    const widget = disposables.add(new ColorPickerWidget(context.fragment, model, editor.getOption(141 /* EditorOption.pixelRatio */), themeService, participant instanceof StandaloneColorPickerParticipant));\n    context.setColorPicker(widget);\n    let editorUpdatedByColorPicker = false;\n    let range = new Range(colorHover.range.startLineNumber, colorHover.range.startColumn, colorHover.range.endLineNumber, colorHover.range.endColumn);\n    if (participant instanceof StandaloneColorPickerParticipant) {\n        const color = hoverParts[0].model.color;\n        participant.color = color;\n        _updateColorPresentations(editorModel, model, color, range, colorHover);\n        disposables.add(model.onColorFlushed((color) => {\n            participant.color = color;\n        }));\n    }\n    else {\n        disposables.add(model.onColorFlushed((color) => __awaiter(this, void 0, void 0, function* () {\n            yield _updateColorPresentations(editorModel, model, color, range, colorHover);\n            editorUpdatedByColorPicker = true;\n            range = _updateEditorModel(editor, range, model, context);\n        })));\n    }\n    disposables.add(model.onDidChangeColor((color) => {\n        _updateColorPresentations(editorModel, model, color, range, colorHover);\n    }));\n    disposables.add(editor.onDidChangeModelContent((e) => {\n        if (editorUpdatedByColorPicker) {\n            editorUpdatedByColorPicker = false;\n        }\n        else {\n            context.hide();\n            editor.focus();\n        }\n    }));\n    return disposables;\n}\nfunction _updateEditorModel(editor, range, model, context) {\n    let textEdits;\n    let newRange;\n    if (model.presentation.textEdit) {\n        textEdits = [model.presentation.textEdit];\n        newRange = new Range(model.presentation.textEdit.range.startLineNumber, model.presentation.textEdit.range.startColumn, model.presentation.textEdit.range.endLineNumber, model.presentation.textEdit.range.endColumn);\n        const trackedRange = editor.getModel()._setTrackedRange(null, newRange, 3 /* TrackedRangeStickiness.GrowsOnlyWhenTypingAfter */);\n        editor.pushUndoStop();\n        editor.executeEdits('colorpicker', textEdits);\n        newRange = editor.getModel()._getTrackedRange(trackedRange) || newRange;\n    }\n    else {\n        textEdits = [{ range, text: model.presentation.label, forceMoveMarkers: false }];\n        newRange = range.setEndPosition(range.endLineNumber, range.startColumn + model.presentation.label.length);\n        editor.pushUndoStop();\n        editor.executeEdits('colorpicker', textEdits);\n    }\n    if (model.presentation.additionalTextEdits) {\n        textEdits = [...model.presentation.additionalTextEdits];\n        editor.executeEdits('colorpicker', textEdits);\n        if (context) {\n            context.hide();\n        }\n    }\n    editor.pushUndoStop();\n    return newRange;\n}\nfunction _updateColorPresentations(editorModel, colorPickerModel, color, range, colorHover) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const colorPresentations = yield getColorPresentations(editorModel, {\n            range: range,\n            color: {\n                red: color.rgba.r / 255,\n                green: color.rgba.g / 255,\n                blue: color.rgba.b / 255,\n                alpha: color.rgba.a\n            }\n        }, colorHover.provider, CancellationToken.None);\n        colorPickerModel.colorPresentations = colorPresentations || [];\n    });\n}\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,IAAIA,UAAU,GAAI,IAAI,IAAI,IAAI,CAACA,UAAU,IAAK,UAAUC,UAAU,EAAEC,MAAM,EAAEC,GAAG,EAAEC,IAAI,EAAE;EACnF,IAAIC,CAAC,GAAGC,SAAS,CAACC,MAAM;IAAEC,CAAC,GAAGH,CAAC,GAAG,CAAC,GAAGH,MAAM,GAAGE,IAAI,KAAK,IAAI,GAAGA,IAAI,GAAGK,MAAM,CAACC,wBAAwB,CAACR,MAAM,EAAEC,GAAG,CAAC,GAAGC,IAAI;IAAEO,CAAC;EAC5H,IAAI,OAAOC,OAAO,KAAK,QAAQ,IAAI,OAAOA,OAAO,CAACC,QAAQ,KAAK,UAAU,EAAEL,CAAC,GAAGI,OAAO,CAACC,QAAQ,CAACZ,UAAU,EAAEC,MAAM,EAAEC,GAAG,EAAEC,IAAI,CAAC,CAAC,KAC1H,KAAK,IAAIU,CAAC,GAAGb,UAAU,CAACM,MAAM,GAAG,CAAC,EAAEO,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAE,IAAIH,CAAC,GAAGV,UAAU,CAACa,CAAC,CAAC,EAAEN,CAAC,GAAG,CAACH,CAAC,GAAG,CAAC,GAAGM,CAAC,CAACH,CAAC,CAAC,GAAGH,CAAC,GAAG,CAAC,GAAGM,CAAC,CAACT,MAAM,EAAEC,GAAG,EAAEK,CAAC,CAAC,GAAGG,CAAC,CAACT,MAAM,EAAEC,GAAG,CAAC,KAAKK,CAAC;EACjJ,OAAOH,CAAC,GAAG,CAAC,IAAIG,CAAC,IAAIC,MAAM,CAACM,cAAc,CAACb,MAAM,EAAEC,GAAG,EAAEK,CAAC,CAAC,EAAEA,CAAC;AACjE,CAAC;AACD,IAAIQ,OAAO,GAAI,IAAI,IAAI,IAAI,CAACA,OAAO,IAAK,UAAUC,UAAU,EAAEC,SAAS,EAAE;EACrE,OAAO,UAAUhB,MAAM,EAAEC,GAAG,EAAE;IAAEe,SAAS,CAAChB,MAAM,EAAEC,GAAG,EAAEc,UAAU,CAAC;EAAE,CAAC;AACzE,CAAC;AACD,IAAIE,SAAS,GAAI,IAAI,IAAI,IAAI,CAACA,SAAS,IAAK,UAAUC,OAAO,EAAEC,UAAU,EAAEC,CAAC,EAAEC,SAAS,EAAE;EACrF,SAASC,KAAKA,CAACC,KAAK,EAAE;IAAE,OAAOA,KAAK,YAAYH,CAAC,GAAGG,KAAK,GAAG,IAAIH,CAAC,CAAC,UAAUI,OAAO,EAAE;MAAEA,OAAO,CAACD,KAAK,CAAC;IAAE,CAAC,CAAC;EAAE;EAC3G,OAAO,KAAKH,CAAC,KAAKA,CAAC,GAAGK,OAAO,CAAC,EAAE,UAAUD,OAAO,EAAEE,MAAM,EAAE;IACvD,SAASC,SAASA,CAACJ,KAAK,EAAE;MAAE,IAAI;QAAEK,IAAI,CAACP,SAAS,CAACQ,IAAI,CAACN,KAAK,CAAC,CAAC;MAAE,CAAC,CAAC,OAAOO,CAAC,EAAE;QAAEJ,MAAM,CAACI,CAAC,CAAC;MAAE;IAAE;IAC1F,SAASC,QAAQA,CAACR,KAAK,EAAE;MAAE,IAAI;QAAEK,IAAI,CAACP,SAAS,CAAC,OAAO,CAAC,CAACE,KAAK,CAAC,CAAC;MAAE,CAAC,CAAC,OAAOO,CAAC,EAAE;QAAEJ,MAAM,CAACI,CAAC,CAAC;MAAE;IAAE;IAC7F,SAASF,IAAIA,CAACI,MAAM,EAAE;MAAEA,MAAM,CAACC,IAAI,GAAGT,OAAO,CAACQ,MAAM,CAACT,KAAK,CAAC,GAAGD,KAAK,CAACU,MAAM,CAACT,KAAK,CAAC,CAACW,IAAI,CAACP,SAAS,EAAEI,QAAQ,CAAC;IAAE;IAC7GH,IAAI,CAAC,CAACP,SAAS,GAAGA,SAAS,CAACc,KAAK,CAACjB,OAAO,EAAEC,UAAU,IAAI,EAAE,CAAC,EAAEU,IAAI,CAAC,CAAC,CAAC;EACzE,CAAC,CAAC;AACN,CAAC;AACD,SAASO,mBAAmB,QAAQ,kCAAkC;AACtE,SAASC,iBAAiB,QAAQ,yCAAyC;AAC3E,SAASC,KAAK,EAAEC,IAAI,QAAQ,kCAAkC;AAC9D,SAASC,UAAU,EAAEC,eAAe,QAAQ,sCAAsC;AAClF,SAASC,KAAK,QAAQ,+BAA+B;AACrD,SAASC,qBAAqB,EAAEC,SAAS,QAAQ,YAAY;AAC7D,SAASC,aAAa,QAAQ,oBAAoB;AAClD,SAASC,gBAAgB,QAAQ,uBAAuB;AACxD,SAASC,iBAAiB,QAAQ,wBAAwB;AAC1D,SAASC,aAAa,QAAQ,mDAAmD;AACjF,SAASC,SAAS,QAAQ,iCAAiC;AAC3D,OAAO,MAAMC,UAAU,CAAC;EACpBC,WAAWA,CAACC,KAAK,EAAEC,KAAK,EAAEC,KAAK,EAAEC,QAAQ,EAAE;IACvC,IAAI,CAACH,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACC,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACC,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACC,QAAQ,GAAGA,QAAQ;IACxB;AACR;AACA;AACA;IACQ,IAAI,CAACC,gBAAgB,GAAG,IAAI;EAChC;EACAC,qBAAqBA,CAACC,MAAM,EAAE;IAC1B,OAAQA,MAAM,CAACC,IAAI,KAAK,CAAC,CAAC,+BACnB,IAAI,CAACN,KAAK,CAACO,WAAW,IAAIF,MAAM,CAACL,KAAK,CAACO,WAAW,IAClD,IAAI,CAACP,KAAK,CAACQ,SAAS,IAAIH,MAAM,CAACL,KAAK,CAACQ,SAAS;EACzD;AACJ;AACA,IAAIC,qBAAqB,GAAG,MAAMA,qBAAqB,CAAC;EACpDX,WAAWA,CAACY,OAAO,EAAEC,aAAa,EAAE;IAChC,IAAI,CAACD,OAAO,GAAGA,OAAO;IACtB,IAAI,CAACC,aAAa,GAAGA,aAAa;IAClC,IAAI,CAACC,YAAY,GAAG,CAAC;EACzB;EACAC,WAAWA,CAACC,OAAO,EAAEC,gBAAgB,EAAE;IACnC,OAAO,EAAE;EACb;EACAC,YAAYA,CAACX,MAAM,EAAEY,eAAe,EAAEC,KAAK,EAAE;IACzC,OAAOnC,mBAAmB,CAACoC,WAAW,CAAC,IAAI,CAACC,aAAa,CAACf,MAAM,EAAEY,eAAe,EAAEC,KAAK,CAAC,CAAC;EAC9F;EACAE,aAAaA,CAACN,OAAO,EAAEG,eAAe,EAAEI,MAAM,EAAE;IAC5C,OAAOzD,SAAS,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,aAAa;MAChD,IAAI,CAAC,IAAI,CAAC8C,OAAO,CAACY,QAAQ,CAAC,CAAC,EAAE;QAC1B,OAAO,EAAE;MACb;MACA,MAAMC,aAAa,GAAG/B,aAAa,CAACgC,GAAG,CAAC,IAAI,CAACd,OAAO,CAAC;MACrD,IAAI,CAACa,aAAa,EAAE;QAChB,OAAO,EAAE;MACb;MACA,KAAK,MAAMnE,CAAC,IAAI6D,eAAe,EAAE;QAC7B,IAAI,CAACM,aAAa,CAACE,iBAAiB,CAACrE,CAAC,CAAC,EAAE;UACrC;QACJ;QACA,MAAMsE,SAAS,GAAGH,aAAa,CAACI,YAAY,CAACvE,CAAC,CAAC4C,KAAK,CAAC4B,gBAAgB,CAAC,CAAC,CAAC;QACxE,IAAIF,SAAS,EAAE;UACX,MAAMG,UAAU,GAAG,MAAMC,iBAAiB,CAAC,IAAI,EAAE,IAAI,CAACpB,OAAO,CAACqB,QAAQ,CAAC,CAAC,EAAEL,SAAS,CAACM,SAAS,EAAEN,SAAS,CAACxB,QAAQ,CAAC;UAClH,OAAO,CAAC2B,UAAU,CAAC;QACvB;MACJ;MACA,OAAO,EAAE;IACb,CAAC,CAAC;EACN;EACAI,gBAAgBA,CAACC,OAAO,EAAEC,UAAU,EAAE;IAClC,OAAOF,gBAAgB,CAAC,IAAI,EAAE,IAAI,CAACvB,OAAO,EAAE,IAAI,CAACC,aAAa,EAAEwB,UAAU,EAAED,OAAO,CAAC;EACxF;AACJ,CAAC;AACDzB,qBAAqB,GAAGhE,UAAU,CAAC,CAC/BgB,OAAO,CAAC,CAAC,EAAEkC,aAAa,CAAC,CAC5B,EAAEc,qBAAqB,CAAC;AACzB,SAASA,qBAAqB;AAC9B,OAAO,MAAM2B,0BAA0B,CAAC;EACpCtC,WAAWA,CAACC,KAAK,EAAEC,KAAK,EAAEC,KAAK,EAAEC,QAAQ,EAAE;IACvC,IAAI,CAACH,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACC,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACC,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACC,QAAQ,GAAGA,QAAQ;EAC5B;AACJ;AACA,IAAImC,gCAAgC,GAAG,MAAMA,gCAAgC,CAAC;EAC1EvC,WAAWA,CAACY,OAAO,EAAEC,aAAa,EAAE;IAChC,IAAI,CAACD,OAAO,GAAGA,OAAO;IACtB,IAAI,CAACC,aAAa,GAAGA,aAAa;IAClC,IAAI,CAAC2B,MAAM,GAAG,IAAI;EACtB;EACAC,gBAAgBA,CAACC,gBAAgB,EAAEC,oBAAoB,EAAEC,qBAAqB,EAAE;IAC5E,OAAO9E,SAAS,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,aAAa;MAChD,IAAI,CAAC,IAAI,CAAC8C,OAAO,CAACY,QAAQ,CAAC,CAAC,EAAE;QAC1B,OAAO,IAAI;MACf;MACA,MAAMC,aAAa,GAAG/B,aAAa,CAACgC,GAAG,CAAC,IAAI,CAACd,OAAO,CAAC;MACrD,IAAI,CAACa,aAAa,EAAE;QAChB,OAAO,IAAI;MACf;MACA,MAAMoB,MAAM,GAAG,MAAMpD,SAAS,CAACmD,qBAAqB,EAAE,IAAI,CAAChC,OAAO,CAACqB,QAAQ,CAAC,CAAC,EAAE/C,iBAAiB,CAAC4D,IAAI,CAAC;MACtG,IAAIC,cAAc,GAAG,IAAI;MACzB,IAAIC,kBAAkB,GAAG,IAAI;MAC7B,KAAK,MAAMpB,SAAS,IAAIiB,MAAM,EAAE;QAC5B,MAAMX,SAAS,GAAGN,SAAS,CAACM,SAAS;QACrC,IAAI3C,KAAK,CAAC0D,aAAa,CAACf,SAAS,CAAChC,KAAK,EAAEwC,gBAAgB,CAACxC,KAAK,CAAC,EAAE;UAC9D6C,cAAc,GAAGb,SAAS;UAC1Bc,kBAAkB,GAAGpB,SAAS,CAACxB,QAAQ;QAC3C;MACJ;MACA,MAAM8B,SAAS,GAAGa,cAAc,KAAK,IAAI,IAAIA,cAAc,KAAK,KAAK,CAAC,GAAGA,cAAc,GAAGL,gBAAgB;MAC1G,MAAMQ,aAAa,GAAGF,kBAAkB,KAAK,IAAI,IAAIA,kBAAkB,KAAK,KAAK,CAAC,GAAGA,kBAAkB,GAAGL,oBAAoB;MAC9H,MAAMQ,aAAa,GAAG,CAAC,CAACJ,cAAc;MACtC,OAAO;QAAEhB,UAAU,EAAE,MAAMC,iBAAiB,CAAC,IAAI,EAAE,IAAI,CAACpB,OAAO,CAACqB,QAAQ,CAAC,CAAC,EAAEC,SAAS,EAAEgB,aAAa,CAAC;QAAEC,aAAa,EAAEA;MAAc,CAAC;IACzI,CAAC,CAAC;EACN;EACAC,iBAAiBA,CAACC,cAAc,EAAE;IAC9B,OAAOvF,SAAS,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,aAAa;MAChD,IAAI,CAAC,IAAI,CAAC8C,OAAO,CAACY,QAAQ,CAAC,CAAC,EAAE;QAC1B;MACJ;MACA,MAAM8B,gBAAgB,GAAGD,cAAc,CAAClD,KAAK;MAC7C,IAAID,KAAK,GAAG,IAAIX,KAAK,CAAC8D,cAAc,CAACnD,KAAK,CAACqD,eAAe,EAAEF,cAAc,CAACnD,KAAK,CAACO,WAAW,EAAE4C,cAAc,CAACnD,KAAK,CAACsD,aAAa,EAAEH,cAAc,CAACnD,KAAK,CAACQ,SAAS,CAAC;MACjK,IAAI,IAAI,CAAC8B,MAAM,EAAE;QACb,MAAMiB,yBAAyB,CAAC,IAAI,CAAC7C,OAAO,CAACqB,QAAQ,CAAC,CAAC,EAAEqB,gBAAgB,EAAE,IAAI,CAACd,MAAM,EAAEtC,KAAK,EAAEmD,cAAc,CAAC;QAC9GnD,KAAK,GAAGwD,kBAAkB,CAAC,IAAI,CAAC9C,OAAO,EAAEV,KAAK,EAAEoD,gBAAgB,CAAC;MACrE;IACJ,CAAC,CAAC;EACN;EACAnB,gBAAgBA,CAACC,OAAO,EAAEC,UAAU,EAAE;IAClC,OAAOF,gBAAgB,CAAC,IAAI,EAAE,IAAI,CAACvB,OAAO,EAAE,IAAI,CAACC,aAAa,EAAEwB,UAAU,EAAED,OAAO,CAAC;EACxF;EACA,IAAIuB,KAAKA,CAACA,KAAK,EAAE;IACb,IAAI,CAACnB,MAAM,GAAGmB,KAAK;EACvB;EACA,IAAIA,KAAKA,CAAA,EAAG;IACR,OAAO,IAAI,CAACnB,MAAM;EACtB;AACJ,CAAC;AACDD,gCAAgC,GAAG5F,UAAU,CAAC,CAC1CgB,OAAO,CAAC,CAAC,EAAEkC,aAAa,CAAC,CAC5B,EAAE0C,gCAAgC,CAAC;AACpC,SAASA,gCAAgC;AACzC,SAASP,iBAAiBA,CAAC4B,WAAW,EAAEC,WAAW,EAAE3B,SAAS,EAAE9B,QAAQ,EAAE;EACtE,OAAOtC,SAAS,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,aAAa;IAChD,MAAMgG,YAAY,GAAGD,WAAW,CAACE,eAAe,CAAC7B,SAAS,CAAChC,KAAK,CAAC;IACjE,MAAM;MAAE8D,GAAG;MAAEC,KAAK;MAAEC,IAAI;MAAEC;IAAM,CAAC,GAAGjC,SAAS,CAACyB,KAAK;IACnD,MAAMS,IAAI,GAAG,IAAIhF,IAAI,CAACiF,IAAI,CAACC,KAAK,CAACN,GAAG,GAAG,GAAG,CAAC,EAAEK,IAAI,CAACC,KAAK,CAACL,KAAK,GAAG,GAAG,CAAC,EAAEI,IAAI,CAACC,KAAK,CAACJ,IAAI,GAAG,GAAG,CAAC,EAAEC,KAAK,CAAC;IACpG,MAAMR,KAAK,GAAG,IAAIxE,KAAK,CAACiF,IAAI,CAAC;IAC7B,MAAMG,kBAAkB,GAAG,MAAM/E,qBAAqB,CAACqE,WAAW,EAAE3B,SAAS,EAAE9B,QAAQ,EAAElB,iBAAiB,CAAC4D,IAAI,CAAC;IAChH,MAAM3C,KAAK,GAAG,IAAIR,gBAAgB,CAACgE,KAAK,EAAE,EAAE,EAAE,CAAC,CAAC;IAChDxD,KAAK,CAACoE,kBAAkB,GAAGA,kBAAkB,IAAI,EAAE;IACnDpE,KAAK,CAACqE,sBAAsB,CAACb,KAAK,EAAEG,YAAY,CAAC;IACjD,IAAIF,WAAW,YAAYjD,qBAAqB,EAAE;MAC9C,OAAO,IAAIZ,UAAU,CAAC6D,WAAW,EAAErE,KAAK,CAACkF,IAAI,CAACvC,SAAS,CAAChC,KAAK,CAAC,EAAEC,KAAK,EAAEC,QAAQ,CAAC;IACpF,CAAC,MACI;MACD,OAAO,IAAIkC,0BAA0B,CAACsB,WAAW,EAAErE,KAAK,CAACkF,IAAI,CAACvC,SAAS,CAAChC,KAAK,CAAC,EAAEC,KAAK,EAAEC,QAAQ,CAAC;IACpG;EACJ,CAAC,CAAC;AACN;AACA,SAAS+B,gBAAgBA,CAACyB,WAAW,EAAEc,MAAM,EAAEC,YAAY,EAAEtC,UAAU,EAAED,OAAO,EAAE;EAC9E,IAAIC,UAAU,CAACnF,MAAM,KAAK,CAAC,IAAI,CAACwH,MAAM,CAAClD,QAAQ,CAAC,CAAC,EAAE;IAC/C,OAAOnC,UAAU,CAACyD,IAAI;EAC1B;EACA,IAAIV,OAAO,CAACwC,oBAAoB,EAAE;IAC9B,MAAMC,aAAa,GAAGH,MAAM,CAACI,SAAS,CAAC,EAAE,CAAC,6BAA6B,CAAC,GAAG,CAAC;IAC5E1C,OAAO,CAACwC,oBAAoB,CAAC,IAAI9E,SAAS,CAAC,GAAG,EAAE+E,aAAa,CAAC,CAAC;EACnE;EACA,MAAME,WAAW,GAAG,IAAIzF,eAAe,CAAC,CAAC;EACzC,MAAMyC,UAAU,GAAGM,UAAU,CAAC,CAAC,CAAC;EAChC,MAAMwB,WAAW,GAAGa,MAAM,CAACzC,QAAQ,CAAC,CAAC;EACrC,MAAM9B,KAAK,GAAG4B,UAAU,CAAC5B,KAAK;EAC9B,MAAM6E,MAAM,GAAGD,WAAW,CAACE,GAAG,CAAC,IAAIrF,iBAAiB,CAACwC,OAAO,CAAC8C,QAAQ,EAAE/E,KAAK,EAAEuE,MAAM,CAACI,SAAS,CAAC,GAAG,CAAC,6BAA6B,CAAC,EAAEH,YAAY,EAAEf,WAAW,YAAYrB,gCAAgC,CAAC,CAAC;EAC1MH,OAAO,CAAC+C,cAAc,CAACH,MAAM,CAAC;EAC9B,IAAII,0BAA0B,GAAG,KAAK;EACtC,IAAIlF,KAAK,GAAG,IAAIX,KAAK,CAACwC,UAAU,CAAC7B,KAAK,CAACqD,eAAe,EAAExB,UAAU,CAAC7B,KAAK,CAACO,WAAW,EAAEsB,UAAU,CAAC7B,KAAK,CAACsD,aAAa,EAAEzB,UAAU,CAAC7B,KAAK,CAACQ,SAAS,CAAC;EACjJ,IAAIkD,WAAW,YAAYrB,gCAAgC,EAAE;IACzD,MAAMoB,KAAK,GAAGtB,UAAU,CAAC,CAAC,CAAC,CAAClC,KAAK,CAACwD,KAAK;IACvCC,WAAW,CAACD,KAAK,GAAGA,KAAK;IACzBF,yBAAyB,CAACI,WAAW,EAAE1D,KAAK,EAAEwD,KAAK,EAAEzD,KAAK,EAAE6B,UAAU,CAAC;IACvEgD,WAAW,CAACE,GAAG,CAAC9E,KAAK,CAACkF,cAAc,CAAE1B,KAAK,IAAK;MAC5CC,WAAW,CAACD,KAAK,GAAGA,KAAK;IAC7B,CAAC,CAAC,CAAC;EACP,CAAC,MACI;IACDoB,WAAW,CAACE,GAAG,CAAC9E,KAAK,CAACkF,cAAc,CAAE1B,KAAK,IAAK7F,SAAS,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,aAAa;MACzF,MAAM2F,yBAAyB,CAACI,WAAW,EAAE1D,KAAK,EAAEwD,KAAK,EAAEzD,KAAK,EAAE6B,UAAU,CAAC;MAC7EqD,0BAA0B,GAAG,IAAI;MACjClF,KAAK,GAAGwD,kBAAkB,CAACgB,MAAM,EAAExE,KAAK,EAAEC,KAAK,EAAEiC,OAAO,CAAC;IAC7D,CAAC,CAAC,CAAC,CAAC;EACR;EACA2C,WAAW,CAACE,GAAG,CAAC9E,KAAK,CAACmF,gBAAgB,CAAE3B,KAAK,IAAK;IAC9CF,yBAAyB,CAACI,WAAW,EAAE1D,KAAK,EAAEwD,KAAK,EAAEzD,KAAK,EAAE6B,UAAU,CAAC;EAC3E,CAAC,CAAC,CAAC;EACHgD,WAAW,CAACE,GAAG,CAACP,MAAM,CAACa,uBAAuB,CAAE5G,CAAC,IAAK;IAClD,IAAIyG,0BAA0B,EAAE;MAC5BA,0BAA0B,GAAG,KAAK;IACtC,CAAC,MACI;MACDhD,OAAO,CAACoD,IAAI,CAAC,CAAC;MACdd,MAAM,CAACe,KAAK,CAAC,CAAC;IAClB;EACJ,CAAC,CAAC,CAAC;EACH,OAAOV,WAAW;AACtB;AACA,SAASrB,kBAAkBA,CAACgB,MAAM,EAAExE,KAAK,EAAEC,KAAK,EAAEiC,OAAO,EAAE;EACvD,IAAIsD,SAAS;EACb,IAAIC,QAAQ;EACZ,IAAIxF,KAAK,CAACyF,YAAY,CAACC,QAAQ,EAAE;IAC7BH,SAAS,GAAG,CAACvF,KAAK,CAACyF,YAAY,CAACC,QAAQ,CAAC;IACzCF,QAAQ,GAAG,IAAIpG,KAAK,CAACY,KAAK,CAACyF,YAAY,CAACC,QAAQ,CAAC3F,KAAK,CAACqD,eAAe,EAAEpD,KAAK,CAACyF,YAAY,CAACC,QAAQ,CAAC3F,KAAK,CAACO,WAAW,EAAEN,KAAK,CAACyF,YAAY,CAACC,QAAQ,CAAC3F,KAAK,CAACsD,aAAa,EAAErD,KAAK,CAACyF,YAAY,CAACC,QAAQ,CAAC3F,KAAK,CAACQ,SAAS,CAAC;IACpN,MAAMoF,YAAY,GAAGpB,MAAM,CAACzC,QAAQ,CAAC,CAAC,CAAC8D,gBAAgB,CAAC,IAAI,EAAEJ,QAAQ,EAAE,CAAC,CAAC,qDAAqD,CAAC;IAChIjB,MAAM,CAACsB,YAAY,CAAC,CAAC;IACrBtB,MAAM,CAACuB,YAAY,CAAC,aAAa,EAAEP,SAAS,CAAC;IAC7CC,QAAQ,GAAGjB,MAAM,CAACzC,QAAQ,CAAC,CAAC,CAACiE,gBAAgB,CAACJ,YAAY,CAAC,IAAIH,QAAQ;EAC3E,CAAC,MACI;IACDD,SAAS,GAAG,CAAC;MAAExF,KAAK;MAAEiG,IAAI,EAAEhG,KAAK,CAACyF,YAAY,CAACQ,KAAK;MAAEC,gBAAgB,EAAE;IAAM,CAAC,CAAC;IAChFV,QAAQ,GAAGzF,KAAK,CAACoG,cAAc,CAACpG,KAAK,CAACsD,aAAa,EAAEtD,KAAK,CAACO,WAAW,GAAGN,KAAK,CAACyF,YAAY,CAACQ,KAAK,CAAClJ,MAAM,CAAC;IACzGwH,MAAM,CAACsB,YAAY,CAAC,CAAC;IACrBtB,MAAM,CAACuB,YAAY,CAAC,aAAa,EAAEP,SAAS,CAAC;EACjD;EACA,IAAIvF,KAAK,CAACyF,YAAY,CAACW,mBAAmB,EAAE;IACxCb,SAAS,GAAG,CAAC,GAAGvF,KAAK,CAACyF,YAAY,CAACW,mBAAmB,CAAC;IACvD7B,MAAM,CAACuB,YAAY,CAAC,aAAa,EAAEP,SAAS,CAAC;IAC7C,IAAItD,OAAO,EAAE;MACTA,OAAO,CAACoD,IAAI,CAAC,CAAC;IAClB;EACJ;EACAd,MAAM,CAACsB,YAAY,CAAC,CAAC;EACrB,OAAOL,QAAQ;AACnB;AACA,SAASlC,yBAAyBA,CAACI,WAAW,EAAEP,gBAAgB,EAAEK,KAAK,EAAEzD,KAAK,EAAE6B,UAAU,EAAE;EACxF,OAAOjE,SAAS,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,aAAa;IAChD,MAAMyG,kBAAkB,GAAG,MAAM/E,qBAAqB,CAACqE,WAAW,EAAE;MAChE3D,KAAK,EAAEA,KAAK;MACZyD,KAAK,EAAE;QACHK,GAAG,EAAEL,KAAK,CAACS,IAAI,CAACjH,CAAC,GAAG,GAAG;QACvB8G,KAAK,EAAEN,KAAK,CAACS,IAAI,CAACoC,CAAC,GAAG,GAAG;QACzBtC,IAAI,EAAEP,KAAK,CAACS,IAAI,CAACqC,CAAC,GAAG,GAAG;QACxBtC,KAAK,EAAER,KAAK,CAACS,IAAI,CAACsC;MACtB;IACJ,CAAC,EAAE3E,UAAU,CAAC3B,QAAQ,EAAElB,iBAAiB,CAAC4D,IAAI,CAAC;IAC/CQ,gBAAgB,CAACiB,kBAAkB,GAAGA,kBAAkB,IAAI,EAAE;EAClE,CAAC,CAAC;AACN"},"metadata":{},"sourceType":"module","externalDependencies":[]}